(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,41942,e=>{"use strict";let t,r,a,n;e.s([],92469),e.i(92469);var i,s,o,l,c,u,d,p,m,h,f,y,b,g,w,v,j,I,E,M,k,x,P,A,C,R,S,O,N,z,_,D,T,q,U,B,L,$,F,K,H,Y,W,V,Q,G,Z,J,X,ee,et,er,ea,en,ei,es,eo,el,ec,eu,ed,ep,em,eh,ef,ey,eb,eg,ew,ev,ej,eI,eE,eM,ek,ex,eP,eA,eC,eR,eS,eO,eN,ez,e_,eD,eT,eq,eU,eB,eL,e$,eF,eK,eH,eY,eW,eV,eQ,eG,eZ,eJ,eX,e0,e1,e2,e6,e5,e4,e3,e8,e9,e7,te,tt,tr,ta,tn,ti,ts,to,tl,tc,tu,td,tp,tm,th,tf,ty,tb,tg,tw,tv,tj,tI,tE,tM,tk,tx=e.i(38463);let tP=(0,tx.defineChain)({id:31337,name:"Anvil",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["http://127.0.0.1:8545"],webSocket:["ws://127.0.0.1:8545"]}}});e.s([],49284),e.i(49284);let tA=(0,tx.defineChain)({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockTime:250,rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),tC=(0,tx.defineChain)({id:421614,name:"Arbitrum Sepolia",blockTime:250,nativeCurrency:{name:"Arbitrum Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia-rollup.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://sepolia.arbiscan.io",apiUrl:"https://api-sepolia.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:81930}},testnet:!0});var tR=e.i(97197),tS=e.i(86479);let tO=(0,tx.defineChain)({...tS.chainConfig,id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://sepolia.basescan.org",apiUrl:"https://api-sepolia.basescan.org/api"}},contracts:{...tS.chainConfig.contracts,disputeGameFactory:{0xaa36a7:{address:"0xd6E6dBf4F7EA0ac412fD8b65ED297e64BB7a06E1"}},l2OutputOracle:{0xaa36a7:{address:"0x84457ca9D0163FbC4bbfe4Dfbb20ba46e48DF254"}},portal:{0xaa36a7:{address:"0x49f53e41452c74589e85ca1677426ba426459e85",blockCreated:4446677}},l1StandardBridge:{0xaa36a7:{address:"0xfd0Bf71F60660E2f608ed56e1659C450eB113120",blockCreated:4446677}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1059647}},testnet:!0,sourceId:0xaa36a7});({...tO,experimental_preconfirmationTime:200,rpcUrls:{default:{http:["https://sepolia-preconf.base.org"]}}});let tN=(0,tx.defineChain)({id:80094,name:"Berachain",blockTime:2e3,nativeCurrency:{decimals:18,name:"BERA Token",symbol:"BERA"},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0},ensRegistry:{address:"0x5b22280886a2f5e09a49bea7e320eab0e5320e28",blockCreated:877007},ensUniversalResolver:{address:"0x4D41762915F83c76EcaF6776d9b08076aA32b492",blockCreated:9310021}},rpcUrls:{default:{http:["https://rpc.berachain.com"]}},blockExplorers:{default:{name:"Berascan",url:"https://berascan.com"}},ensTlds:[".bera"],testnet:!1}),tz=(0,tx.defineChain)({id:80069,blockTime:2e3,name:"Berachain Bepolia",nativeCurrency:{decimals:18,name:"BERA Token",symbol:"BERA"},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0}},rpcUrls:{default:{http:["https://bepolia.rpc.berachain.com"]}},blockExplorers:{default:{name:"Berascan",url:"https://bepolia.beratrail.io"}},testnet:!0}),t_=(0,tx.defineChain)({id:56,name:"BNB Smart Chain",blockTime:750,nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0xf2f12c}}});var tD=e.i(92652);async function tT(e,t){return BigInt(await e.request({method:"eth_gasPrice",params:[t]}))}async function tq(e,t){return BigInt(await e.request({method:"eth_maxPriorityFeePerGas",params:[t]}))}var tU=e.i(50323),tB=e.i(57874),tL=e.i(82191),t$=e.i(90521),tF=e.i(8406);function tK(e){return 0===e||0n===e||null==e||"0"===e||""===e||"string"==typeof e&&("0x"===(0,tF.trim)(e).toLowerCase()||"0x00"===(0,tF.trim)(e).toLowerCase())}function tH(e){return"cip64"===e.type||void 0!==e.maxFeePerGas&&void 0!==e.maxPriorityFeePerGas&&!tK(e.feeCurrency)}let tY={block:(0,tB.defineBlock)({format:e=>({transactions:e.transactions?.map(e=>"string"==typeof e?e:{...(0,tL.formatTransaction)(e),...e.gatewayFee?{gatewayFee:(0,tU.hexToBigInt)(e.gatewayFee),gatewayFeeRecipient:e.gatewayFeeRecipient}:{},feeCurrency:e.feeCurrency})})}),transaction:(0,tL.defineTransaction)({format(e){if("0x7e"===e.type)return{isSystemTx:e.isSystemTx,mint:e.mint?(0,tU.hexToBigInt)(e.mint):void 0,sourceHash:e.sourceHash,type:"deposit"};let t={feeCurrency:e.feeCurrency};return"0x7b"===e.type?t.type="cip64":("0x7c"===e.type&&(t.type="cip42"),t.gatewayFee=e.gatewayFee?(0,tU.hexToBigInt)(e.gatewayFee):null,t.gatewayFeeRecipient=e.gatewayFeeRecipient),t}}),transactionRequest:(0,t$.defineTransactionRequest)({format(e){let t={};return e.feeCurrency&&(t.feeCurrency=e.feeCurrency),tH(e)&&(t.type="0x7b"),t}})};var tW=e.i(74768),tV=e.i(8861),tQ=e.i(69934),tG=e.i(5880),tZ=e.i(53532),tJ=e.i(79991),tX=e.i(96516),t0=e.i(47526),t1=e.i(75107),t2=e.i(70326),t6=e.i(21490),t5=e.i(66816);let t4=tW.maxUint256,t3={blockTime:1e3,contracts:tD.contracts,formatters:tY,serializers:{transaction:function(e,t){return tH(e)?function(e,t){!function(e){let{chainId:t,maxPriorityFeePerGas:r,gasPrice:a,maxFeePerGas:n,to:i,feeCurrency:s}=e;if(t<=0)throw new tG.InvalidChainIdError({chainId:t});if(i&&!(0,tX.isAddress)(i))throw new tV.InvalidAddressError({address:i});if(a)throw new tQ.BaseError("`gasPrice` is not a valid CIP-64 Transaction attribute.");if(!tK(n)&&n>t4)throw new tZ.FeeCapTooHighError({maxFeePerGas:n});if(!tK(r)&&!tK(n)&&r>n)throw new tZ.TipAboveFeeCapError({maxFeePerGas:n,maxPriorityFeePerGas:r});if(!tK(s)&&!(0,tX.isAddress)(s))throw new tQ.BaseError("`feeCurrency` MUST be a token address for CIP-64 transactions.");if(tK(s))throw new tQ.BaseError("`feeCurrency` must be provided for CIP-64 transactions.")}(e);let{chainId:r,gas:a,nonce:n,to:i,value:s,maxFeePerGas:o,maxPriorityFeePerGas:l,accessList:c,feeCurrency:u,data:d}=e,p=[(0,t1.toHex)(r),n?(0,t1.toHex)(n):"0x",l?(0,t1.toHex)(l):"0x",o?(0,t1.toHex)(o):"0x",a?(0,t1.toHex)(a):"0x",i??"0x",s?(0,t1.toHex)(s):"0x",d??"0x",(0,t6.serializeAccessList)(c),u,...(0,t5.toYParitySignatureArray)(e,t)];return(0,t0.concatHex)(["0x7b",(0,t2.toRlp)(p)])}(e,t):(0,tJ.serializeTransaction)(e,t)}},fees:{estimateFeesPerGas:async e=>{if(!e.request?.feeCurrency)return null;let[t,r]=await Promise.all([tT(e.client,e.request.feeCurrency),tq(e.client,e.request.feeCurrency)]);return{maxFeePerGas:e.multiply(t-r)+r,maxPriorityFeePerGas:r}}}},t8=(0,tx.defineChain)({...t3,id:42220,name:"Celo",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://forno.celo.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://celoscan.io",apiUrl:"https://api.celoscan.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0xc81517}},testnet:!1}),t9=(0,tx.defineChain)({id:100,name:"Gnosis",nativeCurrency:{decimals:18,name:"xDAI",symbol:"XDAI"},blockTime:5e3,rpcUrls:{default:{http:["https://rpc.gnosischain.com"],webSocket:["wss://rpc.gnosischain.com/wss"]}},blockExplorers:{default:{name:"Gnosisscan",url:"https://gnosisscan.io",apiUrl:"https://api.gnosisscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0x140c71b}}}),t7=(0,tx.defineChain)({id:560048,name:"Hoodi",nativeCurrency:{name:"Hoodi Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.hoodi.ethpandaops.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://hoodi.etherscan.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:2589}},testnet:!0}),re=(0,tx.defineChain)({id:747474,name:"Katana",network:"katana",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.katana.network"]}},blockExplorers:{default:{name:"katana explorer",url:"https://katanascan.com"}},testnet:!1}),rt=(0,tx.defineChain)({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockTime:12e3,rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:0x16041f6},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0xdb04c1}}}),rr=(0,tx.defineChain)({...tS.chainConfig,id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.optimism.io"]}},blockExplorers:{default:{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io/api"}},contracts:{...tS.chainConfig.contracts,disputeGameFactory:{1:{address:"0xe5965Ab5962eDc7477C8520243A95517CD252fA9"}},l2OutputOracle:{1:{address:"0xdfe97868233d1aa22e815a266982f2cf17685a27"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263},portal:{1:{address:"0xbEb5Fc579115071764c7423A4f12eDde41f106Ed"}},l1StandardBridge:{1:{address:"0x99C9fc46f92E8a1c0deC1b1747d010903E884bE1"}}},sourceId:1}),ra=(0,tx.defineChain)({...tS.chainConfig,id:0xaa37dc,name:"OP Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.optimism.io"]}},blockExplorers:{default:{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com",apiUrl:"https://optimism-sepolia.blockscout.com/api"}},contracts:{...tS.chainConfig.contracts,disputeGameFactory:{0xaa36a7:{address:"0x05F9613aDB30026FFd634f38e5C4dFd30a197Fa1"}},l2OutputOracle:{0xaa36a7:{address:"0x90E9c4f8a994a250F6aEfd61CAFb4F2e895D458F"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1620204},portal:{0xaa36a7:{address:"0x16Fc5058F25648194471939df75CF27A2fdC48BC"}},l1StandardBridge:{0xaa36a7:{address:"0xFBb0621E0B23b5478B630BD55a5f21f67730B0F1"}}},testnet:!0,sourceId:0xaa36a7}),rn=(0,tx.defineChain)({id:137,name:"Polygon",blockTime:2e3,nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.etherscan.io/v2/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0x18938b0}}}),ri=(0,tx.defineChain)({id:0xaa36a7,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://11155111.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:8928790}},testnet:!0});e.s(["arbitrum",0,tA,"arbitrumSepolia",0,tC,"base",()=>tR.base,"baseSepolia",0,tO,"berachain",0,tN,"berachainBepolia",0,tz,"bsc",0,t_,"celo",0,t8,"gnosis",0,t9,"hoodi",0,t7,"katana",0,re,"mainnet",0,rt,"optimism",0,rr,"optimismSepolia",0,ra,"polygon",0,rn,"sepolia",0,ri],2249);var rs=e.i(2249);let ro=[rs.base,...Object.values(rs).filter(e=>e&&e.id!==rs.base.id)],rl=(0,tx.defineChain)({...tP,id:31338}),rc=(0,tx.defineChain)({...tP,id:31339});function ru(e){return e===tP.id||e===rl.id||e===rc.id}e.s(["all",0,ro,"anvil",0,tP,"anvil2",0,rl,"anvil3",0,rc,"isAnvil",()=>ru],67160),e.i(67160),e.s(["all",0,ro,"anvil",0,tP,"anvil2",0,rl,"anvil3",0,rc,"arbitrum",0,tA,"arbitrumSepolia",0,tC,"base",()=>tR.base,"baseSepolia",0,tO,"berachain",0,tN,"berachainBepolia",0,tz,"bsc",0,t_,"celo",0,t8,"gnosis",0,t9,"hoodi",0,t7,"isAnvil",()=>ru,"katana",0,re,"mainnet",0,rt,"optimism",0,rr,"optimismSepolia",0,ra,"polygon",0,rn,"sepolia",0,ri],39812);var rd=e.i(39812),rp=e.i(82721);e.i(95932);var rm=e.i(87246),rh=e.i(2376);function rf(e){if(e instanceof Error&&!("code"in e))return new rP({cause:e,data:e,message:e.message,stack:e.stack});let{code:t}=e;return t===rP.code?new rP(e):t===rb.code?new rb(e):t===rx.code?new rx(e):t===rM.code?new rM(e):t===rI.code?new rI(e):t===rk.code?new rk(e):t===rj.code?new rj(e):t===rA.code?new rA(e):t===rg.code?new rg(e):t===rw.code?new rw(e):t===rv.code?new rv(e):t===rE.code?new rE(e):new rP({cause:e instanceof Error?e:void 0,data:e,message:e.message,stack:e instanceof Error?e.stack:void 0})}class ry extends Error{constructor(e){const{cause:t,code:r,message:a,data:n,stack:i}=e;super(a,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.BaseError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stack",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t,this.code=r,this.data=n,this.stack=i??""}}class rb extends ry{constructor(e={}){super({code:rb.code,data:e.data,message:e.message??"Missing or invalid parameters."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidInputError"})}}Object.defineProperty(rb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class rg extends ry{constructor(e={}){super({code:rg.code,data:e.data,message:e.message??"Requested resource not found."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceNotFoundError"})}}Object.defineProperty(rg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class rw extends ry{constructor(e={}){super({code:rw.code,data:e.data,message:e.message??"Requested resource not available."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceUnavailableError"})}}Object.defineProperty(rw,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class rv extends ry{constructor(e={}){super({code:rv.code,data:e.data,message:e.message??"Transaction creation failed."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.TransactionRejectedError"})}}Object.defineProperty(rv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class rj extends ry{constructor(e={}){super({code:rj.code,data:e.data,message:e.message??"Method is not implemented."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotSupportedError"})}}Object.defineProperty(rj,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class rI extends ry{constructor(e={}){super({code:rI.code,data:e.data,message:e.message??"Rate limit exceeded."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.LimitExceededError"})}}Object.defineProperty(rI,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class rE extends ry{constructor(e={}){super({code:rE.code,data:e.data,message:e.message??"JSON-RPC version not supported."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.VersionNotSupportedError"})}}Object.defineProperty(rE,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class rM extends ry{constructor(e={}){super({code:rM.code,data:e.data,message:e.message??"Input is not a valid JSON-RPC request."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidRequestError"})}}Object.defineProperty(rM,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class rk extends ry{constructor(e={}){super({code:rk.code,data:e.data,message:e.message??"Method does not exist."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotFoundError"})}}Object.defineProperty(rk,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class rx extends ry{constructor(e={}){super({code:rx.code,data:e.data,message:e.message??"Invalid method parameters."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidParamsError"})}}Object.defineProperty(rx,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class rP extends ry{constructor(e={}){super({cause:e.cause,code:rP.code,data:e.data,message:e.message??"Internal JSON-RPC error.",stack:e.stack}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InternalError"})}}Object.defineProperty(rP,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class rA extends ry{constructor(e={}){super({code:rA.code,data:e.data,message:e.message??"Failed to parse JSON-RPC response."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ParseError"})}}Object.defineProperty(rA,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class rC extends Error{constructor(e,t){super(t),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=e,this.details=t}}class rR extends rC{constructor({message:e="The user rejected the request."}={}){super(4001,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UserRejectedRequestError"})}}Object.defineProperty(rR,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class rS extends rC{constructor({message:e="The requested method and/or account has not been authorized by the user."}={}){super(4100,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnauthorizedError"})}}Object.defineProperty(rS,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class rO extends rC{constructor({message:e="The provider does not support the requested method."}={}){super(4200,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnsupportedMethodError"})}}Object.defineProperty(rO,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class rN extends rC{constructor({message:e="The provider is disconnected from all chains."}={}){super(4900,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.DisconnectedError"})}}Object.defineProperty(rN,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class rz extends rC{constructor({message:e="The provider is not connected to the requested chain."}={}){super(4901,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.ChainDisconnectedError"})}}Object.defineProperty(rz,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class r_ extends rC{constructor({message:e="An error occurred when attempting to switch chain."}={}){super(4902,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.SwitchChainError"})}}Object.defineProperty(r_,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class rD extends rC{constructor({message:e="This Wallet does not support a capability that was not marked as optional."}={}){super(5700,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnsupportedNonOptionalCapabilityError"})}}Object.defineProperty(rD,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class rT extends rC{constructor({message:e="This Wallet does not support the requested chain ID."}={}){super(5710,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnsupportedChainIdError"})}}Object.defineProperty(rT,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class rq extends rC{constructor({message:e="There is already a bundle submitted with this ID."}={}){super(5720,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.DuplicateIdError"})}}Object.defineProperty(rq,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class rU extends rC{constructor({message:e="This bundle id is unknown / has not been submitted."}={}){super(5730,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnknownBundleIdError"})}}Object.defineProperty(rU,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class rB extends rC{constructor({message:e="The call bundle is too large for the Wallet to process."}={}){super(5740,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.BundleTooLargeError"})}}Object.defineProperty(rB,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class rL extends rC{constructor({message:e="The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."}={}){super(5750,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.AtomicReadyWalletRejectedUpgradeError"})}}Object.defineProperty(rL,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class r$ extends rC{constructor({message:e="The wallet does not support atomic execution but the request requires it."}={}){super(5760,e),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.AtomicityNotSupportedError"})}}function rF(e,t={}){if(!e)throw new rH;return{...e,async request(t){try{let r=await e.request(t);if(r&&"object"==typeof r&&"jsonrpc"in r)return function(e,t={}){let{raw:r=!1}=t;if(r)return e;if(e.error)throw rf(e.error);return e.result}(r);return r}catch(e){throw rK(e)}}}}function rK(e){let t=rf(e);if(t instanceof rP){if(!t.data)return t;let{code:e}=t.data;if(e===rN.code)return new rN(t);if(e===rz.code)return new rz(t);if(e===rR.code)return new rR(t);if(e===rS.code)return new rS(t);if(e===rO.code)return new rO(t);if(e===r_.code)return new r_(t);if(e===rL.code)return new rL(t);if(e===r$.code)return new r$(t);if(e===rB.code)return new rB(t);if(e===rU.code)return new rU(t);if(e===rq.code)return new rq(t);if(e===rT.code)return new rT(t);if(e===rD.code)return new rD(t)}return t}Object.defineProperty(r$,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class rH extends rh.BaseError{constructor(){super("`provider` is undefined."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.IsUndefinedError"})}}var rY=e.i(8131),rW=e.i(11517),rV=e.i(79591),rQ=e.i(49557),rG=e.i(31095),rZ=e.i(1319),rJ=e.i(4434),rX=e.i(70204),r0=e.i(34888),r1=tQ;class r2 extends r1.BaseError{constructor({domain:e}){super(`Invalid domain "${(0,r0.stringify)(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class r6 extends r1.BaseError{constructor({primaryType:e,types:t}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(t))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class r5 extends r1.BaseError{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}var r4=e.i(42692);function r3({data:e,primaryType:t,types:r}){let a=function e({data:t,primaryType:r,types:a}){let n=[{type:"bytes32"}],i=[function({primaryType:e,types:t}){let r=(0,t1.toHex)(function({primaryType:e,types:t}){let r="",a=function e({primaryType:t,types:r},a=new Set){let n=t.match(/^\w*/u),i=n?.[0];if(a.has(i)||void 0===r[i])return a;for(let t of(a.add(i),r[i]))e({primaryType:t.type,types:r},a);return a}({primaryType:e,types:t});for(let n of(a.delete(e),[e,...Array.from(a).sort()]))r+=`${n}(${t[n].map(({name:e,type:t})=>`${t} ${e}`).join(",")})`;return r}({primaryType:e,types:t}));return(0,rG.keccak256)(r)}({primaryType:r,types:a})];for(let s of a[r]){let[r,o]=function t({types:r,name:a,type:n,value:i}){if(void 0!==r[n])return[{type:"bytes32"},(0,rG.keccak256)(e({data:i,primaryType:n,types:r}))];if("bytes"===n)return[{type:"bytes32"},(0,rG.keccak256)(i)];if("string"===n)return[{type:"bytes32"},(0,rG.keccak256)((0,t1.toHex)(i))];if(n.lastIndexOf("]")===n.length-1){let e=n.slice(0,n.lastIndexOf("[")),s=i.map(n=>t({name:a,type:e,types:r,value:n}));return[{type:"bytes32"},(0,rG.keccak256)((0,rJ.encodeAbiParameters)(s.map(([e])=>e),s.map(([,e])=>e)))]}return[{type:n},i]}({types:a,name:s.name,type:s.type,value:t[s.name]});n.push(r),i.push(o)}return(0,rJ.encodeAbiParameters)(n,i)}({data:e,primaryType:t,types:r});return(0,rG.keccak256)(a)}var r8=e.i(92904);function r9(e){let t="string"==typeof e?{address:e}:e,r=t.sign?"privateKey":"porto",{address:a,sign:n,signMessage:i,signTransaction:s,signTypedData:o,type:l}=function(e){if("string"==typeof e){if(!(0,tX.isAddress)(e,{strict:!1}))throw new tV.InvalidAddressError({address:e});return{address:e,type:"json-rpc"}}if(!(0,tX.isAddress)(e.address,{strict:!1}))throw new tV.InvalidAddressError({address:e.address});return{address:e.address,nonceManager:e.nonceManager,sign:e.sign,signAuthorization:e.signAuthorization,signMessage:e.signMessage,signTransaction:e.signTransaction,signTypedData:e.signTypedData,source:"custom",type:"local"}}({address:t.address,sign({hash:e}){if("porto"===r)throw Error("`sign` not supported on porto accounts.");if(!t.sign)throw Error("`sign` not supported.");return t.sign({hash:e})},signMessage({message:e}){let t,r;return this.sign({hash:(0,rG.keccak256)((t="string"==typeof e?(0,t1.stringToHex)(e):"string"==typeof e.raw?e.raw:(0,t1.bytesToHex)(e.raw),r=(0,t1.stringToHex)(`\x19Ethereum Signed Message:
${(0,rZ.size)(t)}`),(0,t0.concat)([r,t])),void 0)})},signTransaction(){throw Error("`signTransaction` not supported on porto accounts.")},signTypedData(e){return this.sign({hash:function(e){let{domain:t={},message:r,primaryType:a}=e,n={EIP712Domain:function({domain:e}){return["string"==typeof e?.name&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},("number"==typeof e?.chainId||"bigint"==typeof e?.chainId)&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}({domain:t}),...e.types};!function(e){let{domain:t,message:r,primaryType:a,types:n}=e,i=(e,t)=>{for(let r of e){let{name:e,type:a}=r,s=t[e],o=a.match(r4.integerRegex);if(o&&("number"==typeof s||"bigint"==typeof s)){let[e,t,r]=o;(0,t1.numberToHex)(s,{signed:"int"===t,size:Number.parseInt(r,10)/8})}if("address"===a&&"string"==typeof s&&!(0,tX.isAddress)(s))throw new tV.InvalidAddressError({address:s});let l=a.match(r4.bytesRegex);if(l){let[e,t]=l;if(t&&(0,rZ.size)(s)!==Number.parseInt(t,10))throw new rX.BytesSizeMismatchError({expectedSize:Number.parseInt(t,10),givenSize:(0,rZ.size)(s)})}let c=n[a];c&&(function(e){if("address"===e||"bool"===e||"string"===e||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new r5({type:e})}(a),i(c,s))}};if(n.EIP712Domain&&t){if("object"!=typeof t)throw new r2({domain:t});i(n.EIP712Domain,t)}if("EIP712Domain"!==a)if(n[a])i(n[a],r);else throw new r6({primaryType:a,types:n})}({domain:t,message:r,primaryType:a,types:n});let i=["0x1901"];return t&&i.push(function({domain:e,types:t}){return r3({data:e,primaryType:"EIP712Domain",types:t})}({domain:t,types:n})),"EIP712Domain"!==a&&i.push(r3({data:r,primaryType:a,types:n})),(0,rG.keccak256)((0,t0.concat)(i))}(e)})}});return{address:a,keys:t.keys??void 0,sign:n,signMessage:i,signTransaction:s,signTypedData:o,source:r,type:l}}function r7(e,t={}){let{keys:r}=t;return r9({address:rY.fromPublicKey(rW.getPublicKey({privateKey:e})),keys:r,sign:async({hash:t})=>rV.toHex(rW.sign({payload:t,privateKey:e})),source:"privateKey"})}function ae(e,t={}){let{key:r,role:a}=t;if(null!==r){if("object"==typeof r)return r;if(e.keys&&e.keys.length>0)return"number"==typeof r?e.keys[r]:e.keys.find(e=>e.privateKey&&(!a||e.role===a))}}async function at(e,t){let{storage:r,replaySafe:a=!0,wrap:n=!0,webAuthn:i}=t,s=ae(e,t),o=a?rQ.getSignPayload({domain:{verifyingContract:e.address},message:{digest:t.payload},primaryType:"ERC1271Sign",types:{ERC1271Sign:[{name:"digest",type:"bytes32"}]}}):t.payload,l=s?({hash:e})=>r8.sign(s,{address:null,payload:e,storage:r,webAuthn:i,wrap:n}):"privateKey"===e.source?e.sign:void 0;if(!l)throw Error("cannot find key to sign with.");return await l({hash:o})}e.s(["from",()=>r9,"fromPrivateKey",()=>r7,"getKey",()=>ae,"sign",()=>at],99882);let ar=function(e={}){let{prefix:t="[Porto]"}=e,r=new Set;return{error:aa(console.error,{prefix:t}),errorOnce:aa(console.error,{memo:r,prefix:t}),log:aa(console.log,{prefix:t}),logOnce:aa(console.log,{memo:r,prefix:t}),warn:aa(console.warn,{prefix:t}),warnOnce:aa(console.warn,{memo:r,prefix:t})}}();function aa(e,t={}){let{memo:r,prefix:a}=t;return(...t)=>{let n=t.join(" ");r?.has(n)||(r?.add(n),e(`${a} ${n}`))}}function an(e){if(Array.isArray(e))return e.map(an);if("function"==typeof e)return;if("object"!=typeof e||null===e)return e;if(Object.getPrototypeOf(e)!==Object.prototype)try{return structuredClone(e)}catch{return}let t={};for(let[r,a]of Object.entries(e))t[r]=an(a);return t}function ai(e,t){let r=[],a=new Set;for(let n of e){let e=t(n);a.has(e)||(a.add(e),r.push(n))}return r}function as(){return"u">typeof globalThis&&"crypto"in globalThis?globalThis.crypto.randomUUID():crypto.randomUUID()}function ao(e,{enabled:t=!0,id:r}){if(!t||!r)return e();if(ao.cache.get(r))return ao.cache.get(r);let a=e().finally(()=>ao.cache.delete(r));return ao.cache.set(r,a),a}function al(e){return e}function ac(e,t={}){let{targetOrigin:r}=t,a=new Map;return{destroy(){for(let t of a.values())e.removeEventListener("message",t)},on(t,n,i){function s(e){e.data.topic!==t||i&&e.data.id!==i||r&&e.origin!==r||n(e.data.payload,e)}return e.addEventListener("message",s),a.set(t,s),()=>e.removeEventListener("message",s)},async send(t,a,n){let i=as();return e.postMessage(an({id:i,payload:a,topic:t}),n??r??"*"),{id:i,payload:a,topic:t}},async sendAsync(e,t,r){let{id:a}=await this.send(e,t,r);return new Promise(t=>this.on(e,t,a))}}}function au(e){let t,r,{from:a,to:n,waitForReady:i=!1}=e,s=!1,o=(t=()=>void 0,r=()=>void 0,{promise:new Promise((e,a)=>{t=e,r=a}),reject:r,resolve:t});a.on("ready",o.resolve);let l={destroy(){a.destroy(),n.destroy(),s&&o.reject()},on:(e,t,r)=>a.on(e,t,r),send:async(e,t)=>(s=!0,i&&await o.promise.finally(()=>s=!1),n.send(e,t)),sendAsync:async(e,t)=>(s=!0,i&&await o.promise.finally(()=>s=!1),n.sendAsync(e,t))};return{...l,ready(e){l.send("ready",e)},waitForReady:()=>o.promise}}function ad(){return{destroy(){},on:()=>()=>{},ready(){},send:()=>Promise.resolve(void 0),sendAsync:()=>Promise.resolve(void 0),waitForReady:()=>Promise.resolve(void 0)}}function ap(e){let{relayUrl:t}=e,r=null,a=new Map;async function n(e,r){let a=as(),n=await fetch(t,{body:rp.stringify({id:a,payload:r,topic:e}),headers:{"Content-Type":"application/json"},method:"POST"});return{id:a,payload:r,response:n,topic:e}}return!function e(){t&&!r&&((r=new EventSource(t)).onmessage=e=>{try{let r=JSON.parse(e.data);if(!r.topic||!r.payload)return;let n=a.get(r.topic);if(!n)return;for(let e of n)e(r.payload,{data:r,origin:t})}catch(e){console.error("Error parsing SSE message:",e)}},r.onerror=t=>{console.error("SSE connection error:",t),r?.close(),r=null,setTimeout(e,1e3)})}(),{destroy(){r?.close(),r=null,a.clear()},on:(e,t)=>(a.has(e)||a.set(e,new Set),a.get(e).add(t),()=>{let r=a.get(e);r&&(r.delete(t),0===r.size&&a.delete(e))}),async ready(e){await new Promise(e=>setTimeout(e,32)),this.send("ready",e)},async send(e,t){let{id:r}=await n(e,t);return{id:r,payload:t,topic:e}},async sendAsync(e,t){let{response:r}=await n(e,t);if(!r.ok)throw Error(`HTTP ${r.status}: ${r.statusText}`);let a=r.headers.get("content-type");if(a?.includes("application/json"))return await r.json()}}}(ao||(ao={})).cache=new Map,e.s(["bridge",()=>au,"cliRelay",()=>ap,"from",()=>al,"fromWindow",()=>ac,"noop",()=>ad],99410);let am={get environment(){if(!t)throw Error("React Native environment is not configured");return t},set environment(env){t=env}};function ah(){return!!("u">typeof navigator&&"ReactNative"===navigator.product||"u">typeof window&&Object.hasOwn(window,"ReactNativeWebView")||"u">typeof globalThis&&Object.hasOwn(globalThis,"HermesEngine"))}let af={local:"http://localhost:5175/dialog/",prod:"https://id.porto.sh/dialog",stg:"https://stg.id.porto.sh/dialog"};function ay(e){return e}function ab(e={}){let{skipProtocolCheck:t,skipUnsupported:r}=e,a=e=>{let t;return!r&&(t=navigator.userAgent.toLowerCase()).includes("safari")&&!t.includes("chrome")&&e?.some(e=>["wallet_connect","eth_requestAccounts"].includes(e.method))};return"u"<typeof window?av():{name:"iframe",setup(e){let r,{host:n,internal:i,theme:s,themeController:o}=e,{store:l}=i,c=ag().setup(e),u=!1,d=new URL(n),p=document.createElement("dialog");p.dataset.porto="",p.setAttribute("role","dialog"),p.setAttribute("aria-closed","true"),p.setAttribute("aria-label","Porto Wallet"),p.setAttribute("hidden","until-found"),Object.assign(p.style,{background:"transparent",border:"0",outline:"0",padding:"0",position:"fixed"}),document.body.appendChild(p);let m=document.createElement("iframe");m.setAttribute("data-testid","porto");let h=["payment",`publickey-credentials-get ${d.origin}`,`publickey-credentials-create ${d.origin}`];(!((r=navigator.userAgent.toLowerCase()).includes("firefox")||r.includes("fxios"))||r.includes("seamonkey"))&&h.push("clipboard-write"),m.setAttribute("allow",h.join("; ")),m.setAttribute("tabindex","0"),m.setAttribute("sandbox","allow-forms allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox"),m.setAttribute("src",aC(n)),m.setAttribute("title","Porto"),Object.assign(m.style,{backgroundColor:"transparent",border:"0",colorScheme:"light dark",height:"100%",left:"0",position:"fixed",top:"0",width:"100%"});let f=document.createElement("style");f.innerHTML=`
        dialog[data-porto]::backdrop {
          background: transparent!important;
        }
      `,p.appendChild(f),p.appendChild(m);let y=au({from:ac(window,{targetOrigin:d.origin}),to:ac(m.contentWindow,{targetOrigin:d.origin}),waitForReady:!0});o?._setup(y,!0);let b=window.matchMedia("(max-width: 460px)"),g=()=>{y.send("__internal",{type:"resize",width:b.matches?460:461})};b.addEventListener("change",g),y.on("ready",t=>{let r=e.internal.store.getState().chainIds.filter(e=>t.chainIds.includes(e));0===r.length&&(r=t.chainIds),l.setState(e=>({...e,chainIds:r})),y.send("__internal",{chainIds:r,mode:"iframe",referrer:ak(),theme:s,type:"init"}),g()}),y.on("rpc-response",e=>{if(a([e._request])){let e=m.src;m.src=e}aP(l,e)}),y.on("account",e=>{aA(l,e)}),y.on("__internal",e=>{"switch"===e.type&&"popup"===e.mode&&(c.open(),c.syncRequests(l.getState().requestQueue))});let w=null,v=null,j=()=>ax(l),I=e=>{"Escape"===e.key&&ax(l)},E=new MutationObserver(e=>{for(let t of e){if("attributes"!==t.type)continue;let e=t.attributeName;e&&"inert"===e&&p.removeAttribute(e)}});E.observe(p,{attributeOldValue:!0,attributes:!0});let M=!1,k=()=>{M&&(M=!1,p.removeEventListener("click",j),document.removeEventListener("keydown",I),p.style.pointerEvents="none",v?.focus(),v=null,Object.assign(document.body.style,w??""),document.body.style.overflow=w?.overflow??"")},x=!1,P=()=>{if(x)for(let e of(x=!1,p.setAttribute("hidden","true"),p.setAttribute("aria-closed","true"),p.close(),p.parentNode?Array.from(p.parentNode.children):[]))e!==p&&e.hasAttribute("inert")&&e.removeAttribute("inert")};return{close(){c.close(),u=!1,y.send("__internal",{mode:"iframe",referrer:ak(),type:"init"}),P(),k()},destroy(){c.close(),u=!1,k(),P(),c.destroy(),y.destroy(),p.remove(),E.disconnect(),b.removeEventListener("change",g)},open(){u||(u=!0,x||(x=!0,document.activeElement instanceof HTMLElement&&(v=document.activeElement),p.removeAttribute("hidden"),p.removeAttribute("aria-closed"),p.showModal()),M||(M=!0,p.addEventListener("click",j),document.addEventListener("keydown",I),m.focus(),p.style.pointerEvents="auto",w=Object.assign({},document.body.style),document.body.style.overflow="hidden"),y.send("__internal",{mode:"iframe",referrer:ak(),type:"init"}))},async secure(){let{trustedHosts:e}=await y.waitForReady(),r=(()=>{if(t)return!0;let e=window.location.protocol.startsWith("https");return e||ar.warnOnce("Detected insecure protocol (HTTP).",`

The Porto iframe is not supported on HTTP origins (${window.location.origin})`,"due to lack of WebAuthn support.","See https://porto.sh/sdk#secure-origins-https for more information."),e})(),a="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in IntersectionObserverEntry.prototype&&"isVisible"in IntersectionObserverEntry.prototype,n=!!e?.includes(window.location.hostname),i=!!(a||n);return i||ar.warnOnce(`Warning: Browser does not support IntersectionObserver v2 or host "${d.hostname}" is not trusted by Porto.
This may result in the dialog falling back to a popup.

Add "${d.hostname}" to the trusted hosts list to enable iframe dialog: https://github.com/ithacaxyz/porto/edit/main/src/trusted-hosts.ts`),{frame:i,host:n,protocol:r}},async syncRequests(e){let{methodPolicies:t}=await y.waitForReady(),r=await this.secure(),n=e?.every(e=>t?.find(t=>t.method===e.request.method)?.modes?.headless===!0),i=a(e.map(e=>e.request));if(n||!i&&r.protocol&&r.frame){let r=e.some(e=>aM(e.request,{methodPolicies:t,targetOrigin:d.origin}));!u&&r&&this.open(),y.send("rpc-requests",e)}else c.syncRequests(e)}}},supportsHeadless:!0}}function ag(e={}){if("u"<typeof window)return av();let{type:t="auto",size:r=aE}=e;return{name:"popup",setup(e){let a,n,{host:i,internal:s,themeController:o}=e,{store:l}=s,c=new URL(i),u=null,d="page"===t||"auto"===t&&(window.navigator?.userAgentData?.mobile||navigator.maxTouchPoints>1||/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(navigator.userAgent.slice(0,4)))?"page":"popup";function p(){u&&ax(l)}let m=(n=setInterval(()=>{u?.closed&&ax(l)},100),()=>clearInterval(n));return o?._setup(null,!0),{close(){u&&(u.close(),u=null)},destroy(){this.close(),window.removeEventListener("focus",p),a?.destroy(),m()},open(){if("popup"===d){let e=(window.innerWidth-r.width)/2+window.screenX,t=window.screenY+100;u=window.open(aC(i),"_blank",`width=${r.width},height=${r.height},left=${e},top=${t}`)}else u=window.open(aC(i),"_blank");if(!u)throw Error("Failed to open popup");a=au({from:ac(window,{targetOrigin:c.origin}),to:ac(u,{targetOrigin:c.origin}),waitForReady:!0}),o?._setup(a,!1),a.send("__internal",{mode:"page"===d?"page":"popup",referrer:ak(),theme:o?.getTheme()??e.theme,type:"init"}),a.on("rpc-response",e=>aP(l,e)),a.on("account",e=>{aA(l,e)}),window.removeEventListener("focus",p),window.addEventListener("focus",p)},secure:async()=>({frame:!0,host:!0,protocol:!0}),async syncRequests(e){e.some(e=>aM(e.request))&&((!u||u.closed)&&this.open(),u?.focus()),a?.send("rpc-requests",e)}}},supportsHeadless:!1}}function aw(e={}){if(!ah())return av();let{requestOptions:t={showTitle:!0}}=e;return{name:"authSession",setup(r){let{host:a,internal:n}=r,{store:i}=n,s=am.environment;s.maybeCompleteAuthSession?.();let o=!1,l=null;async function c(r){let{request:n}=r,o={account_verifyEmail:"account_verifyEmail",eth_requestAccounts:"eth_requestAccounts",eth_sendTransaction:"eth_sendTransaction",eth_signTypedData_v4:"eth_signTypedData_v4",personal_sign:"personal_sign",wallet_addFunds:"wallet_addFunds",wallet_connect:"wallet_connect",wallet_getAccountVersion:"wallet_getAccountVersion",wallet_getAssets:"wallet_getAssets",wallet_getCallsHistory:"wallet_getCallsHistory",wallet_getCallsStatus:"wallet_getCallsStatus",wallet_getCapabilities:"wallet_getCapabilities",wallet_getKeys:"wallet_getKeys",wallet_getPermissions:"wallet_getPermissions",wallet_grantAdmin:"wallet_grantAdmin",wallet_grantPermissions:"wallet_grantPermissions",wallet_prepareCalls:"wallet_prepareCalls",wallet_prepareUpgradeAccount:"wallet_prepareUpgradeAccount",wallet_revokeAdmin:"wallet_revokeAdmin",wallet_revokePermissions:"wallet_revokePermissions",wallet_sendCalls:"wallet_sendCalls",wallet_sendPreparedCalls:"wallet_sendPreparedCalls",wallet_switchEthereumChain:"wallet_switchEthereumChain",wallet_verifySignature:"wallet_verifySignature"}[n.method];if(!o)throw new rO({message:`Method not supported in Mode.reactNative(): ${n.method}`});let l=s.makeRedirectUri({...e.redirectUri?{scheme:e.redirectUri.scheme}:{},path:e.redirectUri?.path??"/",preferLocalhost:"boolean"==typeof __DEV__&&__DEV__}),c=new URL(a);c.pathname=`${c.pathname.replace(/\/$/,"")}/${o}`;let u=new URLSearchParams({id:String(n.id),jsonrpc:"2.0",method:n.method,redirectUri:l}),d=n.params??[];d.length>0&&u.set("params",rp.stringify(d));let p=n._decoded?.params;p&&u.set("_decoded",rp.stringify(p)),c.search=u.toString();let m=await s.openAuthSessionAsync(c.toString(),l,t);aP(i,(()=>{if("success"===m.type&&m.url){let e=new URL(m.url),t=e.searchParams.get("status")??"unknown",r=e.searchParams.get("message")??void 0,a=e.searchParams.get("payload")??void 0;if("success"===t)try{return{id:n.id,jsonrpc:"2.0",result:a?rp.parse(a):void 0}}catch(e){return{error:{code:-32603,message:e instanceof Error?e.message:"Failed to parse redirect payload"},id:n.id,jsonrpc:"2.0"}}let i="cancel"===t?new rR({message:r??"User rejected request"}):new rC(-32603,r??t??"Request failed");return{error:{code:i.code,message:i.message},id:n.id,jsonrpc:"2.0"}}return"cancel"===m.type||"dismiss"===m.type?{error:{code:rR.code,message:"User rejected request"},id:n.id,jsonrpc:"2.0"}:{error:{code:-32603,message:m.error??"Request failed"},id:n.id,jsonrpc:"2.0"}})()),s.dismissAuthSession?.()}return{close(){s.dismissAuthSession?.()},destroy(){s.dismissAuthSession?.()},open(){},secure:async()=>({frame:!1,host:!0,protocol:!0}),async syncRequests(e){if(o)return;let[t]=e;if(t&&l!==t.request.id){l=t.request.id,o=!0;try{await c(t)}catch(e){aP(i,{error:{code:-32603,message:e instanceof Error?e.message:"Request failed"},id:t.request.id,jsonrpc:"2.0"}),s.dismissAuthSession?.()}finally{l=null,o=!1}}}}},supportsHeadless:!1}}function av(){return{name:"noop",setup:()=>({close(){},destroy(){},open(){},secure:async()=>({frame:!0,host:!0,protocol:!0}),async syncRequests(){}}),supportsHeadless:!0}}function aj(e){let{element:t}=e;return"u"<typeof window?av():{name:"inline",setup(e){let{host:r,internal:a,theme:n,themeController:i}=e,{store:s}=a,o=!1,l=new URL(r),c=document.createElement("div");c.dataset.porto="",c.style.height="100%",t().appendChild(c);let u=document.createElement("iframe");u.setAttribute("allow",`payment; publickey-credentials-get ${l.origin}; publickey-credentials-create ${l.origin}`),u.setAttribute("aria-label","Porto Wallet"),u.setAttribute("tabindex","0"),u.setAttribute("sandbox","allow-forms allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox"),u.setAttribute("src",aC(r)),u.setAttribute("title","Porto"),Object.assign(u.style,{border:"0",height:"100%",width:"100%"}),c.appendChild(u);let d=au({from:ac(window,{targetOrigin:l.origin}),to:ac(u.contentWindow,{targetOrigin:l.origin}),waitForReady:!0});return i?._setup(d,!0),d.on("ready",()=>{d.send("__internal",{mode:"inline-iframe",referrer:ak(),theme:n,type:"init"})}),d.on("rpc-response",e=>aP(s,e)),d.on("account",e=>{aA(s,e)}),{close(){},destroy(){d.destroy(),c.remove()},open(){o||(o=!0,d.send("__internal",{mode:"iframe",referrer:ak(),type:"init"}))},secure:async()=>({frame:!0,host:!0,protocol:!0}),async syncRequests(e){d.send("rpc-requests",e)}}},supportsHeadless:!0}}function aI(){let e=null,t=null;return{_setup(r,a=!1){a&&(e=null),t=r},getTheme:()=>e,setTheme(r){e=r,t?.send("__internal",{theme:r,type:"set-theme"}).catch(()=>{})}}}let aE={height:282,width:360};function aM(e,t={}){let{methodPolicies:r,targetOrigin:a}=t,n=r?.find(t=>t.method===e.method);return!n||!n.modes?.headless||"object"==typeof n.modes.headless&&!!n.modes.headless.sameOrigin&&a!==window.location.origin}function ak(){let e,t;return{icon:(e=document.querySelector('link[rel="icon"][media="(prefers-color-scheme: dark)"]')?.href,t=document.querySelector('link[rel="icon"][media="(prefers-color-scheme: light)"]')?.href??document.querySelector('link[rel="icon"]')?.href,e&&t&&e!==t?{dark:e,light:t}:window.matchMedia("(prefers-color-scheme: dark)").matches?e:t),title:document.title}}function ax(e){e.setState(e=>({...e,requestQueue:e.requestQueue.map(e=>({account:e.account,error:new rR,request:e.request,status:"error"}))}))}function aP(e,t){e.setState(e=>({...e,requestQueue:e.requestQueue.map(e=>e.request.id!==t.id?e:t.error?{account:e.account,error:t.error,request:e.request,status:"error"}:{account:e.account,request:e.request,result:t.result,status:"success"})}))}function aA(e,t){let{account:r}=t;e.setState(e=>({...e,accounts:[r9({address:r.address,keys:r.capabilities?.admins?.map(e=>r8.from(e))??[]})]}))}function aC(e){let t=new URL(e),r=new URLSearchParams(window.location.search),a="porto.";for(let[e,n]of r.entries())e.startsWith(a)&&t.searchParams.set(e.slice(a.length),n);return t.toString()}e.s(["authSession",()=>aw,"createThemeController",()=>aI,"defaultSize",0,aE,"experimental_inline",()=>aj,"from",()=>ay,"getDialogUrl",()=>aC,"getReferrer",()=>ak,"handleAccount",()=>aA,"handleBlur",()=>ax,"handleResponse",()=>aP,"hostUrls",0,af,"iframe",()=>ab,"noop",()=>av,"popup",()=>ag,"requiresConfirmation",()=>aM],61697);var aR=e.i(61697),aS=e.i(96717),aO=e.i(84251),aN=e.i(23838);let az=new Map,a_=new Map;async function aD(e,{cacheKey:t,cacheTime:r=1/0}){let a,n,i,s=(n=(a=(e,t)=>({clear:()=>t.delete(e),get:()=>t.get(e),set:r=>t.set(e,r)}))(t,az),{clear:()=>{n.clear(),i.clear()},promise:n,response:i=a(t,a_)}),o=s.response.get();if(o&&r>0&&Date.now()-o.created.getTime()<r)return o.data;let l=s.promise.get();l||(l=e(),s.promise.set(l));try{let e=await l;return s.response.set({created:new Date,data:e}),e}finally{s.promise.clear()}}e.i(13819);var aT=e.i(29445),aq=e.i(63771);function aU(e,t={}){return aq.from(e,t)}let aB=aU({inputs:[{name:"message",type:"string"}],name:"Error",type:"error"}),aL=aU({inputs:[{name:"reason",type:"uint8"}],name:"Panic",type:"error"});var a$=e.i(12212),aF=rh,aK=e.i(64336),aH=e.i(25908),aY=e.i(21491),aW=e.i(48084),aV=e.i(34814);function aQ(e,t){if(a6(e)>t)throw new a9({givenSize:a6(e),maxSize:t})}function aG(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function aZ(e,t={}){let{dir:r="left"}=t,a=e,n=0;for(let e=0;e<a.length-1;e++)if("0"===a["left"===r?e:a.length-e-1].toString())n++;else break;return"left"===r?a.slice(n):a.slice(0,a.length-n)}var aJ=e.i(21542),aX=e.i(44328);let a0=new TextDecoder,a1=new TextEncoder;function a2(e,t={}){let{size:r}=t,a=e;r&&(aJ.assertSize(e,r),a=aV.padRight(e,r));let n=a.slice(2);n.length%2&&(n=`0${n}`);let i=n.length/2,s=new Uint8Array(i);for(let e=0,t=0;e<i;e++){let r=aG(n.charCodeAt(t++)),a=aG(n.charCodeAt(t++));if(void 0===r||void 0===a)throw new aW.BaseError(`Invalid byte sequence ("${n[t-2]}${n[t-1]}" in "${n}").`);s[e]=r<<4|a}return s}function a6(e){return e.length}function a5(e,t={}){let{size:r}=t;void 0!==r&&aQ(e,r);let a=aV.fromBytes(e,t);return aV.toNumber(a,t)}function a4(e){return aZ(e,{dir:"left"})}class a3 extends aW.BaseError{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}class a8 extends aW.BaseError{constructor(e){super(`Value \`${"object"==typeof e?aX.stringify(e):e}\` of type \`${typeof e}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}class a9 extends aW.BaseError{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class a7 extends aW.BaseError{constructor({offset:e,position:t,size:r}){super(`Slice ${"start"===t?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SliceOffsetOutOfBoundsError"})}}class ne extends aW.BaseError{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}class nt extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let e=this.keys().next().value;e&&this.delete(e)}return this}}let nr={checksum:new nt(8192)}.checksum;var na=aW,nn=e.i(45535);function ni(e,t={}){var r;let{as:a="string"==typeof e?"Hex":"Bytes"}=t,n=(0,nn.keccak_256)(e instanceof Uint8Array?e:"string"==typeof e?a2(e):(r=e)instanceof Uint8Array?r:new Uint8Array(r));return"Bytes"===a?n:aV.fromBytes(n)}var ns=aW;function no(e,t={}){let{compressed:r}=t,{prefix:a,x:n,y:i}=e;if(!1===r||"bigint"==typeof n&&"bigint"==typeof i){if(4!==a)throw new nu({prefix:a,cause:new np});return}if(!0===r||"bigint"==typeof n&&void 0===i){if(3!==a&&2!==a)throw new nu({prefix:a,cause:new nd});return}throw new nc({publicKey:e})}function nl(e){if(132!==e.length&&130!==e.length&&68!==e.length)throw new nm({publicKey:e});if(130===e.length)return{prefix:4,x:BigInt(aV.slice(e,0,32)),y:BigInt(aV.slice(e,32,64))};if(132===e.length){let t=Number(aV.slice(e,0,1));return{prefix:t,x:BigInt(aV.slice(e,1,33)),y:BigInt(aV.slice(e,33,65))}}return{prefix:Number(aV.slice(e,0,1)),x:BigInt(aV.slice(e,1,33))}}class nc extends ns.BaseError{constructor({publicKey:e}){super(`Value \`${aX.stringify(e)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class nu extends ns.BaseError{constructor({prefix:e,cause:t}){super(`Prefix "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class nd extends ns.BaseError{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class np extends ns.BaseError{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}class nm extends ns.BaseError{constructor({publicKey:e}){super(`Value \`${e}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${aV.size(aV.from(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}let nh=/^0x[a-fA-F0-9]{40}$/;function nf(e,t={}){let{strict:r=!0}=t;if(!nh.test(e))throw new ng({address:e,cause:new nw});if(r){if(e.toLowerCase()===e)return;if(ny(e)!==e)throw new ng({address:e,cause:new nv})}}function ny(e){if(nr.has(e))return nr.get(e);nf(e,{strict:!1});let t=e.substring(2).toLowerCase(),r=ni(function(e,t={}){let{size:r}=t,a=a1.encode(e);return"number"==typeof r?(aQ(a,r),function(e,t={}){let{dir:r,size:a=32}=t;if(0===a)return e;if(e.length>a)throw new ne({size:e.length,targetSize:a,type:"Bytes"});let n=new Uint8Array(a);for(let t=0;t<a;t++){let i="right"===r;n[i?t:a-t-1]=e[i?t:e.length-t-1]}return n}(a,{dir:"right",size:r})):a}(t),{as:"Bytes"}),a=t.split("");for(let e=0;e<40;e+=2)r[e>>1]>>4>=8&&a[e]&&(a[e]=a[e].toUpperCase()),(15&r[e>>1])>=8&&a[e+1]&&(a[e+1]=a[e+1].toUpperCase());let n=`0x${a.join("")}`;return nr.set(e,n),n}function nb(e,t={}){let{strict:r=!0}=t??{};try{return nf(e,{strict:r}),!0}catch{return!1}}class ng extends na.BaseError{constructor({address:e,cause:t}){super(`Address "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class nw extends na.BaseError{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class nv extends na.BaseError{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}var nj=aW;let nI=/^(.*)\[([0-9]*)\]$/,nE=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,nM=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,nk=2n**256n-1n;function nx(e){let t=0;for(let r=0;r<e.length;r++){let{dynamic:a,encoded:n}=e[r];a?t+=32:t+=aV.size(n)}let r=[],a=[],n=0;for(let i=0;i<e.length;i++){let{dynamic:s,encoded:o}=e[i];s?(r.push(aV.fromNumber(t+n,{size:32})),a.push(o),n+=aV.size(o)):r.push(o)}return aV.concat(...r,...a)}function nP(e){let t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function nA(e){let{type:t}=e;if("string"===t||"bytes"===t||t.endsWith("[]"))return!0;if("tuple"===t)return e.components?.some(nA);let r=nP(e.type);return!!(r&&nA({...e,type:r[1]}))}var nC=aW;let nR={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:1/0,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new nz({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new nN({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new nO({offset:e});let t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new nO({offset:e});let t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){let r=t??this.position;return this.assertPosition(r+e-1),this.bytes.subarray(r,r+e)},inspectUint8(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){let t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){let t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){let t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();let r=this.inspectBytes(e);return this.position+=t??e,r},readUint8(){this.assertReadLimit(),this._touch();let e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();let e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();let e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();let e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){let t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===1/0)return;let e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function nS(e,{recursiveReadLimit:t=8192}={}){let r=Object.create(nR);return r.bytes=e,r.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=t,r}class nO extends nC.BaseError{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class nN extends nC.BaseError{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class nz extends nC.BaseError{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function n_(e,t,r={}){let{as:a="Array",checksumAddress:n=!1}=r,i="string"==typeof t?a2(t):t,s=nS(i);if(0===a6(i)&&e.length>0)throw new nB;if(a6(i)&&32>a6(i))throw new nU({data:"string"==typeof t?t:aV.fromBytes(t),parameters:e,size:a6(i)});let o=0,l="Array"===a?[]:{};for(let t=0;t<e.length;++t){let r=e[t];s.setPosition(o);let[i,c]=function e(t,r,a){let{checksumAddress:n,staticPosition:i}=a,s=nP(r.type);if(s){let[a,o]=s;return function(t,r,a){let{checksumAddress:n,length:i,staticPosition:s}=a;if(!i){let a=s+a5(t.readBytes(32)),i=a+32;t.setPosition(a);let o=a5(t.readBytes(32)),l=nA(r),c=0,u=[];for(let a=0;a<o;++a){t.setPosition(i+(l?32*a:c));let[s,o]=e(t,r,{checksumAddress:n,staticPosition:i});c+=o,u.push(s)}return t.setPosition(s+32),[u,32]}if(nA(r)){let a=s+a5(t.readBytes(32)),o=[];for(let s=0;s<i;++s){t.setPosition(a+32*s);let[i]=e(t,r,{checksumAddress:n,staticPosition:a});o.push(i)}return t.setPosition(s+32),[o,32]}let o=0,l=[];for(let a=0;a<i;++a){let[a,i]=e(t,r,{checksumAddress:n,staticPosition:s+o});o+=i,l.push(a)}return[l,o]}(t,{...r,type:o},{checksumAddress:n,length:a,staticPosition:i})}if("tuple"===r.type)return function(t,r,a){let{checksumAddress:n,staticPosition:i}=a,s=0===r.components.length||r.components.some(({name:e})=>!e),o=s?[]:{},l=0;if(nA(r)){let a=i+a5(t.readBytes(32));for(let i=0;i<r.components.length;++i){let c=r.components[i];t.setPosition(a+l);let[u,d]=e(t,c,{checksumAddress:n,staticPosition:a});l+=d,o[s?i:c?.name]=u}return t.setPosition(i+32),[o,32]}for(let a=0;a<r.components.length;++a){let c=r.components[a],[u,d]=e(t,c,{checksumAddress:n,staticPosition:i});o[s?a:c?.name]=u,l+=d}return[o,l]}(t,r,{checksumAddress:n,staticPosition:i});if("address"===r.type)return function(e,t={}){let r,{checksum:a=!1}=t,n=e.readBytes(32);return[(r=aV.fromBytes(function(e,t,r,a={}){let{strict:n}=a;!1;let i=e.slice(-20,void 0);return n&&function(e,t,r){if("number"==typeof r&&a6(e)!==r- -20)throw new a7({offset:r,position:"end",size:a6(e)})}(i,0,void 0),i}(n,0)),a?ny(r):r),32]}(t,{checksum:n});if("bool"===r.type)return[function(e,t={}){let{size:r}=t,a=e;if(void 0!==r&&(aQ(a,r),a=a4(a)),a.length>1||a[0]>1)throw new a3(a);return!!a[0]}(t.readBytes(32),{size:32}),32];if(r.type.startsWith("bytes"))return function(e,t,{staticPosition:r}){let[a,n]=t.type.split("bytes");if(!n){let t=a5(e.readBytes(32));e.setPosition(r+t);let a=a5(e.readBytes(32));if(0===a)return e.setPosition(r+32),["0x",32];let n=e.readBytes(a);return e.setPosition(r+32),[aV.fromBytes(n),32]}return[aV.fromBytes(e.readBytes(Number.parseInt(n,10),32)),32]}(t,r,{staticPosition:i});if(r.type.startsWith("uint")||r.type.startsWith("int")){var o,l;let e,a,n;return o=t,e=(l=r).type.startsWith("int"),a=Number.parseInt(l.type.split("int")[1]||"256",10),n=o.readBytes(32),[a>48?function(e,t={}){let{size:r}=t;void 0!==r&&aQ(e,r);let a=aV.fromBytes(e,t);return aV.toBigInt(a,t)}(n,{signed:e}):a5(n,{signed:e}),32]}if("string"===r.type)return function(e,{staticPosition:t}){let r=a5(e.readBytes(32));e.setPosition(t+r);let a=a5(e.readBytes(32));if(0===a)return e.setPosition(t+32),["",32];let n=function(e,t={}){let{size:r}=t,a=e;return void 0!==r&&(aQ(a,r),a=aZ(a,{dir:"right"})),a0.decode(a)}(a4(e.readBytes(a,32)));return e.setPosition(t+32),[n,32]}(t,{staticPosition:i});throw new nH(r.type)}(s,r,{checksumAddress:n,staticPosition:0});o+=c,"Array"===a?l.push(i):l[r.name??t]=i}return l}function nD(e,t,r){let{checksumAddress:a=!1}=r??{};if(e.length!==t.length)throw new nF({expectedLength:e.length,givenLength:t.length});let n=nx(function({checksumAddress:e,parameters:t,values:r}){let a=[];for(let n=0;n<t.length;n++)a.push(function e({checksumAddress:t=!1,parameter:r,value:a}){let n=nP(r.type);if(n){let[i,s]=n;return function(t,r){let{checksumAddress:a,length:n,parameter:i}=r,s=null===n;if(!Array.isArray(t))throw new nK(t);if(!s&&t.length!==n)throw new nL({expectedLength:n,givenLength:t.length,type:`${i.type}[${n}]`});let o=!1,l=[];for(let r=0;r<t.length;r++){let n=e({checksumAddress:a,parameter:i,value:t[r]});n.dynamic&&(o=!0),l.push(n)}if(s||o){let e=nx(l);if(s){let t=aV.fromNumber(l.length,{size:32});return{dynamic:!0,encoded:l.length>0?aV.concat(t,e):t}}if(o)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:aV.concat(...l.map(({encoded:e})=>e))}}(a,{checksumAddress:t,length:i,parameter:{...r,type:s}})}if("tuple"===r.type)return function(t,r){let{checksumAddress:a,parameter:n}=r,i=!1,s=[];for(let r=0;r<n.components.length;r++){let o=n.components[r],l=Array.isArray(t)?r:o.name,c=e({checksumAddress:a,parameter:o,value:t[l]});s.push(c),c.dynamic&&(i=!0)}return{dynamic:i,encoded:i?nx(s):aV.concat(...s.map(({encoded:e})=>e))}}(a,{checksumAddress:t,parameter:r});if("address"===r.type)return function(e,t){let{checksum:r=!1}=t;return nf(e,{strict:r}),{dynamic:!1,encoded:aV.padLeft(e.toLowerCase())}}(a,{checksum:t});if("bool"===r.type){var i=a;if("boolean"!=typeof i)throw new aW.BaseError(`Invalid boolean value: "${i}" (type: ${typeof i}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:aV.padLeft(aV.fromBoolean(i))}}if(r.type.startsWith("uint")||r.type.startsWith("int")){let e=r.type.startsWith("int"),[,,t="256"]=nM.exec(r.type)??[];return function(e,{signed:t,size:r}){if("number"==typeof r){let a=2n**(BigInt(r)-(t?1n:0n))-1n,n=t?-a-1n:0n;if(e>a||e<n)throw new aV.IntegerOutOfRangeError({max:a.toString(),min:n.toString(),signed:t,size:r/8,value:e.toString()})}return{dynamic:!1,encoded:aV.fromNumber(e,{size:32,signed:t})}}(a,{signed:e,size:Number(t)})}if(r.type.startsWith("bytes"))return function(e,{type:t}){let[,r]=t.split("bytes"),a=aV.size(e);if(!r){let t=e;return a%32!=0&&(t=aV.padRight(t,32*Math.ceil((e.length-2)/2/32))),{dynamic:!0,encoded:aV.concat(aV.padLeft(aV.fromNumber(a,{size:32})),t)}}if(a!==Number.parseInt(r,10))throw new n$({expectedSize:Number.parseInt(r,10),value:e});return{dynamic:!1,encoded:aV.padRight(e)}}(a,{type:r.type});if("string"===r.type){var s=a;let e=aV.fromString(s),t=Math.ceil(aV.size(e)/32),r=[];for(let a=0;a<t;a++)r.push(aV.padRight(aV.slice(e,32*a,(a+1)*32)));return{dynamic:!0,encoded:aV.concat(aV.padRight(aV.fromNumber(aV.size(e),{size:32})),...r)}}throw new nH(r.type)}({checksumAddress:e,parameter:t[n],value:r[n]}));return a}({checksumAddress:a,parameters:e,values:t}));return 0===n.length?"0x":n}function nT(e,t){if(e.length!==t.length)throw new nF({expectedLength:e.length,givenLength:t.length});let r=[];for(let a=0;a<e.length;a++){let n=e[a],i=t[a];r.push(nT.encode(n,i))}return aV.concat(...r)}function nq(e){return Array.isArray(e)&&"string"==typeof e[0]||"string"==typeof e?aY.parseAbiParameters(e):e}(nT||(nT={})).encode=function e(t,r,a=!1){if("address"===t)return nf(r),aV.padLeft(r.toLowerCase(),32*!!a);if("string"===t)return aV.fromString(r);if("bytes"===t)return r;if("bool"===t)return aV.padLeft(aV.fromBoolean(r),a?32:1);let n=t.match(nM);if(n){let[e,t,i="256"]=n,s=Number.parseInt(i,10)/8;return aV.fromNumber(r,{size:a?32:s,signed:"int"===t})}let i=t.match(nE);if(i){let[e,t]=i;if(Number.parseInt(t,10)!==(r.length-2)/2)throw new n$({expectedSize:Number.parseInt(t,10),value:r});return aV.padRight(r,32*!!a)}let s=t.match(nI);if(s&&Array.isArray(r)){let[t,a]=s,n=[];for(let t=0;t<r.length;t++)n.push(e(a,r[t],!0));return 0===n.length?"0x":aV.concat(...n)}throw new nH(t)};class nU extends nj.BaseError{constructor({data:e,parameters:t,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${aH.formatAbiParameters(t)})`,`Data:   ${e} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class nB extends nj.BaseError{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class nL extends nj.BaseError{constructor({expectedLength:e,givenLength:t,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${t}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class n$ extends nj.BaseError{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${aV.size(t)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class nF extends nj.BaseError{constructor({expectedLength:e,givenLength:t}){super(`ABI encoding parameters/values length mismatch.
Expected length (parameters): ${e}
Given length (values): ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class nK extends nj.BaseError{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class nH extends nj.BaseError{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}var nY=aW;let nW="0x6492649264926492649264926492649264926492649264926492649264926492";function nV(e){if(aV.slice(e,-32)!==nW)throw new nX(e)}function nQ(e){return"string"==typeof e?nG(e):e}function nG(e){nV(e);let[t,r,a]=n_(nq("address, bytes, bytes"),e);return{data:r,signature:a,to:t}}function nZ(e){let{data:t,signature:r,to:a}=e;return aV.concat(nD(nq("address, bytes, bytes"),[a,t,r]),nW)}function nJ(e){try{return nV(e),!0}catch{return!1}}class nX extends nY.BaseError{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}e.s(["InvalidWrappedSignatureError",()=>nX,"assert",()=>nV,"from",()=>nQ,"magicBytes",0,nW,"universalSignatureValidatorAbi",0,[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],"universalSignatureValidatorBytecode",0,"0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572","unwrap",()=>nG,"validate",()=>nJ,"wrap",()=>nZ],34848);var n0=e.i(34848),n0=n0;function n1(e){if(e<=255)return 1;if(e<=65535)return 2;if(e<=0xffffff)return 3;if(e<=0xffffffff)return 4;throw new aW.BaseError("Length is too large.")}var n2=aW;function n6(e,t={}){let{recovered:r}=t;if(void 0===e.r||void 0===e.s||r&&void 0===e.yParity)throw new n7({signature:e});if(e.r<0n||e.r>nk)throw new ie({value:e.r});if(e.s<0n||e.s>nk)throw new it({value:e.s});if("number"==typeof e.yParity&&0!==e.yParity&&1!==e.yParity)throw new ir({value:e.yParity})}function n5(e){if(130!==e.length&&132!==e.length)throw new n9({signature:e});let t=BigInt(aV.slice(e,0,32)),r=BigInt(aV.slice(e,32,64)),a=(()=>{let t=Number(`0x${e.slice(130)}`);if(!Number.isNaN(t))try{return n8(t)}catch{throw new ir({value:t})}})();return void 0===a?{r:t,s:r}:{r:t,s:r,yParity:a}}function n4(e){if(void 0!==e.r&&void 0!==e.s)return n3(e)}function n3(e){let t=(()=>{var t,r;let a;if("string"==typeof e)return n5(e);if(e instanceof Uint8Array)return n5(aV.fromBytes(e));return"string"==typeof e.r?(t=e,a=(()=>{let e=t.v?Number(t.v):void 0,r=t.yParity?Number(t.yParity):void 0;if("number"==typeof e&&"number"!=typeof r&&(r=n8(e)),"number"!=typeof r)throw new ir({value:t.yParity});return r})(),{r:BigInt(t.r),s:BigInt(t.s),yParity:a}):e.v?{r:(r=e).r,s:r.s,yParity:n8(r.v)}:{r:e.r,s:e.s,...void 0!==e.yParity?{yParity:e.yParity}:{}}})();return n6(t),t}function n8(e){if(0===e||27===e)return 0;if(1===e||28===e)return 1;if(e>=35)return+(e%2==0);throw new ia({value:e})}class n9 extends n2.BaseError{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${aV.size(aV.from(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class n7 extends n2.BaseError{constructor({signature:e}){super(`Signature \`${aX.stringify(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class ie extends n2.BaseError{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class it extends n2.BaseError{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class ir extends n2.BaseError{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class ia extends n2.BaseError{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}var ii=aW,is=e.i(76267);is.secp256k1;let io="0x8010801080108010801080108010801080108010801080108010801080108010",il=nq("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function ic(e){if("string"==typeof e){if(aV.slice(e,-32)!==io)throw new ih(e)}else n6(e.authorization)}function iu(e){return"string"==typeof e?id(e):e}function id(e){ic(e);let t=aV.toNumber(aV.slice(e,-64,-32)),r=aV.slice(e,-t-64,-64),a=aV.slice(e,0,-t-64),[n,i,s]=n_(il,r);return{authorization:function(e,t={}){return"string"==typeof e.chainId?function(e){let{address:t,chainId:r,nonce:a}=e,n=n4(e);return{address:t,chainId:Number(r),nonce:BigInt(a),...n}}(e):{...e,...t.signature}}({address:n.delegation,chainId:Number(n.chainId),nonce:n.nonce,yParity:n.yParity,r:n.r,s:n.s}),signature:a,...s&&"0x"!==s?{data:s,to:i}:{}}}function ip(e){let{data:t,signature:r}=e;ic(e);let a=function(e,t={}){let r=ni(`0x${(function(e,t={}){no(e);let{prefix:r,x:a,y:n}=e,{includePrefix:i=!0}=t;return aV.concat(i?aV.fromNumber(r,{size:1}):"0x",aV.fromNumber(a,{size:32}),"bigint"==typeof n?aV.fromNumber(n,{size:32}):"0x")})(e).slice(4)}`).substring(26);return function(e,t={}){let{checksum:r=!1}=t;return(nf(e),r)?ny(e):e}(`0x${r}`,t)}(function(e){var t;let r,{payload:a,signature:n}=e,{r:i,s,yParity:o}=n;return t=new is.secp256k1.Signature(BigInt(i),BigInt(s)).addRecoveryBit(o).recoverPublicKey(aV.from(a).substring(2)),no(r=(()=>{if(aV.validate(t))return nl(t);if(function(e){try{if(!(e instanceof Uint8Array)&&(!e||"object"!=typeof e||!("BYTES_PER_ELEMENT"in e)||1!==e.BYTES_PER_ELEMENT||"Uint8Array"!==e.constructor.name))throw new a8(e);return!0}catch{return!1}}(t)){var e;return e=t,nl(aV.fromBytes(e))}let{prefix:r,x:a,y:n}=t;return"bigint"==typeof a&&"bigint"==typeof n?{prefix:r??4,x:a,y:n}:{prefix:r,x:a}})()),r}({payload:function(e,t={}){let{presign:r}=t;return ni(aV.concat("0x05",function(e,t={}){let{as:r="Hex"}=t;return function(e,t){let{as:r}=t,a=function e(t){var r,a;let n,i,s,o;return Array.isArray(t)?(i=n1(n=(r=t.map(t=>e(t))).reduce((e,t)=>e+t.length,0)),{length:n<=55?1+n:1+i+n,encode(e){for(let{encode:t}of(n<=55?e.pushByte(192+n):(e.pushByte(247+i),1===i?e.pushUint8(n):2===i?e.pushUint16(n):3===i?e.pushUint24(n):e.pushUint32(n)),r))t(e)}}):(o=n1((s="string"==typeof(a=t)?a2(a):a).length),{length:1===s.length&&s[0]<128?1:s.length<=55?1+s.length:1+o+s.length,encode(e){1===s.length&&s[0]<128||(s.length<=55?e.pushByte(128+s.length):(e.pushByte(183+o),1===o?e.pushUint8(s.length):2===o?e.pushUint16(s.length):3===o?e.pushUint24(s.length):e.pushUint32(s.length))),e.pushBytes(s)}})}(e),n=nS(new Uint8Array(a.length));return(a.encode(n),"Hex"===r)?aV.fromBytes(n.bytes):n.bytes}(e,{as:r})}(function(e){let{address:t,chainId:r,nonce:a}=e,n=n4(e);return[r?aV.fromNumber(r):"0x",t,a?aV.fromNumber(a):"0x",...n?function(e){let{r:t,s:r,yParity:a}=e;return[a?"0x01":"0x",0n===t?"0x":aV.trimLeft(aV.fromNumber(t)),0n===r?"0x":aV.trimLeft(aV.fromNumber(r))]}(n):[]]}(r?{address:e.address,chainId:e.chainId,nonce:e.nonce}:e))))}(e.authorization,{presign:!0}),signature:n3(e.authorization)})),n=nD(il,[{...e.authorization,delegation:e.authorization.address,chainId:BigInt(e.authorization.chainId)},e.to??a,t??"0x"]),i=aV.fromNumber(aV.size(n),{size:32});return aV.concat(r,n,i,io)}function im(e){try{return ic(e),!0}catch{return!1}}class ih extends ii.BaseError{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}}e.s(["InvalidWrappedSignatureError",()=>ih,"assert",()=>ic,"from",()=>iu,"magicBytes",0,io,"suffixParameters",0,il,"unwrap",()=>id,"validate",()=>im,"wrap",()=>ip],96350);var iy=e.i(96350),iy=iy,ib=e.i(52012),ig=e.i(72503),iw=e.i(78023),iv=e.i(89169),ij=e.i(56679),iI=e.i(6685),iE=e.i(80841);async function iM({hash:t,signature:r}){let a=(0,iE.isHex)(t)?t:(0,t1.toHex)(t),{secp256k1:n}=await e.A(25932),i=(()=>{if("object"==typeof r&&"r"in r&&"s"in r){let{r:e,s:t,v:a,yParity:i}=r,s=ik(Number(i??a));return new n.Signature((0,tU.hexToBigInt)(e),(0,tU.hexToBigInt)(t)).addRecoveryBit(s)}let e=(0,iE.isHex)(r)?r:(0,t1.toHex)(r);if(65!==(0,rZ.size)(e))throw Error("invalid signature length");let t=ik((0,tU.hexToNumber)(`0x${e.slice(130)}`));return n.Signature.fromCompact(e.substring(2,130)).addRecoveryBit(t)})().recoverPublicKey(a.substring(2)).toHex(!1);return`0x${i}`}function ik(e){if(0===e||1===e)return e;if(27===e)return 0;if(28===e)return 1;throw Error("Invalid yParityOrV value")}async function ix({hash:e,signature:t}){var r;let a;return r=await iM({hash:e,signature:t}),a=(0,rG.keccak256)(`0x${r.substring(4)}`).substring(26),(0,aN.checksumAddress)(`0x${a}`)}var iP=e.i(69936);async function iA(e){let{authorization:t,signature:r}=e;return ix({hash:function(e){let{chainId:t,nonce:r,to:a}=e,n=e.contractAddress??e.address,i=(0,rG.keccak256)((0,t0.concatHex)(["0x05",(0,t2.toRlp)([t?(0,t1.numberToHex)(t):"0x",n,r?(0,t1.numberToHex)(r):"0x"])]));return"bytes"===a?(0,iP.hexToBytes)(i):i}(t),signature:r??t})}async function iC({address:e,authorization:t,signature:r}){return(0,iI.isAddressEqual)((0,aN.getAddress)(e),await iA({authorization:t,signature:r}))}function iR(e,t,r){let a=e[t.name];if("function"==typeof a)return a;let n=e[r];return"function"==typeof n?n:r=>t(e,r)}var iS=e.i(89509);async function iO(e,{address:t,blockNumber:r,blockTag:a="latest"}){let n=void 0!==r?(0,t1.numberToHex)(r):void 0,i=await e.request({method:"eth_getCode",params:[t,n||a]},{dedupe:!!n});if("0x"!==i)return i}var iN=e.i(547),iz=e.i(95767),i_=e.i(83856);function iD(e,{abi:t,address:r,args:a,docsPath:n,functionName:i,sender:s}){let o=e instanceof iw.RawContractError?e:e instanceof tQ.BaseError?e.walk(e=>"data"in e)||e.walk():{},{code:l,data:c,details:u,message:d,shortMessage:p}=o,m=e instanceof rX.AbiDecodingZeroDataError?new iw.ContractFunctionZeroDataError({functionName:i}):[3,i_.InternalRpcError.code].includes(l)&&(c||u||d||p)||l===i_.InvalidInputRpcError.code&&"execution reverted"===u&&c?new iw.ContractFunctionRevertedError({abi:t,data:"object"==typeof c?c.data:c,functionName:i,message:o instanceof iz.RpcRequestError?u:p??d}):e;return new iw.ContractFunctionExecutionError(m,{abi:t,args:a,contractAddress:r,docsPath:n,functionName:i,sender:s})}async function iT(e,t){let{abi:r,address:a,args:n,functionName:i,...s}=t,o=(0,ij.encodeFunctionData)({abi:r,args:n,functionName:i});try{let{data:t}=await iR(e,iS.call,"call")({...s,data:o,to:a});return(0,iN.decodeFunctionResult)({abi:r,args:n,functionName:i,data:t||"0x"})}catch(e){throw iD(e,{abi:r,address:a,args:n,docsPath:"/docs/contract/readContract",functionName:i})}}async function iq(e,t){let r,{address:a,chain:n=e.chain,hash:i,erc6492VerifierAddress:s=t.universalSignatureVerifierAddress??n?.contracts?.erc6492Verifier?.address,multicallAddress:o=t.multicallAddress??n?.contracts?.multicall3?.address}=t;if(n?.verifyHash)return await n.verifyHash(e,t);let l=(r=t.signature,(0,iE.isHex)(r)?r:"object"==typeof r&&"r"in r&&"s"in r?function({r:e,s:t,to:r="hex",v:a,yParity:n}){let i=(()=>{if(0===n||1===n)return n;if(a&&(27n===a||28n===a||a>=35n))return+(a%2n===0n);throw Error("Invalid `v` or `yParity` value")})(),s=`0x${new is.secp256k1.Signature((0,tU.hexToBigInt)(e),(0,tU.hexToBigInt)(t)).toCompactHex()}${0===i?"1b":"1c"}`;return"hex"===r?s:(0,iP.hexToBytes)(s)}(r):(0,t1.bytesToHex)(r));try{if(iy.validate(l))return await iU(e,{...t,multicallAddress:o,signature:l});return await iB(e,{...t,verifierAddress:s,signature:l})}catch(e){try{if((0,iI.isAddressEqual)((0,aN.getAddress)(a),await ix({hash:i,signature:l})))return!0}catch{}if(e instanceof i$)return!1;throw e}}async function iU(e,t){let{address:r,blockNumber:a,blockTag:n,hash:i,multicallAddress:s}=t,{authorization:o,data:l,signature:c,to:u}=iy.unwrap(t.signature);if(await iO(e,{address:r,blockNumber:a,blockTag:n})===(0,t0.concatHex)(["0xef0100",o.address]))return await iL(e,{address:r,blockNumber:a,blockTag:n,hash:i,signature:c});let d={address:o.address,chainId:Number(o.chainId),nonce:Number(o.nonce),r:(0,t1.numberToHex)(o.r,{size:32}),s:(0,t1.numberToHex)(o.s,{size:32}),yParity:o.yParity};if(!await iC({address:r,authorization:d}))throw new i$;let p=await iR(e,iT,"readContract")({...s?{address:s}:{code:ig.multicall3Bytecode},authorizationList:[d],abi:ib.multicall3Abi,blockNumber:a,blockTag:"pending",functionName:"aggregate3",args:[[...l?[{allowFailure:!0,target:u??r,callData:l}]:[],{allowFailure:!0,target:r,callData:(0,ij.encodeFunctionData)({abi:ib.erc1271Abi,functionName:"isValidSignature",args:[i,c]})}]]}),m=p[p.length-1]?.returnData;if(m?.startsWith("0x1626ba7e"))return!0;throw new i$}async function iB(e,t){let{address:r,factory:a,factoryData:n,hash:i,signature:s,verifierAddress:o,...l}=t,c=await (async()=>!a&&!n||n0.validate(s)?s:n0.wrap({data:n,signature:s,to:a}))(),u=o?{to:o,data:(0,ij.encodeFunctionData)({abi:ib.erc6492SignatureValidatorAbi,functionName:"isValidSig",args:[r,i,c]}),...l}:{data:(0,iv.encodeDeployData)({abi:ib.erc6492SignatureValidatorAbi,args:[r,i,c],bytecode:ig.erc6492SignatureValidatorByteCode}),...l},{data:d}=await iR(e,iS.call,"call")(u).catch(e=>{if(e instanceof iw.CallExecutionError)throw new i$;throw e});if((0,tU.hexToBool)(d??"0x0"))return!0;throw new i$}async function iL(e,t){let{address:r,blockNumber:a,blockTag:n,hash:i,signature:s}=t;if((await iR(e,iT,"readContract")({address:r,abi:ib.erc1271Abi,args:[i,s],blockNumber:a,blockTag:n,functionName:"isValidSignature"}).catch(e=>{if(e instanceof iw.ContractFunctionExecutionError)throw new i$;throw e})).startsWith("0x1626ba7e"))return!0;throw new i$}class i$ extends Error{}var iF=e.i(66564),iK=e.i(17105),iH=aW;function iY(e){let t=!0,r="",a=0,n="",i=!1;for(let s=0;s<e.length;s++){let o=e[s];if(["(",")",","].includes(o)&&(t=!0),"("===o&&a++,")"===o&&a--,t){if(0===a){if(" "===o&&["event","function","error",""].includes(n))n="";else if(n+=o,")"===o){i=!0;break}continue}if(" "===o){","!==e[s-1]&&","!==r&&",("!==r&&(r="",t=!1);continue}n+=o,r+=o}}if(!i)throw new aW.BaseError("Unable to normalize signature.");return n}function iW(e,t,r){let a,{args:n=[],prepare:i=!0}=r??{},s=aV.validate(t,{strict:!1}),o=e.filter(e=>s?"function"===e.type||"error"===e.type?iV(e)===aV.slice(t,0,4):"event"===e.type&&iQ(e)===t:"name"in e&&e.name===t);if(0===o.length)throw new iZ({name:t});if(1===o.length)return{...o[0],...i?{hash:iQ(o[0])}:{}};for(let e of o){if("inputs"in e){if(!n||0===n.length){if(!e.inputs||0===e.inputs.length)return{...e,...i?{hash:iQ(e)}:{}};continue}if(e.inputs&&0!==e.inputs.length&&e.inputs.length===n.length&&n.every((t,r)=>{let a="inputs"in e&&e.inputs[r];return!!a&&function e(t,r){let a=typeof t,n=r.type;switch(n){case"address":return nb(t,{strict:!1});case"bool":return"boolean"===a;case"function":case"string":return"string"===a;default:if("tuple"===n&&"components"in r)return Object.values(r.components).every((r,a)=>e(Object.values(t)[a],r));if(/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n))return"number"===a||"bigint"===a;if(/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n))return"string"===a||t instanceof Uint8Array;if(/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n))return Array.isArray(t)&&t.every(t=>e(t,{...r,type:n.replace(/(\[[0-9]{0,}\])$/,"")}));return!1}}(t,a)})){if(a&&"inputs"in a&&a.inputs){let t=function e(t,r,a){for(let n in t){let i=t[n],s=r[n];if("tuple"===i.type&&"tuple"===s.type&&"components"in i&&"components"in s)return e(i.components,s.components,a[n]);let o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")||(o.includes("address")&&o.includes("string")||o.includes("address")&&o.includes("bytes"))&&nb(a[n],{strict:!1}))return o}}(e.inputs,a.inputs,n);if(t)throw new iG({abiItem:e,type:t[0]},{abiItem:a,type:t[1]})}a=e}}}let l=(()=>{if(a)return a;let[e,...t]=o;return{...e,overloads:t}})();if(!l)throw new iZ({name:t});return{...l,...i?{hash:iQ(l)}:{}}}function iV(...e){let t=(()=>{if(Array.isArray(e[0])){let[t,r]=e;return iW(t,r)}return e[0]})();return aV.slice(iQ(t),0,4)}function iQ(...e){let t=(()=>{if(Array.isArray(e[0])){let[t,r]=e;return iW(t,r)}return e[0]})();return"string"!=typeof t&&"hash"in t&&t.hash?t.hash:ni(aV.fromString(function(...e){let t=(()=>{if(Array.isArray(e[0])){let[t,r]=e;return iW(t,r)}return e[0]})();return iY("string"==typeof t?t:iF.formatAbiItem(t))}(t)))}class iG extends iH.BaseError{constructor(e,t){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${iY(iF.formatAbiItem(e.abiItem))}\`, and`,`\`${t.type}\` in \`${iY(iF.formatAbiItem(t.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class iZ extends iH.BaseError{constructor({name:e,data:t,type:r="item"}){const a=e?` with name "${e}"`:t?` with data "${t}"`:"";super(`ABI ${r}${a} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}iH.BaseError;var iJ=e.i(59953),iX=tQ;iX.BaseError;class i0 extends iX.BaseError{constructor(){super("Function is not recognized.",{metaMessages:["This could be due to any of the following:","  - The contract does not have the function,","  - The address is not a contract."],name:"FunctionSelectorNotRecognizedError"})}}var i1=e.i(18447),i2=e.i(99765),i6=rh;let i5=()=>i1.templateLiteral(["0x",i1.string()],{message:"Needs string in format ^0x[A-Fa-f0-9]{40}$."}),i4=()=>i1.templateLiteral(["0x",i1.string()],{message:"Needs string in format ^0x[A-Fa-f0-9]+$."}),i3=()=>i1.codec(i4(),i1.number(),{decode:e=>aO.toNumber(e),encode:e=>aO.fromNumber(e)}),i8=()=>i1.codec(i4(),i1.bigint({message:"Required bigint"}),{decode:e=>aO.toBigInt(e),encode:e=>aO.fromNumber(e)});function i9(e){return i1.union(e)}class i7 extends i6.BaseError{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Schema.ValidationError"})}}function se(e){let t=`Validation failed with ${e.issues.length} error${1===e.issues.length?"":"s"}:`;for(let r of(t+="\n",e.issues))r&&(t+="\n",t+=function e(t,r=0){var a;let n=0===(a=t.path).length?"":"at `"+a.map((e,t)=>"number"==typeof e?`[${e}]`:"symbol"==typeof e?`[${e.toString()}]`:/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(e)&&t>0?`.${e}`:0===t&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(e)?e:`["${e}"]`).join("")+"`",i=`- ${n?`${n}: `:""}`,s="  ".repeat(r+1),o=i;switch(t.code){case"invalid_type":{let e=t.expected,r=t.input?function(e){let t=e.input;if(void 0===t)return"undefined";if(null===t)return"null";let r=typeof t;return"object"===r?Array.isArray(t)?"array":t instanceof Date?"date":t instanceof Map?"map":t instanceof Set?"set":"object":r}(t):"undefined";o+=`Expected ${e}. ${"Invalid input"!==t.message?t.message:""}`,"undefined"!==r&&(o+=`but received ${r}`);break}case"too_big":{let e=t.maximum,r=t.inclusive??!0;t.exact?o+=`${t.origin} must be exactly ${e}`:o+=`${t.origin} must be ${r?"at most":"less than"} ${e}`;break}case"too_small":{let e=t.minimum,r=t.inclusive??!0;t.exact?o+=`${t.origin} must be exactly ${e}`:o+=`${t.origin} must be ${r?"at least":"greater than"} ${e}`;break}case"invalid_format":switch(t.format){case"regex":case"template_literal":o+=`Must match pattern: ${t.pattern}`;break;case"starts_with":o+=`Must start with "${t.prefix}"`;break;case"ends_with":o+=`Must end with "${t.suffix}"`;break;case"includes":o+=`Must include "${t.includes}"`;break;default:o+=`Invalid ${t.format} format`}break;case"not_multiple_of":o+=`Number must be a multiple of ${t.divisor}`;break;case"unrecognized_keys":{let e=t.keys.map(e=>`"${e}"`).join(", ");o+=`Unrecognized key${t.keys.length>1?"s":""}: ${e}`;break}case"invalid_union":{let a=t.errors&&t.errors.length>0;o+="Invalid union value.",a&&t.errors.forEach(t=>{t.length>0&&t.forEach(t=>{o+="\n",o+=s,o+=e(t,r+1)})});break}case"invalid_key":o+=`Invalid ${t.origin} key`,t.issues&&t.issues.length>0&&t.issues.forEach(t=>{o+="\n",o+=s,o+=e(t,r+1)});break;case"invalid_element":o+=`Invalid ${t.origin} element at key "${t.key}"`,t.issues&&t.issues.length>0&&t.issues.forEach(t=>{o+="\n",o+=s,o+=e(t,r+1)});break;case"invalid_value":{let e=t.values.map(e=>JSON.stringify(e)).join(", ");t.values.length>1?o+=`Expected one of: ${e}`:o+=`Expected ${e}`;break}case"custom":o+=t.message||"Custom validation failed";break;default:o+=t.message||"Validation failed"}return o}(r));return new i7(t)}let st=i1.object({selector:i4(),to:i5(),type:i1.literal("call")}),sr=i1.object({limit:i8(),period:i1.union([i1.literal("minute"),i1.literal("hour"),i1.literal("day"),i1.literal("week"),i1.literal("month"),i1.literal("year")]),token:i1.optional(i1.union([i5(),i1.null()])),type:i1.literal("spend")}),sa=i1.union([st,sr]),sn=i1.object({expiry:i3(),prehash:i1.optional(i1.boolean()),publicKey:i4(),role:i1.union([i1.literal("admin"),i1.literal("normal")]),type:i1.union([i1.literal("p256"),i1.literal("secp256k1"),i1.literal("webauthnp256")])}),si=i1.object({...sn.shape,permissions:i1.readonly(i1.array(sa))});(i=ey||(ey={})).AssetDiffAsset=i1.union([i1.object({address:i1.optional(i1.union([i5(),i1.null()])),decimals:i1.optional(i1.union([i1.number(),i1.null()])),direction:i1.union([i1.literal("incoming"),i1.literal("outgoing")]),fiat:i1.optional(i1.object({currency:i1.string(),value:i1.codec(i1.string(),i1.number(),{decode:e=>Number(e),encode:e=>String(e)})})),name:i1.optional(i1.union([i1.string(),i1.null()])),symbol:i1.string(),type:i1.literal("erc20"),value:i8()}),i1.object({address:i1.optional(i1.union([i5(),i1.null()])),direction:i1.union([i1.literal("incoming"),i1.literal("outgoing")]),fiat:i1.optional(i1.object({currency:i1.string(),value:i1.codec(i1.string(),i1.number(),{decode:e=>Number(e),encode:e=>String(e)})})),name:i1.optional(i1.union([i1.string(),i1.null()])),symbol:i1.string(),type:i1.literal("erc721"),uri:i1.string(),value:i8()}),i1.object({address:i1.null(),decimals:i1.optional(i1.union([i1.number(),i1.null()])),direction:i1.union([i1.literal("incoming"),i1.literal("outgoing")]),fiat:i1.optional(i1.object({currency:i1.string(),value:i1.codec(i1.string(),i1.number(),{decode:e=>Number(e),encode:e=>String(e)})})),symbol:i1.string(),type:i1.null(),value:i8()})]),i.Response=i1.record(i4(),i1.readonly(i1.array(i1.readonly(i1.tuple([i5(),i1.readonly(i1.array(i.AssetDiffAsset))]))))),(s=eb||(eb={})).Request=i1.readonly(i1.array(si)),s.Response=i1.readonly(i1.array(i1.object({...si.shape,hash:i4()}))),(eg||(eg={})).Response=i1.record(i4(),i1.object({currency:i1.string(),value:i1.string()})),(ew||(ew={})).Request=i1.object({feePayer:i1.optional(i5()),feeToken:i1.optional(i5()),nonce:i1.optional(i8())}),(ev||(ev={})).Request=i1.readonly(i1.array(i1.object({address:i5(),value:i8()}))),(o=ej||(ej={})).Request=i1.readonly(i1.array(i1.object({hash:i4()}))),o.Response=i1.readonly(i1.array(i1.object({hash:i4()})));let ss=i1.object({eoa:i5(),executionData:i4(),nonce:i4(),signature:i4()}),so=i1.object({...ss.shape,chainId:i3()});var sl=e.i(29828),sl=sl;let sc=i1.union([i1.object({combinedGas:i8(),encodedFundTransfers:i1.readonly(i1.array(i4())),encodedPreCalls:i1.readonly(i1.array(i4())),eoa:i5(),executionData:i4(),expiry:i8(),funder:i5(),funderSignature:i4(),isMultichain:i1.boolean(),nonce:i8(),payer:i5(),paymentAmount:i8(),paymentMaxAmount:i8(),paymentRecipient:i5(),paymentSignature:i4(),paymentToken:i5(),settler:i5(),settlerContext:i4(),signature:i4(),supportedAccountImplementation:i5()}),i1.object({combinedGas:i8(),encodedFundTransfers:i1.readonly(i1.array(i4())),encodedPreCalls:i1.readonly(i1.array(i4())),eoa:i5(),executionData:i4(),expiry:i8(),funder:i5(),funderSignature:i4(),isMultichain:i1.boolean(),nonce:i8(),payer:i5(),paymentRecipient:i5(),paymentSignature:i4(),paymentToken:i5(),prePaymentAmount:i8(),prePaymentMaxAmount:i8(),settler:i5(),settlerContext:i4(),signature:i4(),supportedAccountImplementation:i5(),totalPaymentAmount:i8(),totalPaymentMaxAmount:i8()})]);i1.object({eoa:i5(),executionData:i4(),nonce:i8()});let su=sl.object({address:sl.union([i5(),sl.null()]),decimals:sl.optional(sl.number()),deficit:i8(),fiat:sl.optional(sl.object({currency:sl.string(),value:sl.string()})),name:sl.optional(sl.string()),required:i8(),symbol:sl.optional(sl.string())}),sd=sl.object({additionalAuthorization:sl.nullish(sl.object({address:i5(),chainId:i3(),nonce:i3(),r:i4(),s:i4(),yParity:i3()})),assetDeficits:sl.optional(sl.array(su)),authorizationAddress:sl.optional(sl.union([i5(),sl.null()])),chainId:i3(),ethPrice:i8(),extraPayment:i8(),feeTokenDeficit:i8(),intent:sc,nativeFeeEstimate:sl.object({maxFeePerGas:i8(),maxPriorityFeePerGas:i8()}),orchestrator:i5(),paymentTokenDecimals:sl.number(),txGas:i8()}),sp=sl.object({multiChainRoot:sl.optional(sl.union([i4(),sl.null()])),quotes:sl.readonly(sl.array(sd)).check(sl.minLength(1)),ttl:sl.number()}),sm=sl.object({...sp.shape,hash:i4(),r:i4(),s:i4(),v:sl.optional(i4()),yParity:sl.optional(i4())}),sh=i1.object({address:i5(),decimals:i1.number(),feeToken:i1.optional(i1.boolean()),interop:i1.optional(i1.boolean()),nativeRate:i1.optional(i8()),symbol:i1.string(),uid:i1.string()}),sf=i1.string().check(i2.regex(/^[A-Z0-9]+$/)),sy=i1.object({address:i5(),chainId:i3(),nonce:i3()}),sb=i1.object({...sy.shape,r:i4(),s:i4(),yParity:i3()}),sg=i1.object({data:i1.optional(i4()),to:i5(),value:i1.optional(i8())});async function sw(e,t){try{let r="wallet_getAuthorization",a=await aD(()=>e.request({method:r,params:[aT.encode(eO.Parameters,t)]}),{cacheKey:`${e.uid}.${r}.${t.address}`});return aT.decode(eO.Response,a)}catch(e){throw sL(e),e}}async function sv(e,t={}){let r=t.chainId?[t.chainId]:"all"!==t.chainIds?t.chainIds?t.chainIds:[e.chain.id]:void 0;try{let a="wallet_getCapabilities",n=await aD(()=>e.request({method:a,params:r?[r]:void 0},{retryCount:0}),{cacheKey:`${e.uid}.${a}.${r?.join(",")}`}),i=t.raw?n:aT.decode(eN.Response,n);if(t.chainIds)return i;return Object.values(i)[0]}catch(e){throw sL(e),e}}async function sj(e,t){let{account:r,assetFilter:a,assetTypeFilter:n,chainFilter:i}=t;try{let t=await e.request({method:"wallet_getAssets",params:[aT.encode(ez.Parameters,{account:r,assetFilter:a,assetTypeFilter:n,chainFilter:i})]}),s=aT.decode(ez.Response,t),o=Object.entries(s).reduce((e,[t,r])=>(e[aO.toNumber(t)]=r,e),{}),l={};for(let e of Object.values(o))for(let t of e){let e=JSON.stringify(t.metadata);l[e]={...t,balance:t.balance+(l[e]?.balance??0n)}}return{...o,0:Object.values(l)}}catch(e){throw sL(e),e}}async function sI(e,t){let{address:r,chain:a=e.chain,tokenAddress:n,value:i}=t;try{let t=await e.request({method:"wallet_addFaucetFunds",params:[aT.encode(eR.Parameters,{address:r,chainId:a?.id,tokenAddress:n,value:i})]},{retryCount:0});return await new Promise(e=>setTimeout(e,2e3)),t}catch(e){throw sL(e),e}}async function sE(e,t){let{id:r}=t;try{let t=await e.request({method:"wallet_getCallsStatus",params:[r]});return aT.decode(e_.Response,t)}catch(e){throw sL(e),e}}async function sM(e,t){try{let r=await e.request({method:"wallet_getCallsHistory",params:[aT.encode(eD.Parameters,t)]});return aT.decode(eD.Response,r)}catch(e){throw sL(e),e}}async function sk(e,t){let{address:r,chainIds:a}=t;try{let t=await e.request({method:"wallet_getKeys",params:[aT.encode(eT.Parameters,{address:r,chainIds:a})]});return aT.decode(eT.Response,t)}catch(e){throw sL(e),e}}async function sx(e){let t="health",r=await aD(()=>e.request({method:t}),{cacheKey:`${e.uid}.${t}`});return aT.decode(eC.Response,r)}async function sP(e,t){let{address:r,capabilities:a,chain:n=e.chain,key:i}=t,s=t.calls.map(e=>({data:e.abi?a$.encodeData(a$.fromAbi(e.abi,e.functionName),e.args):e.data??"0x",to:e.to,value:e.value??0n}));try{let t=await e.request({method:"wallet_prepareCalls",params:[aT.encode(eq.Parameters,{calls:s,capabilities:{...a,meta:{...a?.meta}},chainId:n?.id,from:r,key:i?{prehash:i.prehash,publicKey:i.publicKey,type:i.type}:void 0})]},{retryCount:0});return Object.assign(aT.decode(eq.Response,t),{_raw:t})}catch(e){throw sL(e),sB(e,{calls:t.calls}),e}}async function sA(e,t){let{address:r,chain:a=e.chain,delegation:n,...i}=t;try{let t=await e.request({method:"wallet_prepareUpgradeAccount",params:[aT.encode(eU.Parameters,an({address:r,capabilities:i,chainId:a?.id,delegation:n}))]},{retryCount:0});return aT.decode(eU.Response,t)}catch(e){throw sL(e),sB(e),e}}async function sC(e,t){let{capabilities:r,context:a,key:n,signature:i}=t;try{let t=await e.request({method:"wallet_sendPreparedCalls",params:[aT.encode(eL.Parameters,{capabilities:r,context:{preCall:a.preCall,quote:a.quote},key:n?{prehash:n.prehash,publicKey:n.publicKey,type:n.type}:void 0,signature:i})]},{retryCount:0});return aT.decode(eL.Response,t)}catch(e){throw sL(e),sB(e),e}}async function sR(e,t){let{address:r,secret:a}=t;try{let t=await e.request({method:"account_getOnrampContactInfo",params:[aT.encode(eI.Parameters,{address:r,secret:a})]},{retryCount:0});return aT.decode(eI.Response,t)}catch(e){throw sL(e),sB(e),e}}async function sS(e,t){let{address:r}=t;try{let t=await e.request({method:"account_onrampStatus",params:[aT.encode(eE.Parameters,{address:r})]},{retryCount:0});return aT.decode(eE.Response,t)}catch(e){throw sL(e),sB(e),e}}async function sO(e,t){let{phone:r,walletAddress:a}=t;try{let t=await e.request({method:"account_resendVerifyPhone",params:[aT.encode(eM.Parameters,{phone:r,walletAddress:a})]},{retryCount:0});return aT.decode(eM.Response,t)}catch(e){throw sL(e),sB(e),e}}async function sN(e,t){let{email:r,walletAddress:a}=t;try{let t=await e.request({method:"account_setEmail",params:[aT.encode(ek.Parameters,{email:r,walletAddress:a})]},{retryCount:0});return aT.decode(ek.Response,t)}catch(e){throw sL(e),sB(e),e}}async function sz(e,t){let{phone:r,walletAddress:a}=t;try{let t=await e.request({method:"account_setPhone",params:[aT.encode(ex.Parameters,{phone:r,walletAddress:a})]},{retryCount:0});return aT.decode(ex.Response,t)}catch(e){throw sL(e),sB(e),e}}async function s_(e,t){let{context:r,signatures:a}=t;try{await e.request({method:"wallet_upgradeAccount",params:[aT.encode(e$.Parameters,{context:r,signatures:a})]},{retryCount:0})}catch(e){throw sL(e),sB(e),e}}async function sD(e,t){let{chainId:r,email:a,signature:n,token:i,walletAddress:s}=t;try{let t=await e.request({method:"account_verifyEmail",params:[aT.encode(eP.Parameters,{chainId:r,email:a,signature:n,token:i,walletAddress:s})]},{retryCount:0});return aT.decode(eP.Response,t)}catch(e){throw sL(e),sB(e),e}}async function sT(e,t){let{code:r,phone:a,walletAddress:n}=t;try{let t=await e.request({method:"account_verifyPhone",params:[aT.encode(eA.Parameters,{code:r,phone:a,walletAddress:n})]},{retryCount:0});return aT.decode(eA.Response,t)}catch(e){throw sL(e),sB(e),e}}async function sq(e,t){let{signature:r}=t,{signature:a,capabilities:{feeSignature:n,...i},...s}=t.response,o=function e(t){if("object"==typeof t&&null!==t){if(Array.isArray(t))return t.map(e);let r={};for(let a of Object.keys(t).sort())r[a]=e(t[a]);return r}return t}({capabilities:i,...s}),l=aK.keccak256(aO.fromString(JSON.stringify(o))),c=rW.recoverAddress({payload:l,signature:rV.fromHex(r)}),{quoteSigner:u}=await sx(e);return c===u}async function sU(e,t){let{address:r,chain:a=e.chain,digest:n,signature:i}=t;try{async function s(){let t=await iq(e,{address:r,hash:n,signature:i});return{proof:null,valid:t}}let t=await (async()=>{let t=await e.request({method:"wallet_verifySignature",params:[aT.encode(eF.Parameters,{address:r,chainId:a?.id,digest:n,signature:i})]},{retryCount:0}).catch(s);return t.valid?t:s()})();return aT.decode(eF.Response,t)}catch(e){throw sL(e),e}}function sB(e,{calls:t}={}){if(!(e instanceof tQ.BaseError))return;let r=function(e,t){let r=e.walk(e=>"data"in e);if(!r?.data)return e;if(r.data===iV(function(e,t={}){return function(e,t={}){let{prepare:r=!0}=t,a=Array.isArray(e)||"string"==typeof e?iK.parseAbiItem(e):e;return{...a,...r?{hash:iQ(a)}:{}}}(e,t)}("error FnSelectorNotRecognized()")))return new i0;let a=null;for(let e of t.calls)if(e.abi)try{if(!(0,iJ.decodeErrorResult)({abi:e.abi,data:r.data}))continue;a=e}catch{}return a?iD(r,{abi:a.abi,address:a.to,args:a.args,functionName:a.functionName}):e}(e,{calls:t??[]}),a=(e=>{try{if("ContractFunctionExecutionError"===e.name){let t="ContractFunctionRevertedError"===e.cause.name?e.cause.data:void 0;if(t)return function(e,t,r){if("Error"===t)return aB;if("Panic"===t)return aL;if(aO.validate(t,{strict:!1})){let e=aO.slice(t,0,4);if("0x08c379a0"===e)return aB;if("0x4e487b71"===e)return aL}let a=aq.fromAbi(e,t,void 0);if("error"!==a.type)throw new aq.NotFoundError({name:t,type:"error"});return a}([t.abiItem],t.errorName)}let t=e.walk(e=>!(e instanceof Error)&&3===e.code);if(!t)return;let{data:r,message:a}=t;if("0xd0d5039b"===r)return aU("error Unauthorized()");return{inputs:[],name:(a??r).split("(")[0],type:"error"}}catch{return}})(r);if(r!==e||a)throw new s$(Object.assign(r,{abiError:a}))}function sL(e){if("$ZodError"===e.name)throw se(e)}(l=eI||(eI={})).Parameters=i1.object({address:i5(),secret:i1.string()}),l.Request=i1.object({method:i1.literal("account_getOnrampContactInfo"),params:i1.readonly(i1.tuple([l.Parameters]))}),l.Response=i1.object({email:i1.optional(i1.string()),phone:i1.optional(i1.string()),phoneVerifiedAt:i1.optional(i1.number())}),(c=eE||(eE={})).Parameters=i1.object({address:i5()}),c.Request=i1.object({method:i1.literal("account_onrampStatus"),params:i1.readonly(i1.tuple([c.Parameters]))}),c.Response=i1.object({email:i1.optional(i1.number()),phone:i1.optional(i1.number())}),(u=eM||(eM={})).Parameters=i1.object({phone:i1.string(),walletAddress:i5()}),u.Request=i1.object({method:i1.literal("account_resendVerifyPhone"),params:i1.readonly(i1.tuple([u.Parameters]))}),u.Response=i1.null(),(d=ek||(ek={})).Parameters=i1.object({email:i1.string().check(i2.regex(/^.*@.*$/)),walletAddress:i5()}),d.Request=i1.object({method:i1.literal("account_setEmail"),params:i1.readonly(i1.tuple([d.Parameters]))}),d.Response=i1.null(),(p=ex||(ex={})).Parameters=i1.object({phone:i1.string(),walletAddress:i5()}),p.Request=i1.object({method:i1.literal("account_setPhone"),params:i1.readonly(i1.tuple([p.Parameters]))}),p.Response=i1.null(),(m=eP||(eP={})).Parameters=i1.object({chainId:i3(),email:i1.string(),signature:i4(),token:i1.string(),walletAddress:i5()}),m.Request=i1.object({method:i1.literal("account_verifyEmail"),params:i1.readonly(i1.tuple([m.Parameters]))}),m.Response=i1.null(),(h=eA||(eA={})).Parameters=i1.object({code:i1.string(),phone:i1.string(),walletAddress:i5()}),h.Request=i1.object({method:i1.literal("account_verifyPhone"),params:i1.readonly(i1.tuple([h.Parameters]))}),h.Response=i1.null(),(f=eC||(eC={})).Request=i1.object({method:i1.literal("health"),params:i1.undefined()}),f.Response=i1.object({quoteSigner:i5(),status:i1.string(),version:i1.string()}),(y=eR||(eR={})).Parameters=i1.object({address:i5(),chainId:i3(),tokenAddress:i5(),value:i8()}),y.Request=i1.object({method:i1.literal("wallet_addFaucetFunds"),params:i1.readonly(i1.tuple([y.Parameters]))}),y.Response=i1.object({message:i1.optional(i1.string()),transactionHash:i4()}),(b=eS||(eS={})).Parameters=i1.object({chainId:i3(),id:i4()}),b.Request=i1.object({method:i1.literal("wallet_getAccounts"),params:i1.readonly(i1.tuple([b.Parameters]))}),b.Response=i1.readonly(i1.array(i1.object({address:i5(),keys:eb.Response}))),(g=eO||(eO={})).Parameters=i1.object({address:i5()}),g.Request=i1.object({method:i1.literal("wallet_getAuthorization"),params:i1.readonly(i1.tuple([g.Parameters]))}),g.Response=i1.object({authorization:sb,data:i4(),to:i5()}),(w=eN||(eN={})).Request=i1.object({method:i1.literal("wallet_getCapabilities"),params:i1.optional(i1.tuple([i1.readonly(i1.array(i1.number()))]))}),a=i1.object({address:i5(),version:i1.optional(i1.union([i1.string(),i1.null()]))}),w.Response=i1.record(i4(),i1.object({contracts:i1.object({accountImplementation:a,accountProxy:a,legacyAccountImplementations:i1.readonly(i1.array(a)),legacyOrchestrators:i1.readonly(i1.array(i1.union([i1.object({orchestrator:a,simulator:a}),a]))),orchestrator:a,simulator:a}),fees:i1.object({quoteConfig:i1.object({constantRate:i1.optional(i1.union([i1.number(),i1.null()])),gas:i1.optional(i1.object({intentBuffer:i1.optional(i1.number()),txBuffer:i1.optional(i1.number())})),rateTtl:i1.number(),ttl:i1.number()}),recipient:i5(),tokens:i1.readonly(i1.array(sh))})})),v=ez||(ez={}),n=i1.union([i1.literal("native"),i1.literal("erc20"),i1.literal("erc721"),i1.string()]),v.Parameters=i1.object({account:i5(),assetFilter:i1.optional(i1.record(i4(),i1.readonly(i1.array(i1.object({address:i1.union([i5(),i1.literal("native")]),type:n}))))),assetTypeFilter:i1.optional(i1.readonly(i1.array(n))),chainFilter:i1.optional(i1.readonly(i1.array(i3())))}),v.Request=i1.object({method:i1.literal("wallet_getAssets"),params:i1.readonly(i1.tuple([v.Parameters]))}),v.Price=i1.object({currency:i1.string(),value:i1.codec(i1.string(),i1.number(),{decode:e=>Number(e),encode:e=>String(e)})}),v.Response=i1.record(i1.string(),i1.readonly(i1.array(i9([i1.object({address:i5(),balance:i8(),metadata:i1.nullable(i1.object({decimals:i1.number(),fiat:i1.nullish(v.Price),name:i1.string(),symbol:i1.string()})),type:i1.literal("erc20")}),i1.object({address:i1.nullable(i1.literal("native")),balance:i8(),metadata:i1.nullable(i1.object({decimals:i1.number(),fiat:i1.nullish(v.Price),name:i1.optional(i1.string()),symbol:i1.optional(i1.string())})),type:i1.literal("native")})])))),(j=e_||(e_={})).Request=i1.object({method:i1.literal("wallet_getCallsStatus"),params:i1.readonly(i1.tuple([i4()]))}),j.Response=i1.object({id:i1.string(),receipts:i1.optional(i1.readonly(i1.array(i1.object({blockHash:i4(),blockNumber:i3(),chainId:i3(),gasUsed:i3(),logs:i1.readonly(i1.array(i1.object({address:i5(),data:i4(),topics:i1.readonly(i1.array(i4()))}))),status:i4(),transactionHash:i4()})))),status:i1.number()}),(I=eD||(eD={})).Parameters=i1.object({address:i5(),index:i1.optional(i1.number()),limit:i1.number(),sort:i1.union([i1.literal("asc"),i1.literal("desc")])}),I.Request=i1.object({method:i1.literal("wallet_getCallsHistory"),params:i1.readonly(i1.tuple([I.Parameters]))}),I.Transaction=i1.object({chainId:i3(),transactionHash:i4()}),I.Capabilities=i1.object({assetDiffs:i1.optional(ey.Response),feeTotals:i1.optional(eg.Response),quotes:i1.optional(i1.readonly(i1.array(sd)))}),I.Entry=i1.object({capabilities:I.Capabilities,id:i4(),index:i1.number(),keyHash:i4(),status:i1.number(),timestamp:i1.number(),transactions:i1.readonly(i1.array(I.Transaction))}),I.Response=i1.readonly(i1.array(I.Entry)),(E=eT||(eT={})).Parameters=i1.object({address:i5(),chainIds:i1.optional(i1.readonly(i1.array(i3())))}),E.Request=i1.object({method:i1.literal("wallet_getKeys"),params:i1.readonly(i1.tuple([E.Parameters]))}),E.Response=i1.record(i4(),eb.Response),(M=eq||(eq={})).Capabilities=i1.object({authorizeKeys:i1.optional(eb.Request),meta:ew.Request,preCall:i1.optional(i1.boolean()),preCalls:i1.optional(i1.readonly(i1.array(ss))),requiredFunds:i1.optional(ev.Request),revokeKeys:i1.optional(ej.Request)}),M.ResponseCapabilities=i1.object({assetDiffs:i1.optional(ey.Response),authorizeKeys:i1.nullish(eb.Response),feePayerDigest:i1.optional(i4()),feeSignature:i1.optional(i4()),feeTotals:i1.optional(eg.Response),revokeKeys:i1.nullish(ej.Response)}),M.Parameters=i1.object({calls:i1.readonly(i1.array(sg)),capabilities:M.Capabilities,chainId:i3(),from:i1.optional(i5()),key:i1.optional(i1.object({prehash:i1.boolean(),publicKey:i4(),type:sn.shape.type}))}),M.Request=i1.object({method:i1.literal("wallet_prepareCalls"),params:i1.readonly(i1.tuple([M.Parameters]))}),M.Response=i1.object({capabilities:M.ResponseCapabilities,context:i1.object({preCall:i1.optional(i1.partial(so)),quote:i1.optional(i1.partial(sm))}),digest:i4(),key:i1.nullish(i1.object({prehash:i1.boolean(),publicKey:i4(),type:sn.shape.type})),signature:i4(),typedData:i1.object({domain:i1.union([i1.object({chainId:i1.union([i3(),i1.number()]),name:i1.string(),verifyingContract:i5(),version:i1.string()}),i1.object({})]),message:i1.record(i1.string(),i1.unknown()),primaryType:i1.string(),types:i1.record(i1.string(),i1.unknown())})}),(k=eU||(eU={})).Capabilities=i1.object({authorizeKeys:eb.Request}),k.Parameters=i1.object({address:i5(),capabilities:k.Capabilities,chainId:i1.optional(i1.number()),delegation:i5()}),k.Request=i1.object({method:i1.literal("wallet_prepareUpgradeAccount"),params:i1.readonly(i1.tuple([k.Parameters]))}),k.Response=i1.object({capabilities:k.Capabilities,chainId:i3(),context:i1.object({address:i5(),authorization:sy,chainId:i3(),preCall:ss}),digests:i1.object({auth:i4(),exec:i4()}),typedData:i1.object({domain:i1.union([i1.object({chainId:i1.union([i3(),i1.number()]),name:i1.string(),verifyingContract:i5(),version:i1.string()}),i1.object({})]),message:i1.record(i1.string(),i1.unknown()),primaryType:i1.string(),types:i1.record(i1.string(),i1.unknown())})}),(x=eB||(eB={})).Request=i1.object({method:i1.literal("wallet_feeTokens"),params:i1.optional(i1.undefined())}),x.Response=i1.record(i4(),i1.readonly(i1.array(i1.object({address:i5(),decimals:i1.number(),nativeRate:i1.optional(i8()),symbol:i1.string()})))),(P=eL||(eL={})).Parameters=i1.object({capabilities:i1.optional(i1.object({feeSignature:i1.optional(i4())})),context:i1.object({preCall:i1.optional(i1.partial(so)),quote:i1.optional(i1.partial(sm))}),key:i1.optional(i1.object({prehash:i1.boolean(),publicKey:i4(),type:sn.shape.type})),signature:i4()}),P.Request=i1.object({method:i1.literal("wallet_sendPreparedCalls"),params:i1.readonly(i1.tuple([P.Parameters]))}),P.Response=i1.object({id:i4()}),(A=e$||(e$={})).Parameters=i1.object({context:i1.object({address:i5(),authorization:sy,chainId:i3(),preCall:ss}),signatures:i1.object({auth:i4(),exec:i4()})}),A.Request=i1.object({method:i1.literal("wallet_upgradeAccount"),params:i1.readonly(i1.tuple([A.Parameters]))}),A.Response=i1.undefined(),(C=eF||(eF={})).Parameters=i1.object({address:i4(),chainId:i3(),digest:i4(),signature:i4()}),C.Request=i1.object({method:i1.literal("wallet_verifySignature"),params:i1.readonly(i1.tuple([C.Parameters]))}),C.Response=i1.object({proof:i1.nullish(i1.object({account:i5(),initPreCall:i1.nullish(ss),keyHash:i4()})),valid:i1.boolean()});class s$ extends aF.BaseError{constructor(e){super("An error occurred while executing calls.",{cause:e,metaMessages:[e.abiError&&"Reason: "+e.abiError.name].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Rpc.ExecutionError"}),Object.defineProperty(this,"abiError",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiError=e.abiError}}var sF=e.i(63625),sK=e.i(88233),sH=e.i(95331);function sY(e,t={}){let{key:r="fallback",name:a="Fallback",rank:n=!1,shouldThrow:i=sW,retryCount:s,retryDelay:o}=t;return({chain:t,pollingInterval:l=4e3,timeout:c,...u})=>{let d=e,p=()=>{},m=(0,sH.createTransport)({key:r,name:a,async request({method:e,params:r}){let a,n=async(s=0)=>{let o=d[s]({...u,chain:t,retryCount:0,timeout:c});try{let t=await o.request({method:e,params:r});return p({method:e,params:r,response:t,transport:o,status:"success"}),t}catch(l){if(p({error:l,method:e,params:r,transport:o,status:"error"}),i(l)||s===d.length-1||!(a??=d.slice(s+1).some(r=>{let{include:a,exclude:n}=r({chain:t}).config.methods||{};return a?a.includes(e):!n||!n.includes(e)})))throw l;return n(s+1)}};return n()},retryCount:s,retryDelay:o,type:"fallback"},{onResponse:e=>p=e,transports:d.map(e=>e({chain:t,retryCount:0}))});if(n){let e="object"==typeof n?n:{};!function({chain:e,interval:t=4e3,onTransports:r,ping:a,sampleCount:n=10,timeout:i=1e3,transports:s,weights:o={}}){let{stability:l=.7,latency:c=.3}=o,u=[],d=async()=>{let o=await Promise.all(s.map(async t=>{let r,n,s=t({chain:e,retryCount:0,timeout:i}),o=Date.now();try{await (a?a({transport:s}):s.request({method:"net_listening"})),n=1}catch{n=0}finally{r=Date.now()}return{latency:r-o,success:n}}));u.push(o),u.length>n&&u.shift();let p=Math.max(...u.map(e=>Math.max(...e.map(({latency:e})=>e))));r(s.map((e,t)=>{let r=u.map(e=>e[t].latency),a=r.reduce((e,t)=>e+t,0)/r.length,n=u.map(e=>e[t].success),i=n.reduce((e,t)=>e+t,0)/n.length;return 0===i?[0,t]:[c*(1-a/p)+l*i,t]}).sort((e,t)=>t[0]-e[0]).map(([,e])=>s[e])),await (0,sK.wait)(t),d()};d()}({chain:t,interval:e.interval??l,onTransports:e=>d=e,ping:e.ping,sampleCount:e.sampleCount,timeout:e.timeout,transports:d,weights:e.weights})}return m}}function sW(e){return!!("code"in e&&"number"==typeof e.code&&(e.code===i_.TransactionRejectedRpcError.code||e.code===i_.UserRejectedRequestError.code||tZ.ExecutionRevertedError.nodeMessage.test(e.message)||5e3===e.code))}var sV=e.i(10163);let sQ={anvil:{http:"http://localhost:9119"},prod:{http:"https://rpc.porto.sh"},stg:{http:"https://stg-rpc.porto.sh"}};function sG(e){return t=>{let r=e.public(t),a=e.relay(t);return(0,sH.createTransport)({key:sG.type,name:"Relay Proxy",request:async({method:e,params:t},n)=>{var i;return(i=e).startsWith("wallet_")||i.startsWith("account_")||"health"===i?a.request({method:e,params:t},n):r.request({method:e,params:t},n)},type:sG.type})}}(sG||(sG={})).type="relayProxy",e.s(["relayProxy",()=>sG,"relayUrls",0,sQ],69702);let sZ=new Map,sJ=i1.object({chainId:i1.optional(i3()),expiry:i3(),hash:i4(),id:i4(),prehash:i1.optional(i1.boolean()),publicKey:i4(),role:i1.union([i1.literal("admin"),i1.literal("session")]),type:i1.union([i1.literal("address"),i1.literal("p256"),i1.literal("secp256k1"),i1.literal("webauthn-p256")])}),sX=i1.readonly(i1.array(i9([i1.object({signature:i1.string(),to:i5()}),i1.object({signature:i1.string()}),i1.object({to:i5()})])).check(i2.minLength(1))),s0=i1.object({limit:i1.union([i1.templateLiteral([i1.number(),".",i1.number()]),i1.templateLiteral([i1.number()])]).check(i2.regex(/^\d+(\.\d+)?$/)),symbol:i1.optional(i1.union([i1.literal("native"),sf]))}),s1=i1.object({addresses:i1.readonly(i1.array(i5()))}),s2=i1.readonly(i1.array(i1.object({limit:i8(),period:i1.union([i1.literal("minute"),i1.literal("hour"),i1.literal("day"),i1.literal("week"),i1.literal("month"),i1.literal("year")]),token:i1.optional(i5())}))),s6=i1.object({calls:i1.optional(sX),signatureVerification:i1.optional(s1),spend:i1.optional(s2)}),s5=i1.object({...sJ.shape,feeToken:i1.optional(i1.nullable(s0)),permissions:i1.optional(s6)}),s4=i1.object({address:i5(),chainId:i1.optional(i3()),expiry:i1.number(),id:i4(),key:i1.pick(sJ,{publicKey:!0,type:!0}),permissions:i1.object({calls:sX,signatureVerification:i1.optional(s1),spend:i1.optional(s2)})}),s3=i1.object({address:i1.optional(i5()),chainId:i1.optional(i3()),expiry:i1.number().check(i2.gte(1)),feeToken:i1.nullable(s0),key:i1.optional(i1.pick(sJ,{publicKey:!0,type:!0})),permissions:i1.object({calls:sX,signatureVerification:i1.optional(s1),spend:i1.optional(s2)})});function s8(e,t){let{chainId:r,expiry:a,permissions:n,id:i,publicKey:s,type:o}=e,{address:l}=t;return{address:l,chainId:r,expiry:a,id:i,key:{publicKey:s,type:o},permissions:n??{}}}function s9(e){let{chainId:t,expiry:r,key:a}=e;return r8.from({chainId:t,expiry:r,permissions:e.permissions??{},publicKey:a.publicKey,role:"session",type:a.type})}(eK||(eK={})).GetCapabilitiesResponse=i1.object({status:i1.union([i1.literal("supported"),i1.literal("unsupported")])}),(eH||(eH={})).Request=i1.union([i1.boolean(),i1.object({chainId:i1.optional(i3()),label:i1.optional(i1.string())})]),(R=eY||(eY={})).Request=i9([i1.object({chainId:i1.optional(i1.number()),domain:i1.optional(i1.string()),expirationTime:i1.optional(i1.date()),issuedAt:i1.optional(i1.date()),nonce:i1.string(),notBefore:i1.optional(i1.date()),requestId:i1.optional(i1.string()),resources:i1.optional(i1.readonly(i1.array(i1.string()))),scheme:i1.optional(i1.string()),statement:i1.optional(i1.string()),uri:i1.optional(i1.string()),version:i1.optional(i1.literal("1"))}),i1.object({authUrl:i1.union([i1.string(),i1.object({logout:i1.string(),nonce:i1.string(),verify:i1.string()})]),chainId:i1.optional(i3()),domain:i1.optional(i1.string()),expirationTime:i1.optional(i1.date()),issuedAt:i1.optional(i1.date()),notBefore:i1.optional(i1.date()),requestId:i1.optional(i1.string()),resources:i1.optional(i1.readonly(i1.array(i1.string()))),scheme:i1.optional(i1.string()),statement:i1.optional(i1.string()),uri:i1.optional(i1.string()),version:i1.optional(i1.literal("1"))})]),R.Response=i1.object({message:i1.string(),signature:i4(),token:i1.optional(i1.string())}),(S=eW||(eW={})).GetCapabilitiesResponse=i1.object({supported:i1.boolean(),tokens:i1.readonly(i1.array(sh))}),S.Request=i1.union([sf,i5()]),(eV||(eV={})).Request=s3,(eQ||(eQ={})).GetCapabilitiesResponse=i1.object({supported:i1.boolean()}),(O=eG||(eG={})).GetCapabilitiesResponse=i1.object({supported:i1.boolean()}),O.Request=i1.object({id:i1.optional(i1.union([i4(),i1.null()]))}),O.Response=i1.readonly(i1.array(s4)),(N=eZ||(eZ={})).Request=i1.readonly(i1.array(i1.object({context:i1.unknown(),signature:i4()}))),N.Response=N.Request,(eJ||(eJ={})).Request=i1.string(),(z=eX||(eX={})).GetCapabilitiesResponse=i1.object({supported:i1.boolean(),tokens:i1.readonly(i1.array(sh))}),z.Request=i1.readonly(i1.array(i9([i1.object({address:i5(),value:i8()}),i1.object({symbol:sf,value:i1.union([i1.templateLiteral([i1.number(),".",i1.number()]),i1.templateLiteral([i1.number()])]).check(i2.regex(/^\d+(\.\d+)?$/))})])));let s7=i1.object({...i1.pick(sJ,{id:!0,publicKey:!0,type:!0}).shape,credentialId:i1.optional(i1.string()),privateKey:i1.optional(i1.any())});(_=e0||(e0={})).Parameters=i1.object({address:i5(),secret:i1.string()}),_.Request=i1.object({method:i1.literal("account_getOnrampContactInfo"),params:i1.readonly(i1.tuple([_.Parameters]))}),_.Response=i1.object({email:i1.optional(i1.string()),phone:i1.optional(i1.string()),phoneVerifiedAt:i1.optional(i1.number())}),(D=e1||(e1={})).Parameters=i1.object({address:i5()}),D.Request=i1.object({method:i1.literal("account_onrampStatus"),params:i1.readonly(i1.tuple([D.Parameters]))}),D.Response=i1.object({email:i1.optional(i1.number()),phone:i1.optional(i1.number())}),(T=e2||(e2={})).Parameters=i1.object({email:i1.string(),walletAddress:i5()}),T.Request=i1.object({method:i1.literal("account_resendVerifyPhone"),params:i1.readonly(i1.tuple([T.Parameters]))}),T.Response=i1.null(),(q=e6||(e6={})).Parameters=i1.object({email:i1.string(),walletAddress:i5()}),q.Request=i1.object({method:i1.literal("account_setEmail"),params:i1.readonly(i1.tuple([q.Parameters]))}),q.Response=i1.null(),(U=e5||(e5={})).Parameters=i1.object({email:i1.string(),walletAddress:i5()}),U.Request=i1.object({method:i1.literal("account_setPhone"),params:i1.readonly(i1.tuple([U.Parameters]))}),U.Response=i1.null(),(B=e4||(e4={})).Parameters=i1.object({chainId:i3(),email:i1.string(),token:i1.string(),walletAddress:i5()}),B.Request=i1.object({method:i1.literal("account_verifyEmail"),params:i1.readonly(i1.tuple([B.Parameters]))}),B.Response=i1.null(),(L=e3||(e3={})).Parameters=i1.object({code:i1.string(),phone:i1.string(),walletAddress:i5()}),L.Request=i1.object({method:i1.literal("account_verifyPhone"),params:i1.readonly(i1.tuple([L.Parameters]))}),L.Response=i1.null(),($=e8||(e8={})).Parameters=i1.object({address:i1.optional(i5()),chainId:i1.optional(i3()),token:i1.optional(i5()),value:i1.optional(i1.string())}),$.Request=i1.object({method:i1.literal("wallet_addFunds"),params:i1.readonly(i1.tuple([$.Parameters]))}),$.Response=i1.object({id:i4()}),(F=e9||(e9={})).Request=i1.object({method:i1.literal("eth_accounts"),params:i1.optional(i1.unknown())}),F.Response=i1.readonly(i1.array(i5())),(K=e7||(e7={})).Request=i1.object({method:i1.literal("eth_chainId"),params:i1.optional(i1.unknown())}),K.Response=i4(),(H=te||(te={})).Request=i1.object({method:i1.literal("eth_requestAccounts"),params:i1.optional(i1.unknown())}),H.Response=i1.readonly(i1.array(i5())),(Y=tt||(tt={})).Request=i1.object({method:i1.literal("eth_sendTransaction"),params:i1.readonly(i1.tuple([i1.object({capabilities:i1.optional(i1.object({feeToken:i1.optional(eW.Request),merchantUrl:i1.optional(eJ.Request),preCalls:i1.optional(eZ.Request)})),chainId:i1.optional(i3()),data:i1.optional(i4()),from:i1.optional(i5()),to:i5(),value:i1.optional(i8())})]))}),Y.Response=i4(),(W=tr||(tr={})).Request=i1.object({method:i1.literal("eth_signTypedData_v4"),params:i1.readonly(i1.tuple([i5(),i1.string()]))}),W.Response=i4(),(V=ta||(ta={})).Parameters=i1.object({address:i1.optional(i5()),chainId:i1.optional(i3())}),V.Request=i1.object({method:i1.literal("wallet_getAdmins"),params:i1.optional(i1.readonly(i1.tuple([V.Parameters])))}),V.Key=s7,V.Response=i1.object({address:i5(),chainId:i3(),keys:i1.readonly(i1.array(V.Key))}),(Q=tn||(tn={})).Capabilities=i1.object({feeToken:i1.optional(eW.Request)}),Q.Parameters=i1.object({address:i1.optional(i5()),capabilities:i1.optional(Q.Capabilities),chainId:i1.optional(i3()),key:i1.pick(sJ,{publicKey:!0,type:!0})}),Q.Request=i1.object({method:i1.literal("wallet_grantAdmin"),params:i1.readonly(i1.tuple([Q.Parameters]))}),Q.Response=i1.object({address:i5(),chainId:i3(),key:ta.Key}),(G=ti||(ti={})).Parameters=s3,G.Request=i1.object({method:i1.literal("wallet_grantPermissions"),params:i1.readonly(i1.tuple([G.Parameters]))}),G.ResponseCapabilities=i1.object({preCalls:i1.optional(eZ.Response)}),G.Response=i1.object({...s4.shape,capabilities:i1.optional(i1.any())}),(Z=ts||(ts={})).Parameters=i1.object({address:i1.optional(i5())}),Z.Request=i1.object({method:i1.literal("wallet_getAccountVersion"),params:i1.optional(i1.readonly(i1.tuple([Z.Parameters])))}),Z.Response=i1.object({current:i1.string(),latest:i1.string()}),(J=to||(to={})).Parameters=i1.object({address:i1.optional(i5()),chainIds:i1.optional(i1.readonly(i1.array(i3())))}),J.Request=i1.object({method:i1.literal("wallet_getPermissions"),params:i1.optional(i1.readonly(i1.tuple([J.Parameters])))}),J.Response=eG.Response,(X=tl||(tl={})).Capabilities=i1.object({feeToken:i1.optional(eW.Request)}),X.Parameters=i1.object({address:i1.optional(i5()),capabilities:i1.optional(X.Capabilities),chainId:i1.optional(i3()),id:i4()}),X.Request=i1.object({method:i1.literal("wallet_revokeAdmin"),params:i1.readonly(i1.tuple([X.Parameters]))}),X.Response=void 0,(ee=tc||(tc={})).Capabilities=i1.object({feeToken:i1.optional(eW.Request)}),ee.Parameters=i1.object({address:i1.optional(i5()),capabilities:i1.optional(ee.Capabilities),id:i4()}),ee.Request=i1.object({method:i1.literal("wallet_revokePermissions"),params:i1.readonly(i1.tuple([ee.Parameters]))}),ee.Response=void 0,(tu||(tu={})).Request=i1.object({method:i1.literal("wallet_switchEthereumChain"),params:i1.readonly(i1.tuple([i1.object({chainId:i4()})]))}),(et=td||(td={})).Parameters=i1.object({context:i1.unknown(),signatures:i1.object({auth:i4(),exec:i4()})}),et.Request=i1.object({method:i1.literal("wallet_upgradeAccount"),params:i1.readonly(i1.tuple([et.Parameters]))}),et.ResponseCapabilities=i1.object({admins:i1.optional(i1.readonly(i1.array(ta.Key))),permissions:i1.optional(eG.Response)}),et.Response=i1.object({address:i5(),capabilities:i1.optional(et.ResponseCapabilities)}),(er=tp||(tp={})).Request=i1.object({method:i1.literal("personal_sign"),params:i1.readonly(i1.tuple([i4(),i5()]))}),er.Response=i4(),(ea=tm||(tm={})).Request=i1.object({method:i1.literal("porto_ping"),params:i1.optional(i1.undefined())}),ea.Response=i1.literal("pong"),(en=th||(th={})).Capabilities=i1.object({createAccount:i1.optional(eH.Request),email:i1.optional(i1.boolean()),grantAdmins:i1.optional(i1.readonly(i1.array(i1.pick(sJ,{publicKey:!0,type:!0})))),grantPermissions:i1.optional(eV.Request),preCalls:i1.optional(eZ.Request),selectAccount:i1.optional(i1.union([i1.boolean(),i1.object({address:i5(),key:i1.optional(i1.object({credentialId:i1.optional(i1.string()),publicKey:i4()}))})])),signInWithEthereum:i1.optional(eY.Request)}),en.Parameters=i1.object({capabilities:i1.optional(en.Capabilities),chainIds:i1.optional(i1.readonly(i1.array(i3())))}),en.Request=i1.object({method:i1.literal("wallet_connect"),params:i1.optional(i1.readonly(i1.tuple([en.Parameters])))}),en.ResponseCapabilities=i1.object({admins:i1.optional(i1.readonly(i1.array(i1.object({...i1.pick(sJ,{id:!0,publicKey:!0,type:!0}).shape,credentialId:i1.optional(i1.string())})))),permissions:i1.optional(eG.Response),preCalls:i1.optional(eZ.Response),signInWithEthereum:i1.optional(eY.Response)}),en.Response=i1.object({accounts:i1.readonly(i1.array(i1.object({address:i5(),capabilities:i1.optional(en.ResponseCapabilities)}))),chainIds:i1.readonly(i1.array(i3()))}),(ei=tf||(tf={})).Request=i1.object({method:i1.literal("wallet_disconnect"),params:i1.optional(i1.unknown())}),ei.Response=void 0,(es=ty||(ty={})).Parameters=ez.Parameters,es.Request=ez.Request,es.Response=ez.Response,(eo=tb||(tb={})).Request=i1.object({method:i1.literal("wallet_getCallsStatus"),params:i1.tuple([i4()])}),eo.Response=i1.object({atomic:i1.boolean(),chainId:i3(),id:i1.string(),receipts:i1.optional(i1.readonly(i1.array(i1.object({blockHash:i4(),blockNumber:i4(),gasUsed:i4(),logs:i1.readonly(i1.array(i1.object({address:i5(),data:i4(),topics:i1.readonly(i1.array(i4()))}))),status:i4(),transactionHash:i4()})))),status:i1.number(),version:i1.string()}),(el=tg||(tg={})).Parameters=eD.Parameters,el.Request=eD.Request,el.Transaction=eD.Transaction,el.Capabilities=eD.Capabilities,el.Entry=eD.Entry,el.Response=eD.Response,(ec=tw||(tw={})).Request=i1.object({method:i1.literal("wallet_getCapabilities"),params:i1.optional(i1.union([i1.readonly(i1.tuple([i1.union([i4(),i1.undefined()])])),i1.readonly(i1.tuple([i1.union([i4(),i1.undefined()]),i1.readonly(i1.array(i3()))]))]))}),ec.Response=i1.record(i4(),i1.object({atomic:eK.GetCapabilitiesResponse,feeToken:eW.GetCapabilitiesResponse,merchant:eQ.GetCapabilitiesResponse,permissions:eG.GetCapabilitiesResponse,requiredFunds:eX.GetCapabilitiesResponse})),(eu=tv||(tv={})).Parameters=i1.object({address:i5(),chainIds:i1.optional(i1.readonly(i1.array(i3())))}),eu.Request=i1.object({method:i1.literal("wallet_getKeys"),params:i1.readonly(i1.tuple([eu.Parameters]))}),eu.Response=i1.readonly(i1.array(s5)),(ed=tj||(tj={})).Capabilities=i1.object({feeToken:i1.optional(eW.Request),merchantUrl:i1.optional(eJ.Request),permissions:i1.optional(eG.Request),preCalls:i1.optional(eZ.Request),requiredFunds:i1.optional(eX.Request)}),ed.Parameters=i1.object({calls:i1.readonly(i1.array(i1.object({data:i1.optional(i4()),to:i5(),value:i1.optional(i8())}))),capabilities:i1.optional(ed.Capabilities),chainId:i1.optional(i3()),from:i1.optional(i5()),key:i1.optional(i1.pick(sJ,{prehash:!0,publicKey:!0,type:!0})),version:i1.optional(i1.string())}),ed.Request=i1.object({method:i1.literal("wallet_prepareCalls"),params:i1.readonly(i1.tuple([ed.Parameters]))}),ed.Response=i1.object({capabilities:i1.optional(i1.object({...eq.ResponseCapabilities.shape,quote:i1.optional(sm)})),chainId:i4(),context:i1.object({account:i1.object({address:i5()}),calls:ed.Parameters.shape.calls,nonce:i8(),quote:i1.optional(i1.partial(sm))}),digest:i4(),key:i1.pick(sJ,{prehash:!0,publicKey:!0,type:!0}),typedData:i1.object({domain:i1.union([i1.object({chainId:i3(),name:i1.string(),verifyingContract:i5(),version:i1.string()}),i1.object({})]),message:i1.record(i1.string(),i1.unknown()),primaryType:i1.string(),types:i1.record(i1.string(),i1.unknown())})}),(ep=tI||(tI={})).Capabilities=i1.object({...th.Capabilities.shape,label:i1.optional(i1.string())}),ep.Parameters=i1.object({address:i5(),capabilities:i1.optional(ep.Capabilities),chainId:i1.optional(i3())}),ep.Request=i1.object({method:i1.literal("wallet_prepareUpgradeAccount"),params:i1.readonly(i1.tuple([ep.Parameters]))}),ep.Response=i1.object({context:i1.unknown(),digests:i1.object({auth:i4(),exec:i4()})}),(em=tE||(tE={})).Capabilities=tj.Capabilities,em.Request=i1.object({method:i1.literal("wallet_sendCalls"),params:i1.readonly(i1.tuple([i1.omit(tj.Parameters,{key:!0})]))}),em.Response=i1.object({id:i4()}),(eh=tM||(tM={})).Parameters=i1.object({capabilities:tj.Response.shape.capabilities,chainId:i4(),context:tj.Response.shape.context,key:tj.Response.shape.key,signature:i4()}),eh.Request=i1.object({method:i1.literal("wallet_sendPreparedCalls"),params:i1.readonly(i1.tuple([eh.Parameters]))}),eh.Response=i1.readonly(i1.array(i1.object({capabilities:i1.optional(i1.record(i1.string(),i1.unknown())),id:i4()}))),(ef=tk||(tk={})).Parameters=i1.object({address:i5(),chainId:i1.optional(i3()),digest:i4(),signature:i4()}),ef.Request=i1.object({method:i1.literal("wallet_verifySignature"),params:i1.readonly(i1.tuple([ef.Parameters]))}),ef.Response=i1.object({address:i5(),chainId:i3(),proof:i1.optional(i1.unknown()),valid:i1.boolean()}),e.s(["account_getOnrampContactInfo",()=>e0,"account_onrampStatus",()=>e1,"account_resendVerifyPhone",()=>e2,"account_setEmail",()=>e6,"account_setPhone",()=>e5,"account_verifyEmail",()=>e4,"account_verifyPhone",()=>e3,"eth_accounts",()=>e9,"eth_chainId",()=>e7,"eth_requestAccounts",()=>te,"eth_sendTransaction",()=>tt,"eth_signTypedData_v4",()=>tr,"personal_sign",()=>tp,"porto_ping",()=>tm,"wallet_addFunds",()=>e8,"wallet_connect",()=>th,"wallet_disconnect",()=>tf,"wallet_getAccountVersion",()=>ts,"wallet_getAdmins",()=>ta,"wallet_getAssets",()=>ty,"wallet_getCallsHistory",()=>tg,"wallet_getCallsStatus",()=>tb,"wallet_getCapabilities",()=>tw,"wallet_getKeys",()=>tv,"wallet_getPermissions",()=>to,"wallet_grantAdmin",()=>tn,"wallet_grantPermissions",()=>ti,"wallet_prepareCalls",()=>tj,"wallet_prepareUpgradeAccount",()=>tI,"wallet_revokeAdmin",()=>tl,"wallet_revokePermissions",()=>tc,"wallet_sendCalls",()=>tE,"wallet_sendPreparedCalls",()=>tM,"wallet_switchEthereumChain",()=>tu,"wallet_upgradeAccount",()=>td,"wallet_verifySignature",()=>tk],28723);let oe=i1.discriminatedUnion("method",[e4.Request,e8.Request,e9.Request,e7.Request,te.Request,tt.Request,tr.Request,ts.Request,ta.Request,to.Request,tn.Request,ti.Request,tI.Request,tl.Request,tc.Request,td.Request,tp.Request,tm.Request,th.Request,tf.Request,ty.Request,tb.Request,tg.Request,tw.Request,tv.Request,tj.Request,tE.Request,tM.Request,tu.Request,tk.Request]);function ot(e,t){let r=aT.safeParse(e,t);if(r.error){let e=r.error.issues.at(0);if(e?.code==="invalid_union"&&"No matching discriminator"===e.note)throw new rj;throw new rx(se(r.error))}return{...t,_decoded:r.data}}async function or(e){e.persist.hasHydrated()||await new Promise(t=>{e.persist.onFinishHydration(()=>t(!0)),setTimeout(()=>t(!0),100)})}function oa(e){if(e)return e.startsWith("/")?`${window.location.origin}${e}`:e}function on(e){let t,r,a,n,{config:i,getMode:s,id:o,store:l}=e,{announceProvider:c}=i;function u(e={}){let t=d(),r=e.request??ot(oe,{method:"wallet_getCapabilities",params:e.chainIds?[void 0,e.chainIds]:void 0});return aD(()=>s().actions.getCapabilities({chainIds:e.chainIds,internal:{client:t,config:i,request:r,store:l}}),{cacheKey:`getCapabilities.${o}.${e.chainIds?.join(",")}`})}function d(t){return function(e,t={}){let{config:r,id:a,store:n}=e._internal,{chains:i,relay:s}=r,o=n.getState(),l=t.chainId??o.chainIds[0],c=i.find(e=>e.id===l);if(!c)throw Error(`Could not find a compatible Porto chain on the given chain configuration.

Provided chains: [${i.map(e=>`${e.name} (id: ${e.id})`).join(", ")}]
Needed chain (id): ${l}
Please add this chain (id) to your chain configuration.`);let u=sG({public:r.transports[c.id]??sY(c.rpcUrls.default.http.map(e=>(0,sV.http)(e))),relay:s}),d=[a,rp.stringify(c)].filter(Boolean).join(":");if(sZ.has(d))return sZ.get(d);let p=(0,sF.createClient)({...t,chain:c,pollingInterval:1e3,transport:u});return sZ.set(d,p),p}({_internal:e},{chainId:"string"==typeof t?aO.toNumber(t):t})}let p=new Map,m=[],h={get eventNames(){return t.eventNames.bind(t)},get listenerCount(){return t.listenerCount.bind(t)},get listeners(){return t.listeners.bind(t)},addListener:(t=new rm.EventEmitter).addListener.bind(t),emit:t.emit.bind(t),off:t.off.bind(t),on:t.on.bind(t),once:t.once.bind(t),removeAllListeners:t.removeAllListeners.bind(t),removeListener:t.removeListener.bind(t)},f=rF({...h,async request(e){await or(l);let t=["eth_accounts","eth_chainId","eth_requestAccounts","wallet_getAssets","wallet_getCapabilities","wallet_getKeys","wallet_getPermissions","wallet_getAccountVersion","wallet_connect"].includes(e.method);return ao(async()=>{let t;try{t=ot(oe,e)}catch(t){if(!(t instanceof rj))throw t;if(e.method.startsWith("wallet_"))throw new rO;return d().request(e)}let r=l.getState();switch(t.method){case"account_verifyEmail":{if(0===r.accounts.length)throw new rN;let[e]=t._decoded.params,{chainId:a,email:n,token:o,walletAddress:c}=e,u=d(a);if(a&&a!==u.chain.id)throw new rz;let p=c?r.accounts.find(e=>rY.isEqual(e.address,c)):r.accounts[0];if(!p)throw new rS;return await s().actions.verifyEmail({account:p,chainId:a,email:n,internal:{client:u,config:i,request:t,store:l},token:o,walletAddress:c})}case"wallet_addFunds":{let{address:e,value:a,token:n}=t.params[0]??{},o=e?r.accounts.find(t=>rY.isEqual(t.address,e)):r.accounts[0],c=d(),u=await s().actions.addFunds({address:o?.address,internal:{client:c,config:i,request:t,store:l},token:n,value:a});return h.emit("message",{data:null,type:"assetsChanged"}),u}case"eth_accounts":if(0===r.accounts.length)throw new rN;return r.accounts.map(oo);case"eth_chainId":return aO.fromNumber(r.chainIds[0]);case"eth_requestAccounts":{if(r.accounts.length>0&&p.get("eth_requestAccounts"))return r.accounts.map(oo);let e=d(),{accounts:a}=await s().actions.loadAccounts({internal:{client:e,config:i,request:t,store:l}});return l.setState(e=>({...e,accounts:a})),h.emit("connect",{chainId:aO.fromNumber(e.chain.id)}),p.set("eth_requestAccounts",!0),setTimeout(()=>p.delete("eth_requestAccounts"),1e3),a.map(oo)}case"eth_sendTransaction":{let[{capabilities:e,chainId:a,data:n="0x",from:o,to:c,value:u}]=t._decoded.params,p=d(a);if(a&&a!==p.chain.id)throw new rz;let m=o?r.accounts.find(e=>rY.isEqual(e.address,o)):r.accounts[0];if(o&&!m)throw new rS;let{id:h}=await s().actions.sendCalls({account:m,asTxHash:!0,calls:[{data:n,to:c,value:u}],chainId:p.chain.id,internal:{client:p,config:i,request:t,store:l},merchantUrl:oa(i.merchantUrl??e?.merchantUrl)});return h}case"eth_signTypedData_v4":{if(0===r.accounts.length)throw new rN;let[e,a]=t._decoded.params,n=r.accounts.find(t=>rY.isEqual(t.address,e));if(!n)throw new rS;let o=d();return await s().actions.signTypedData({account:n,data:a,internal:{client:o,config:i,request:t,store:l}})}case"wallet_grantAdmin":{if(0===r.accounts.length)throw new rN;let[{address:e,capabilities:a,chainId:n,key:o}]=t._decoded.params??[{}],c=e?r.accounts.find(t=>rY.isEqual(t.address,e)):r.accounts[0];if(!c)throw new rS;let u=d(n);if(oi([...c.keys??[]])?.some(e=>e.publicKey?.toLowerCase()===o.publicKey.toLowerCase()))throw new rx({message:"Key already granted as admin."});let{key:p}=await s().actions.grantAdmin({account:c,feeToken:a?.feeToken,internal:{client:u,config:i,request:t,store:l},key:o});l.setState(e=>{let t=e.accounts.findIndex(e=>!c||rY.isEqual(e.address,c.address));return -1===t?e:{...e,accounts:e.accounts.map((e,r)=>r===t?{...e,keys:[...e.keys??[],p]}:e)}});let m=oi([...c.keys??[],p]);return h.emit("message",{data:null,type:"adminsChanged"}),aT.encode(tn.Response,{address:c.address,chainId:u.chain.id,key:m.at(-1)})}case"wallet_grantPermissions":{if(0===r.accounts.length)throw new rN;let[{address:e,chainId:a,...n}]=t._decoded.params??[{}],o=e?r.accounts.find(t=>rY.isEqual(t.address,e)):r.accounts[0];if(!o)throw new rS;let c=d(a),{key:u}=await s().actions.grantPermissions({account:o,internal:{client:c,config:i,request:t,store:l},permissions:n});return l.setState(e=>{let t=e.accounts.findIndex(e=>!o||rY.isEqual(e.address,o.address));return -1===t?e:{...e,accounts:e.accounts.map((e,r)=>r===t?{...e,keys:[...e.keys??[],u]}:e)}}),h.emit("message",{data:null,type:"permissionsChanged"}),aT.encode(ti.Response,{...s8(u,{address:o.address})})}case"wallet_getAdmins":{if(0===r.accounts.length)throw new rN;let[{address:e,chainId:a}]=t._decoded.params??[{}],n=e?r.accounts.find(t=>rY.isEqual(t.address,e)):r.accounts[0];if(!n)throw new rS;let o=d(a),c=oi(await s().actions.getKeys({account:n,internal:{client:o,config:i,request:t,store:l}}));return aT.encode(ta.Response,{address:n.address,chainId:o.chain.id,keys:c})}case"wallet_prepareUpgradeAccount":{let[{address:e,capabilities:r,chainId:a}]=t._decoded.params??[{}],{email:n,label:o,grantPermissions:c}=r??{},u=d(a),{context:p,digests:h}=await s().actions.prepareUpgradeAccount({address:e,email:n,internal:{client:u,config:i,request:t,store:l},label:o,permissions:c});return m.push(p.account),{context:p,digests:h}}case"wallet_getAccountVersion":{if(0===r.accounts.length)throw new rN;let[{address:e}]=t._decoded.params??[{}],a=e?r.accounts.find(t=>rY.isEqual(t.address,e)):r.accounts[0];if(!a)throw new rS;let n=d(),{current:o,latest:c}=await s().actions.getAccountVersion({address:a.address,internal:{client:n,config:i,request:t,store:l}});return{current:o,latest:c}}case"wallet_getKeys":{if(0===r.accounts.length)throw new rN;let[{address:e,chainIds:a}]=t._decoded.params??[{}],n=r.accounts.find(t=>rY.isEqual(t.address,e));if(!n)throw new rS;let o=d(),c=await s().actions.getKeys({account:n,chainIds:a,internal:{client:o,config:i,request:t,store:l}});return aT.encode(tv.Response,c)}case"wallet_getPermissions":{if(0===r.accounts.length)throw new rN;let[{address:e,chainIds:a}]=t._decoded.params??[{}],n=e?r.accounts.find(t=>rY.isEqual(t.address,e)):r.accounts[0];if(!n)throw new rS;let o=d();return os(await s().actions.getKeys({account:n,chainIds:a,internal:{client:o,config:i,request:t,store:l}}),{address:n.address})}case"wallet_revokeAdmin":{if(0===r.accounts.length)throw new rN;let[{address:e,capabilities:a,id:n}]=t._decoded.params,o=e?r.accounts.find(t=>rY.isEqual(t.address,e)):r.accounts[0];if(!o)throw new rS;let c=d();await s().actions.revokeAdmin({account:o,feeToken:a?.feeToken,id:n,internal:{client:c,config:i,request:t,store:l}});let u=o.keys?.filter(e=>e.id.toLowerCase()!==n.toLowerCase());l.setState(e=>({...e,accounts:e.accounts.map(e=>rY.isEqual(e.address,o.address)?{...e,keys:u}:e)})),h.emit("message",{data:null,type:"adminsChanged"});return}case"wallet_revokePermissions":{if(0===r.accounts.length)throw new rN;let[{address:e,capabilities:a,id:n}]=t._decoded.params,o=e?r.accounts.find(t=>rY.isEqual(t.address,e)):r.accounts[0];if(!o)throw new rS;let c=d();await s().actions.revokePermissions({account:o,feeToken:a?.feeToken,id:n,internal:{client:c,config:i,request:t,store:l}});let u=o.keys?.filter(e=>e.id.toLowerCase()!==n.toLowerCase());l.setState(e=>({...e,accounts:e.accounts.map(e=>rY.isEqual(e.address,o.address)?{...e,keys:u}:e)})),h.emit("message",{data:null,type:"permissionsChanged"});return}case"wallet_upgradeAccount":{let[{context:e,signatures:r}]=t._decoded.params??[{}],a=d(),n=m.find(t=>rY.isEqual(t.address,e.account.address));if(!n)throw new rS;let{account:o}=await s().actions.upgradeAccount({account:n,context:e,internal:{client:a,config:i,request:t,store:l},signatures:r}),c=oi(o.keys??[]),u=os(o.keys??[],{address:o.address});return l.setState(e=>({...e,accounts:[o]})),h.emit("connect",{chainId:aO.fromNumber(a.chain.id)}),{address:o.address,capabilities:{admins:c,...u.length>0?{permissions:u}:{}}}}case"porto_ping":return"pong";case"personal_sign":{if(0===r.accounts.length)throw new rN;let[e,a]=t._decoded.params,n=r.accounts.find(e=>rY.isEqual(e.address,a));if(!n)throw new rS;let o=d();return await s().actions.signPersonalMessage({account:n,data:e,internal:{client:o,config:i,request:t,store:l}})}case"wallet_connect":{let[{capabilities:e,chainIds:a}]=t._decoded.params??[{}],n=d(a?.[0]),o=n.chain.id,{createAccount:c,email:u,grantAdmins:p,grantPermissions:m,selectAccount:f,signInWithEthereum:y}=e??{},b={client:n,config:i,request:t,store:l},{accounts:g}=await (async()=>{if(u||c){let{label:e}="object"==typeof c?c:{},{account:t}=await s().actions.createAccount({admins:p,email:u,internal:b,label:e,permissions:m,signInWithEthereum:y});return{accounts:[t]}}let e=r.accounts[0],{address:t,key:a}=(()=>{if(f)return"object"==typeof f?f:{address:void 0,key:void 0};for(let t of e?.keys??[])if("webauthn-p256"===t.type&&"admin"===t.role)return{address:e?.address,key:{credentialId:t.credentialId??t.privateKey?.credential?.id,publicKey:t.publicKey}};return{address:void 0,key:void 0}})(),n={internal:b,permissions:m,signInWithEthereum:y};try{return await s().actions.loadAccounts({address:t,key:a,...n})}catch(e){if(e instanceof rR)throw e;if(t&&a)return await s().actions.loadAccounts(n);throw e}})();l.setState(e=>({...e,accounts:g}));let w=[o,...l.getState().chainIds.filter(e=>e!==o)];return h.emit("connect",{chainId:aO.fromNumber(w[0])}),{accounts:g.map(e=>({address:oo(e),capabilities:{admins:e.keys?oi(e.keys):[],permissions:e.keys?os(e.keys,{address:e.address}):[],...e.signInWithEthereum&&{signInWithEthereum:e.signInWithEthereum}}})),chainIds:w.map(e=>aO.fromNumber(e))}}case"wallet_disconnect":{let e=d();await s().actions.disconnect?.({internal:{client:e,config:i,request:t,store:l}}),l.setState(e=>({...e,accounts:[]})),h.emit("disconnect",new rN);return}case"wallet_getAssets":{let[e]=t._decoded.params??[],{account:r,chainFilter:a,assetFilter:n,assetTypeFilter:o}=e,c=d(),u=Object.entries(await s().actions.getAssets({account:r,assetFilter:n,assetTypeFilter:o,chainFilter:a,internal:{client:c,config:i,request:t,store:l}})).reduce((e,[t,r])=>(e[aO.fromNumber(Number(t))]=r,e),{});return aT.encode(ty.Response,u)}case"wallet_getCallsStatus":{let[e]=t._decoded.params??[],r=d();return await s().actions.getCallsStatus({id:e,internal:{client:r,config:i,request:t,store:l}})}case"wallet_getCallsHistory":{let[e]=t._decoded.params??[],r=d(),a=await s().actions.getCallsHistory({...e,internal:{client:r,config:i,request:t,store:l}});return aT.encode(tg.Response,a)}case"wallet_getCapabilities":{let[e,r]=t.params??[];return await u({chainIds:r,request:t})}case"wallet_prepareCalls":{let[e]=t._decoded.params,{calls:a,capabilities:n,chainId:o,key:c,from:u}=e,p=d(o),m=u??r.accounts[0];if(!m)throw new rS;if(o&&o!==p.chain.id)throw new rz;let{digest:h,...f}=await s().actions.prepareCalls({account:r9(m),calls:a,feeToken:n?.feeToken,internal:{client:p,config:i,request:t,store:l},key:c,merchantUrl:oa(i.merchantUrl??n?.merchantUrl),requiredFunds:n?.requiredFunds});return aT.encode(tj.Response,{capabilities:f.capabilities,chainId:aO.fromNumber(f.chainId??p.chain.id),context:{...f.context,account:{address:f.account.address},calls:f.context.calls??[],nonce:f.context.nonce??0n},digest:h,key:f.key,typedData:f.typedData})}case"wallet_sendPreparedCalls":{let[e]=t._decoded.params,{chainId:r,context:a,key:n,signature:o}=e,{account:c}=e.context,u=d(r);if(r&&aO.toNumber(r)!==u.chain.id)throw new rz;return[{id:await s().actions.sendPreparedCalls({account:r9(c),context:a,internal:{client:u,config:i,request:t,store:l},key:n,signature:o})}]}case"wallet_sendCalls":{let[e]=t._decoded.params,{calls:a,capabilities:n,chainId:o,from:c}=e,u=d(o);if(o&&o!==u.chain.id)throw new rz;let p=c?r.accounts.find(e=>rY.isEqual(e.address,c)):r.accounts[0];if(c&&!p)throw new rS;let{id:m}=await s().actions.sendCalls({account:p,calls:a,chainId:u.chain.id,feeToken:n?.feeToken,internal:{client:u,config:i,request:t,store:l},merchantUrl:oa(i.merchantUrl??n?.merchantUrl),permissionsId:n?.permissions?.id,requiredFunds:n?.requiredFunds});return{id:m}}case"wallet_switchEthereumChain":{let[e]=t._decoded.params,{chainId:r}=e,a=aO.toNumber(r);if(!i.chains.find(e=>e.id===a))throw new rT;let n=d(r);await s().actions.switchChain?.({chainId:n.chain.id,internal:{client:n,config:i,request:t,store:l}}),l.setState(e=>({...e,chainIds:[a,...e.chainIds.filter(e=>e!==a)]}));return}case"wallet_verifySignature":{let[e]=t._decoded.params,{address:r,chainId:a,digest:n,signature:i}=e,s=d(a);return{...await sU(s,{address:r,digest:n,signature:i}),address:r,chainId:aO.fromNumber(s.chain.id)}}}},{enabled:t,id:rp.stringify(e)})}}),y=(r=()=>{},a=()=>{},or(l).then(()=>{u().catch(()=>{}),r(),r=l.subscribe(e=>e.accounts,e=>{h.emit("accountsChanged",e.map(oo))},{equalityFn:(e,t)=>e.every((e,r)=>e.address===t[r]?.address)}),a(),a=l.subscribe(e=>e.chainIds[0],(e,t)=>{e!==t&&h.emit("chainChanged",aO.fromNumber(e))})}),n=function(e,t){if(!t||"u"<typeof window||!window.dispatchEvent)return()=>{};let{icon:r="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDIyIiBoZWlnaHQ9IjQyMiIgdmlld0JveD0iMCAwIDQyMiA0MjIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MjIiIGhlaWdodD0iNDIyIiBmaWxsPSJibGFjayIvPgo8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfMV8xNSkiPgo8cGF0aCBkPSJNODEgMjg2LjM2NkM4MSAyODAuODkzIDg1LjQ1MDUgMjc2LjQ1NSA5MC45NDA0IDI3Ni40NTVIMzI5LjUxMUMzMzUuMDAxIDI3Ni40NTUgMzM5LjQ1MiAyODAuODkzIDMzOS40NTIgMjg2LjM2NlYzMDYuMTg4QzMzOS40NTIgMzExLjY2MiAzMzUuMDAxIDMxNi4wOTkgMzI5LjUxMSAzMTYuMDk5SDkwLjk0MDRDODUuNDUwNSAzMTYuMDk5IDgxIDMxMS42NjIgODEgMzA2LjE4OFYyODYuMzY2WiIgZmlsbD0id2hpdGUiIGZpbGwtb3BhY2l0eT0iMC41Ii8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNOTAuOTQwNCAyMzQuODI4Qzg1LjQ1MDUgMjM0LjgyOCA4MSAyMzkuMjY2IDgxIDI0NC43MzlWMjcxLjUzMUM4My44NDMyIDI2OS42MzMgODcuMjYyMiAyNjguNTI2IDkwLjk0MDQgMjY4LjUyNkgzMjkuNTExQzMzMy4xODggMjY4LjUyNiAzMzYuNjA4IDI2OS42MzMgMzM5LjQ1MiAyNzEuNTMxVjI0NC43MzlDMzM5LjQ1MiAyMzkuMjY2IDMzNS4wMDEgMjM0LjgyOCAzMjkuNTExIDIzNC44MjhIOTAuOTQwNFpNMzM5LjQ1MiAyODYuMzY2QzMzOS40NTIgMjgwLjg5MyAzMzUuMDAxIDI3Ni40NTUgMzI5LjUxMSAyNzYuNDU1SDkwLjk0MDRDODUuNDUwNSAyNzYuNDU1IDgxIDI4MC44OTMgODEgMjg2LjM2NlYzMDYuMTlDODEgMzExLjY2NCA4NS40NTA1IDMxNi4xMDEgOTAuOTQwNCAzMTYuMTAxSDMyOS41MTFDMzM1LjAwMSAzMTYuMTAxIDMzOS40NTIgMzExLjY2NCAzMzkuNDUyIDMwNi4xOVYyODYuMzY2WiIgZmlsbD0id2hpdGUiIGZpbGwtb3BhY2l0eT0iMC41Ii8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNOTAuOTQwNCAxOTMuMjAxQzg1LjQ1MDUgMTkzLjIwMSA4MSAxOTcuNjM4IDgxIDIwMy4xMTJWMjI5LjkwM0M4My44NDMyIDIyOC4wMDYgODcuMjYyMiAyMjYuODk5IDkwLjk0MDQgMjI2Ljg5OUgzMjkuNTExQzMzMy4xODggMjI2Ljg5OSAzMzYuNjA4IDIyOC4wMDYgMzM5LjQ1MiAyMjkuOTAzVjIwMy4xMTJDMzM5LjQ1MiAxOTcuNjM4IDMzNS4wMDEgMTkzLjIwMSAzMjkuNTExIDE5My4yMDFIOTAuOTQwNFpNMzM5LjQ1MiAyNDQuNzM5QzMzOS40NTIgMjM5LjI2NSAzMzUuMDAxIDIzNC44MjggMzI5LjUxMSAyMzQuODI4SDkwLjk0MDRDODUuNDUwNSAyMzQuODI4IDgxIDIzOS4yNjUgODEgMjQ0LjczOVYyNzEuNTNDODEuMjE3NSAyNzEuMzg1IDgxLjQzODMgMjcxLjI0NSA4MS42NjI0IDI3MS4xMDlDODMuODMyNSAyNjkuNzk0IDg2LjMwNTQgMjY4LjkyNyA4OC45NTIzIDI2OC42MzVDODkuNjA1MSAyNjguNTYzIDkwLjI2ODQgMjY4LjUyNiA5MC45NDA0IDI2OC41MjZIMzI5LjUxMUMzMzAuMTgzIDI2OC41MjYgMzMwLjg0NiAyNjguNTYzIDMzMS40OTggMjY4LjYzNUMzMzQuNDE5IDI2OC45NTcgMzM3LjEyOCAyNjkuOTggMzM5LjQ1MiAyNzEuNTNWMjQ0LjczOVpNMzM5LjQ1MiAyODYuMzY2QzMzOS40NTIgMjgxLjAyMSAzMzUuMjA2IDI3Ni42NjMgMzI5Ljg5MyAyNzYuNDYyQzMyOS43NjcgMjc2LjQ1NyAzMjkuNjQgMjc2LjQ1NSAzMjkuNTExIDI3Ni40NTVIOTAuOTQwNEM4NS40NTA1IDI3Ni40NTUgODEgMjgwLjg5MyA4MSAyODYuMzY2VjMwNi4xODhDODEgMzExLjY2MiA4NS40NTA1IDMxNi4xMDEgOTAuOTQwNCAzMTYuMTAxSDMyOS41MTFDMzM1LjAwMSAzMTYuMTAxIDMzOS40NTIgMzExLjY2MiAzMzkuNDUyIDMwNi4xODhWMjg2LjM2NloiIGZpbGw9IndoaXRlIiBmaWxsLW9wYWNpdHk9IjAuNSIvPgo8cGF0aCBvcGFjaXR5PSIwLjMiIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNOTguMDE0NiAxMDRDODguNjE3NyAxMDQgODEgMTExLjU5NSA4MSAxMjAuOTY1VjE4OC4yNzZDODMuODQzMiAxODYuMzc5IDg3LjI2MjIgMTg1LjI3MiA5MC45NDA0IDE4NS4yNzJIMzI5LjUxMUMzMzMuMTg4IDE4NS4yNzIgMzM2LjYwOCAxODYuMzc5IDMzOS40NTIgMTg4LjI3NlYxMjAuOTY1QzMzOS40NTIgMTExLjU5NSAzMzEuODMzIDEwNCAzMjIuNDM3IDEwNEg5OC4wMTQ2Wk0zMzkuNDUyIDIwMy4xMTJDMzM5LjQ1MiAxOTcuNjM4IDMzNS4wMDEgMTkzLjIwMSAzMjkuNTExIDE5My4yMDFIOTAuOTQwNEM4NS40NTA1IDE5My4yMDEgODEgMTk3LjYzOCA4MSAyMDMuMTEyVjIyOS45MDNDODEuMjE3NSAyMjkuNzU4IDgxLjQzODMgMjI5LjYxOCA4MS42NjI0IDIyOS40ODJDODMuODMyNSAyMjguMTY3IDg2LjMwNTQgMjI3LjMgODguOTUyMyAyMjcuMDA4Qzg5LjYwNTEgMjI2LjkzNiA5MC4yNjg0IDIyNi44OTkgOTAuOTQwNCAyMjYuODk5SDMyOS41MTFDMzMwLjE4MyAyMjYuODk5IDMzMC44NDYgMjI2LjkzNiAzMzEuNDk4IDIyNy4wMDhDMzM0LjQxOSAyMjcuMzMgMzM3LjEyOCAyMjguMzUyIDMzOS40NTIgMjI5LjkwM1YyMDMuMTEyWk0zMzkuNDUyIDI0NC43MzlDMzM5LjQ1MiAyMzkuMzkzIDMzNS4yMDYgMjM1LjAzNiAzMjkuODkzIDIzNC44MzVDMzI5Ljc2NyAyMzQuODMgMzI5LjY0IDIzNC44MjggMzI5LjUxMSAyMzQuODI4SDkwLjk0MDRDODUuNDUwNSAyMzQuODI4IDgxIDIzOS4yNjUgODEgMjQ0LjczOVYyNzEuNTNMODEuMDcwNyAyNzEuNDgzQzgxLjI2NTMgMjcxLjM1NSA4MS40NjI1IDI3MS4yMyA4MS42NjI0IDI3MS4xMDlDODEuOTA4MyAyNzAuOTYgODIuMTU4MSAyNzAuODE3IDgyLjQxMTcgMjcwLjY3OUM4NC4zOTUzIDI2OS42MDUgODYuNjA1NCAyNjguODk0IDg4Ljk1MjMgMjY4LjYzNUM4OS4wMDUyIDI2OC42MjkgODkuMDU4IDI2OC42MjQgODkuMTExIDI2OC42MThDODkuNzEyNSAyNjguNTU3IDkwLjMyMjggMjY4LjUyNiA5MC45NDA0IDI2OC41MjZIMzI5LjUxMUMzMjkuNzM4IDI2OC41MjYgMzI5Ljk2NSAyNjguNTMgMzMwLjE5MiAyNjguNTM5QzMzMC42MzEgMjY4LjU1NSAzMzEuMDY3IDI2OC41ODcgMzMxLjQ5OCAyNjguNjM1QzMzNC40MTkgMjY4Ljk1NyAzMzcuMTI4IDI2OS45OCAzMzkuNDUyIDI3MS41M1YyNDQuNzM5Wk0zMzkuNDUyIDI4Ni4zNjZDMzM5LjQ1MiAyODEuMDIxIDMzNS4yMDYgMjc2LjY2MyAzMjkuODkzIDI3Ni40NjJMMzI5Ljg2NSAyNzYuNDYxQzMyOS43NDggMjc2LjQ1NyAzMjkuNjI5IDI3Ni40NTUgMzI5LjUxMSAyNzYuNDU1SDkwLjk0MDRDODUuNDUwNSAyNzYuNDU1IDgxIDI4MC44OTMgODEgMjg2LjM2NlYzMDYuMTg4QzgxIDMxMS42NjIgODUuNDUwNSAzMTYuMTAxIDkwLjk0MDQgMzE2LjEwMUgzMjkuNTExQzMzNS4wMDEgMzE2LjEwMSAzMzkuNDUyIDMxMS42NjIgMzM5LjQ1MiAzMDYuMTg4VjI4Ni4zNjZaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMjY5Ljg2OCAxMzEuNzUyQzI2OS44NjggMTI2LjI3OCAyNzQuMzE4IDEyMS44NCAyNzkuODA4IDEyMS44NEgzMTEuNjE4QzMxNy4xMDggMTIxLjg0IDMyMS41NTggMTI2LjI3OCAzMjEuNTU4IDEzMS43NTJWMTYxLjQ4NUMzMjEuNTU4IDE2Ni45NTkgMzE3LjEwOCAxNzEuMzk2IDMxMS42MTggMTcxLjM5NkgyNzkuODA4QzI3NC4zMTggMTcxLjM5NiAyNjkuODY4IDE2Ni45NTkgMjY5Ljg2OCAxNjEuNDg1VjEzMS43NTJaIiBmaWxsPSJ3aGl0ZSIvPgo8L2c+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzFfMTUiPgo8cmVjdCB3aWR0aD0iMjU5IiBoZWlnaHQ9IjIxMyIgZmlsbD0id2hpdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDgxIDEwNCkiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K",name:a="Porto",rdns:n="xyz.ithaca.porto"}="object"==typeof t?t:{};return aS.announceProvider({info:{icon:r,name:a,rdns:n,uuid:as()},provider:e})}(f,c),()=>{r(),a(),n()});return Object.assign(f,{_internal:{destroy:y}})}function oi(e){return e.map(e=>{if("admin"===e.role)try{return aT.encode(ta.Key,{id:e.id??e.publicKey,publicKey:e.publicKey,type:e.type,..."webauthn-p256"===e.type?{credentialId:e.privateKey?.credential?.id,privateKey:{credential:{id:e.privateKey?.credential?.id},rpId:e.privateKey?.rpId}}:{}})}catch{return}}).filter(Boolean)}function os(e,{address:t}){return e.map(e=>{if(e.chainId&&"session"===e.role&&!(e.expiry>0&&e.expiry<BigInt(Math.floor(Date.now()/1e3))))try{return aT.encode(s4,s8(e,{address:t}))}catch{return}}).filter(Boolean)}function oo(e){return(0,aN.getAddress)(e.address)}var ol=e.i(99410);function oc(e){return{...e,setup:e.setup??(()=>()=>{})}}async function ou(e){let{account:t,calls:r,permissionsId:a}=e;if(void 0!==a){if(null===a)return;let e=t.keys?.find(e=>e.publicKey===a&&e.privateKey);if(!e)throw Error(`permission (id: ${a}) does not exist.`);return e}let n=t.keys?.find(e=>!(!e.privateKey||"session"!==e.role||e.expiry<BigInt(Math.floor(Date.now()/1e3)))&&!!r.every(t=>e.permissions?.calls?.some(e=>{if(e.to&&e.to!==t.to)return!1;if(e.signature){if(!t.data)return!1;let r=aO.slice(t.data,0,4);if(aO.validate(e.signature))return e.signature===r;if(aq.getSelector(e.signature)!==r)return!1}return!0}))),i=t.keys?.find(e=>"admin"===e.role&&e.privateKey);return n??i}e.s([],35575),e.i(35575);var od=tQ,op=tQ;class om extends op.BaseError{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}let oh=new Map,of=new Map,oy=0;var ob=e.i(9486),og=e.i(9760),ow=e.i(90063),ov=e.i(39080);let oj=(0,t1.numberToHex)(0,{size:32});async function oI(e,t){let r;async function a(t){if(t.endsWith("0x5792579257925792579257925792579257925792579257925792579257925792".slice(2))){let r=(0,tF.trim)((0,ow.sliceHex)(t,-64,-32)),a=(0,ow.sliceHex)(t,0,-64).slice(2).match(/.{1,64}/g),n=await Promise.all(a.map(t=>oj.slice(2)!==t?e.request({method:"eth_getTransactionReceipt",params:[`0x${t}`]},{dedupe:!0}):void 0)),i=n.some(e=>null===e)?100:n.every(e=>e?.status==="0x1")?200:n.every(e=>e?.status==="0x0")?500:600;return{atomic:!1,chainId:(0,tU.hexToNumber)(r),receipts:n.filter(Boolean),status:i,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[t]})}let{atomic:n=!1,chainId:i,receipts:s,version:o="2.0.0",...l}=await a(t.id),[c,u]=(r=l.status)>=100&&r<200?["pending",r]:r>=200&&r<300?["success",r]:r>=300&&r<700?["failure",r]:"CONFIRMED"===r?["success",200]:"PENDING"===r?["pending",100]:[void 0,r];return{...l,atomic:n,chainId:i?(0,tU.hexToNumber)(i):void 0,receipts:s?.map(e=>({...e,blockNumber:(0,tU.hexToBigInt)(e.blockNumber),gasUsed:(0,tU.hexToBigInt)(e.gasUsed),status:ov.receiptStatuses[e.status]}))??[],statusCode:u,status:c,version:o}}async function oE(e,t){let r,{id:a,pollingInterval:n=e.pollingInterval,status:i=({statusCode:e})=>200===e||e>=300,retryCount:s=4,retryDelay:o=({count:e})=>200*~~(1<<e),timeout:l=6e4,throwOnFailure:c=!1}=t,u=(0,r0.stringify)(["waitForCallsStatus",e.uid,a]),{promise:d,resolve:p,reject:m}=(0,ob.withResolvers)(),h=function(e,t,r){let a=++oy,n=()=>oh.get(e)||[],i=()=>{let t,r=n();if(!r.some(e=>e.id===a))return;let i=of.get(e);if(1===r.length&&i){let e=i();e instanceof Promise&&e.catch(()=>{})}t=n(),oh.set(e,t.filter(e=>e.id!==a))},s=n();if(oh.set(e,[...s,{id:a,fns:t}]),s&&s.length>0)return i;let o={};for(let e in t)o[e]=(...t)=>{let r=n();if(0!==r.length)for(let a of r)a.fns[e]?.(...t)};let l=r(o);return"function"==typeof l&&of.set(e,l),i}(u,{resolve:p,reject:m},t=>{let l=function(e,{emitOnBegin:t,initialWaitTime:r,interval:a}){let n=!0,i=()=>n=!1;return(async()=>{let s;t&&(s=await e({unpoll:i}));let o=await r?.(s)??a;await (0,sK.wait)(o);let l=async()=>{n&&(await e({unpoll:i}),await (0,sK.wait)(a),l())};l()})(),i}(async()=>{let n=e=>{clearTimeout(r),l(),e(),h()};try{let r=await (0,og.withRetry)(async()=>{let t=await iR(e,oI,"getCallsStatus")({id:a});if(c&&"failure"===t.status)throw new om(t);return t},{retryCount:s,delay:o});if(!i(r))return;n(()=>t.resolve(r))}catch(e){n(()=>t.reject(e))}},{interval:n,emitOnBegin:!0});return l});return r=l?setTimeout(()=>{h(),clearTimeout(r),m(new oM({id:a}))},l):void 0,await d}class oM extends od.BaseError{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}function ok(e){let{expiry:t,feeToken:r,permissions:a,publicKey:n,type:i}=e;return{expiry:t,feeToken:r??null,key:{publicKey:n,type:i},permissions:a??{}}}async function ox(e,t={}){if(!e)return;let r=t.chainId??e.chainId,a=e.expiry??0,n={chainId:r,expiry:a,feeToken:e.feeToken,permissions:r8.resolvePermissions(e,{feeTokens:t.feeTokens}),role:"session"};if(e?.key)return r8.from({...n,publicKey:e.key.publicKey,type:e.key.type??"secp256k1"});if("function"==typeof globalThis.crypto?.subtle?.generateKey)try{return await r8.createWebCryptoP256(n)}catch(e){if(!function(e){if(!(e instanceof Error))return!1;let t=e.message?.toLowerCase()??"";return"TypeError"===e.name||"ReferenceError"===e.name||t.includes("subtle")||t.includes("generatekey")}(e))throw e}return r8.createP256(n)}var oP=rh;let oA=/^([a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}(:[0-9]{1,5})?$/,oC=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(:[0-9]{1,5})?$/,oR=/^localhost(:[0-9]{1,5})?$/,oS=/^[a-zA-Z0-9]{8,}$/,oO=/^([a-zA-Z][a-zA-Z0-9+-.]*)$/,oN=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,oz=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function o_(e){if(/[^a-z0-9:/?#[\]@!$&'()*+,;=.\-_~%]/i.test(e)||/%[^0-9a-f]/i.test(e)||/%[0-9a-f](:?[^0-9a-f]|$)/i.test(e))return!1;let t=e.match(/(?:([^:/?#]+):)?(?:\/\/([^/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/),r=t[1],a=t[2],n=t[3],i=t[4],s=t[5];if(!(r?.length&&n&&n.length>=0))return!1;if(a?.length){if(!(0===n.length||/^\//.test(n)))return!1}else if(/^\/\//.test(n))return!1;if(!/^[a-z][a-z0-9+\-.]*$/.test(r.toLowerCase()))return!1;let o="";return o+=`${r}:`,a?.length&&(o+=`//${a}`),o+=n,i?.length&&(o+=`?${i}`),s?.length&&(o+=`#${s}`),o}class oD extends oP.BaseError{constructor(e){const{field:t,metaMessages:r}=e;super(`Invalid Sign-In with Ethereum message field "${t}".`,{metaMessages:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Siwe.InvalidMessageFieldError"})}}async function oT(e){let{address:t,authUrl:r,message:a,signature:n,publicKey:i}=e,{chainId:s}=function(e){let{scheme:t,statement:r,...a}=e.match(oN)?.groups??{},{chainId:n,expirationTime:i,issuedAt:s,notBefore:o,requestId:l,...c}=e.match(oz)?.groups??{},u=e.split("Resources:")[1]?.split("\n- ").slice(1);return{...a,...c,...n?{chainId:Number(n)}:{},...i?{expirationTime:new Date(i)}:{},...s?{issuedAt:new Date(s)}:{},...o?{notBefore:new Date(o)}:{},...l?{requestId:l}:{},...u?{resources:u}:{},...t?{scheme:t}:{},...r?{statement:r}:{}}}(a);return await fetch(r.verify,{body:JSON.stringify({address:t,chainId:s,message:a,signature:n,walletAddress:t,...i&&{publicKey:i}}),credentials:"include",headers:{"Content-Type":"application/json"},method:"POST"}).then(e=>e.json())}async function oq(e,t,r){let{chainId:a=e.chain?.id,domain:n,uri:i,resources:s,version:o="1"}=t,{address:l}=r,c=t.authUrl?oU(t.authUrl):void 0;if(!a)throw Error("`chainId` is required.");if(!n)throw Error("`domain` is required.");if(!t.nonce&&!c?.nonce)throw Error("`nonce` or `authUrl.nonce` is required.");if(!i)throw Error("`uri` is required.");let u=await (async()=>{if(t.nonce)return t.nonce;if(!c?.nonce)throw Error("`nonce` or `authUrl.nonce` is required.");let e=await fetch(c.nonce,{body:JSON.stringify({address:l,chainId:a,walletAddress:l}),headers:{"Content-Type":"application/json"},method:"POST"}),r=await e.json().catch(()=>void 0);if(!r?.nonce)throw Error("`nonce` or `authUrl.nonce` is required.");return r.nonce})();return function(e){let{chainId:t,domain:r,expirationTime:a,issuedAt:n=new Date,nonce:i,notBefore:s,requestId:o,resources:l,scheme:c,uri:u,version:d}=e;{if(t!==Math.floor(t))throw new oD({field:"chainId",metaMessages:["- Chain ID must be a EIP-155 chain ID.","- See https://eips.ethereum.org/EIPS/eip-155","",`Provided value: ${t}`]});if(!(oA.test(r)||oC.test(r)||oR.test(r)))throw new oD({field:"domain",metaMessages:["- Domain must be an RFC 3986 authority.","- See https://www.rfc-editor.org/rfc/rfc3986","",`Provided value: ${r}`]});if(!oS.test(i))throw new oD({field:"nonce",metaMessages:["- Nonce must be at least 8 characters.","- Nonce must be alphanumeric.","",`Provided value: ${i}`]});if(!o_(u))throw new oD({field:"uri",metaMessages:["- URI must be a RFC 3986 URI referring to the resource that is the subject of the signing.","- See https://www.rfc-editor.org/rfc/rfc3986","",`Provided value: ${u}`]});if("1"!==d)throw new oD({field:"version",metaMessages:["- Version must be '1'.","",`Provided value: ${d}`]});if(c&&!oO.test(c))throw new oD({field:"scheme",metaMessages:["- Scheme must be an RFC 3986 URI scheme.","- See https://www.rfc-editor.org/rfc/rfc3986#section-3.1","",`Provided value: ${c}`]});let a=e.statement;if(a?.includes("\n"))throw new oD({field:"statement",metaMessages:["- Statement must not include '\\n'.","",`Provided value: ${a}`]})}let p=rY.from(e.address,{checksum:!0}),m=c?`${c}://${r}`:r,h=e.statement?`${e.statement}
`:"",f=`${m} wants you to sign in with your Ethereum account:
${p}

${h}`,y=`URI: ${u}
Version: ${d}
Chain ID: ${t}
Nonce: ${i}
Issued At: ${n.toISOString()}`;if(a&&(y+=`
Expiration Time: ${a.toISOString()}`),s&&(y+=`
Not Before: ${s.toISOString()}`),o&&(y+=`
Request ID: ${o}`),l){let e="\nResources:";for(let t of l){if(!o_(t))throw new oD({field:"resources",metaMessages:["- Every resource must be a RFC 3986 URI.","- See https://www.rfc-editor.org/rfc/rfc3986","",`Provided value: ${t}`]});e+=`
- ${t}`}y+=e}return`${f}
${y}`}({...t,address:r.address,chainId:a,domain:n,nonce:u,resources:s,uri:i,version:o})}function oU(e,t=""){if(!e)return;let r=(()=>{if("string"==typeof e){let t=e.replace(/\/$/,"");return{logout:t+"/logout",nonce:t+"/nonce",verify:t+"/verify"}}return e})();return{logout:oB(r.logout,t),nonce:oB(r.nonce,t),verify:oB(r.verify,t)}}function oB(e,t){return t&&e.startsWith("/")?t+e:e}var oL=e.i(59384);function o$(e){let t;return aK.keccak256((t=aO.from(e),aO.concat("0x19",aO.fromString("Ethereum Signed Message:\n"+aO.size(t)),t)))}var oF=e.i(20046),oK=e.i(51897),oH=tQ;class oY extends oH.BaseError{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function oW(e,t){let{address:r,factory:a,factoryData:n}=t;try{let[t,i,s,o,l,c,u]=await iR(e,iT,"readContract")({abi:oV,address:r,functionName:"eip712Domain",factory:a,factoryData:n});return{domain:{name:i,version:s,chainId:Number(o),verifyingContract:l,salt:c},extensions:u,fields:t}}catch(e){if("ContractFunctionExecutionError"===e.name&&"ContractFunctionZeroDataError"===e.cause.name)throw new oY({address:r});throw e}}let oV=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];async function oQ(e,t){let{account:r=e.account}=t,a=r?r9(r):void 0;if(!a)throw Error("account is required.");let{domain:{name:n,version:i}}=await oW(e,{address:a.address});if(!e.chain)throw Error("client.chain is required");return{chainId:e.chain.id,name:n,verifyingContract:a.address,version:i}}async function oG(e,t){let r=r7(rW.randomPrivateKey(),{keys:t.authorizeKeys});return await o9(e,{...t,account:r})}async function oZ(e,t){let{account:r=e.account,chainIds:a}=t,n=r?r9(r):void 0;if(!n)throw Error("account is required.");return Object.entries(await sk(e,{address:n.address,chainIds:a})).flatMap(([e,t])=>t.map(t=>r8.fromRelay(t,{chainId:Number(e)})))}async function oJ(e,t){let{address:r,secret:a}=t;return await sR(e,{address:r,secret:a})}async function oX(e,t){let{address:r}=t;return await sS(e,{address:r})}async function o0(e,t){let{account:r=e.account,calls:a,chain:n=e.chain,feePayer:i,merchantUrl:s,nonce:o,preCalls:l,requiredFunds:c,revokeKeys:u}=t,d=r?r9(r):void 0,p=t.key??(d?ae(d,{role:"admin"}):void 0),m=t.authorizeKeys?.some(e=>"session"===e.role),{contracts:h,fees:{tokens:f}}=await sv(e,{chainId:n?.id}),y=m?h.orchestrator.address:void 0,b=(t.authorizeKeys??[]).map(e=>r8.toRelay(e,{feeTokens:f,orchestrator:y})),g=t.feeToken?t.feeToken:p?.permissions?.spend?.[0]?.token,w="boolean"==typeof l&&l,v="object"==typeof l?l.map(({context:e,signature:t})=>({...e.preCall,signature:t})):void 0,j={address:d?.address,calls:a??[],capabilities:{authorizeKeys:b,meta:{feePayer:i,feeToken:g,nonce:o},preCall:w,preCalls:v,requiredFunds:c,revokeKeys:u?.map(e=>({hash:e.hash}))},chain:n,key:p?r8.toRelay(p,{feeTokens:f}):void 0},I=await (async()=>{if(s){let t=(0,sF.createClient)({chain:e.chain,transport:(0,sV.http)(s)});return await sP(t,j).catch(t=>(console.error(t),sP(e,j)))}return await sP(e,j)})(),{capabilities:E,context:M,digest:k,signature:x,typedData:P}=I;if(s&&!await sq(e,{response:I._raw,signature:x}))throw Error(`cannot verify integrity of \`wallet_prepareCalls\` response from ${s}`);return{capabilities:{...E,quote:M.quote},context:M,digest:k,key:p,typedData:P}}async function o1(e,t){let{address:r,authorizeKeys:a,chain:n=e.chain}=t;if(!n)throw Error("chain is required.");let{contracts:i,fees:{tokens:s}}=await sv(e,{chainId:n.id}),o=t.delegation??i.accountProxy.address,l=a.some(e=>"session"===e.role)?i.orchestrator.address:void 0,c=a.map(e=>{let t="session"===e.role?e.permissions:{};return r8.toRelay({...e,permissions:t},{feeTokens:s,orchestrator:l})}),{capabilities:u,chainId:d,context:p,digests:m,typedData:h}=await sA(e,{address:r,authorizeKeys:c,chain:n,delegation:o}),f=r9({address:r,keys:a});return{capabilities:u,chainId:d,context:{...p,account:f},digests:m,typedData:h}}async function o2(e,t){let{phone:r,walletAddress:a}=t;return await sO(e,{phone:r,walletAddress:a})}async function o6(e,t){let{account:r=e.account,chain:a=e.chain,webAuthn:n}=t;if(!a)throw Error("`chain` is required.");let i=r?r9(r):void 0;if(!i)throw Error("`account` is required.");let s=t.key??ae(i,t);if(!s&&!i.sign)throw Error("`key` or `account` with `sign` is required");let o=await Promise.all((t.preCalls??[]).map(async r=>{if(r.signature)return r;let{authorizeKeys:s,key:o,calls:l,revokeKeys:c}=r,{context:u,digest:d}=await o0(e,{account:i,authorizeKeys:s,calls:l,chain:a,feeToken:t.feeToken,key:o,preCalls:!0,revokeKeys:c});return{context:u,signature:await r8.sign(o,{address:null,payload:d,webAuthn:n})}})),{capabilities:l,context:c,digest:u}=await o0(e,{...t,account:i,chain:a,key:s,preCalls:o}),d=await (async()=>s?await r8.sign(s,{address:null,payload:u,webAuthn:n,wrap:!1}):await i.sign({hash:u}))();return await o4(e,{capabilities:l.feeSignature?{feeSignature:l.feeSignature}:void 0,context:c,key:s,signature:d})}async function o5(e,t){let r=!!e.context.preCall,{account:a,key:n}=t;if(a){let t=a.keys?.findIndex(t=>t.publicKey===e.key?.publicKey);if(-1===t)throw Error("key not found");return await at(a,{key:t,payload:e.digest,replaySafe:!1,wrap:r})}if(n)return await r8.sign(n,{address:null,payload:e.digest,wrap:r});throw Error("no key or account provided")}async function o4(e,t){let{capabilities:r,context:a,key:n,signature:i}=t;return await sC(e,{capabilities:r,context:a,key:n?r8.toRelay(n):void 0,signature:i})}async function o3(e,t){let{email:r,walletAddress:a}=t;return await sN(e,{email:r,walletAddress:a})}async function o8(e,t){let{phone:r,walletAddress:a}=t;return await sz(e,{phone:r,walletAddress:a})}async function o9(e,t){if(t.account){let{account:r}=t,a=[...r.keys??[],...t.authorizeKeys??[]].filter((e,t,r)=>r.findIndex(t=>t.id===e.id)===t),{digests:n,...i}=await o1(e,{...t,address:r.address,authorizeKeys:a}),s={auth:await r.sign({hash:n.auth}),exec:await r.sign({hash:n.exec})};return await o9(e,{...i,signatures:s})}let{context:r,signatures:a}=t,n=r9(r.account);return await s_(e,{context:r,signatures:a}),n}async function o7(e,t){let{chainId:r,email:a,signature:n,token:i,walletAddress:s}=t;return await sD(e,{chainId:r,email:a,signature:n,token:i,walletAddress:s})}async function le(e,t){let{code:r,phone:a,walletAddress:n}=t;return await sT(e,{code:r,phone:a,walletAddress:n})}function lt(e){return{createAccount:t=>oG(e,t),getCallsHistory:t=>sM(e,t),getCallsStatus:t=>sE(e,t),getCapabilities:()=>sv(e),getKeys:t=>oZ(e,t),health:()=>sx(e),prepareCalls:t=>o0(e,t),prepareUpgradeAccount:t=>o1(e,t),sendCalls:t=>o6(e,t),sendPreparedCalls:t=>o4(e,t),upgradeAccount:t=>o9(e,t),verifySignature:t=>sU(e,t)}}rh.BaseError,e.s(["createAccount",()=>oG,"decorator",()=>lt,"getKeys",()=>oZ,"getOnrampContactInfo",()=>oJ,"onrampStatus",()=>oX,"prepareCalls",()=>o0,"prepareUpgradeAccount",()=>o1,"resendVerifyPhone",()=>o2,"sendCalls",()=>o6,"sendPreparedCalls",()=>o4,"setEmail",()=>o3,"setPhone",()=>o8,"signCalls",()=>o5,"upgradeAccount",()=>o9,"verifyEmail",()=>o7,"verifyPhone",()=>le],51404);var lr=e.i(6570),la=e.i(26799);function ln(e){if(e<=255)return 1;if(e<=65535)return 2;if(e<=0xffffff)return 3;if(e<=0xffffffff)return 4;throw new rh.BaseError("Length is too large.")}var li=rh;let ls="0x8010801080108010801080108010801080108010801080108010801080108010",lo=lr.from("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");class ll extends li.BaseError{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}}async function lc(e,t){let{address:r}=t,{authorization:a,data:n,to:i}=await sw(e,{address:r});return function(e){let{data:t,signature:r}=e;if("string"==typeof e){if(aO.slice(e,-32)!==ls)throw new ll(e)}else rV.assert(e.authorization);let a=rW.recoverAddress({payload:function(e,t={}){let{presign:r}=t;return aK.keccak256(aO.concat("0x05",function(e,t={}){let{as:r="Hex"}=t;return function(e,t){let{as:r}=t,a=function e(t){var r,a;let n,i,s,o;return Array.isArray(t)?(i=ln(n=(r=t.map(t=>e(t))).reduce((e,t)=>e+t.length,0)),{length:n<=55?1+n:1+i+n,encode(e){for(let{encode:t}of(n<=55?e.pushByte(192+n):(e.pushByte(247+i),1===i?e.pushUint8(n):2===i?e.pushUint16(n):3===i?e.pushUint24(n):e.pushUint32(n)),r))t(e)}}):(o=ln((s="string"==typeof(a=t)?oL.fromHex(a):a).length),{length:1===s.length&&s[0]<128?1:s.length<=55?1+s.length:1+o+s.length,encode(e){1===s.length&&s[0]<128||(s.length<=55?e.pushByte(128+s.length):(e.pushByte(183+o),1===o?e.pushUint8(s.length):2===o?e.pushUint16(s.length):3===o?e.pushUint24(s.length):e.pushUint32(s.length))),e.pushBytes(s)}})}(e),n=la.create(new Uint8Array(a.length));return(a.encode(n),"Hex"===r)?aO.fromBytes(n.bytes):n.bytes}(e,{as:r})}(function(e){let{address:t,chainId:r,nonce:a}=e,n=rV.extract(e);return[r?aO.fromNumber(r):"0x",t,a?aO.fromNumber(a):"0x",...n?rV.toTuple(n):[]]}(r?{address:e.address,chainId:e.chainId,nonce:e.nonce}:e))))}(e.authorization,{presign:!0}),signature:rV.from(e.authorization)}),n=lr.encode(lo,[{...e.authorization,delegation:e.authorization.address,chainId:BigInt(e.authorization.chainId)},e.to??a,t??"0x"]),i=aO.fromNumber(aO.size(n),{size:32});return aO.concat(r,n,i,ls)}({authorization:{...a,nonce:BigInt(a.nonce),r:BigInt(a.r),s:BigInt(a.s)},data:n,signature:t.signature,to:i})}var lu=e.i(16583);function ld(e,t){let{tokens:r}=t,a=r.filter(e=>e.interop);return e.map(e=>{if(e.address)return e;let t=a.find(t=>t.symbol===e.symbol);if(!t)throw Error(`interop token not found: ${e.symbol}`);return{address:t.address,value:lu.from(e.value,t.decimals)}})}var lp=e.i(14146);async function lm(e,t){let{chain:r=e.chain}=t??{};return await sv(e,{chainId:r?.id}).then(e=>e.fees.tokens)}async function lh(e,t){let{addressOrSymbol:r}=t;return(await lm(e,t)).find(lh.predicate(r))}async function lf(e,t){let{chain:r=e.chain,store:a}=t??{},n=a?.getState()??{},i=t?.addressOrSymbol??n.feeToken,s=await lm(e,{chain:r}).then(e=>e.filter(e=>e.feeToken));return s?.find(e=>!!i&&(!!("native"===i&&e.address===lp.zeroAddress||rY.validate(i)&&rY.isEqual(e.address,i))||i===e.symbol))}function ly(e={}){let t,r,{mock:a,multichain:n=!0,webAuthn:i}=e,s=(()=>{if("self"!==e.keystoreHost&&("u"<typeof window||window.location?.hostname!=="localhost"))return e.keystoreHost})();return oc({actions:{async addFunds(){throw new rO},async createAccount(e){let{admins:r,email:n,eoa:o,label:l,permissions:c,internal:u,signInWithEthereum:d}=e,{client:p}=u,m=o??r7(rW.randomPrivateKey()),h=await lm(p),f=a?r8.createHeadlessWebAuthnP256():await r8.createWebAuthnP256({createFn:i?.createFn,label:l||`${m.address.slice(0,8)}\u2026${m.address.slice(-6)}`,rpId:s,userId:oL.from(m.address)}),y=await ox(c,{chainId:p.chain.id,feeTokens:h}),b=r?.map(e=>r8.from(e)),g=await o9(p,{account:m,authorizeKeys:[f,...b??[],...y?[y]:[]]});t=m.address,n&&l&&await o3(p,{email:l,walletAddress:g.address});let w=await (async()=>{if(!d)return;let e=await oq(p,d,{address:g.address}),t=await at(m,{payload:o$(aO.fromString(e))});return{message:e,signature:await lc(p,{address:g.address,signature:t})}})();return{account:{...g,signInWithEthereum:w}}},async getAccountVersion(e){let{address:t,internal:r}=e,{client:a}=r,{contracts:n}=await sv(a),{accountImplementation:i}=n,s=await oQ(a,{account:r9(i)}).then(e=>e.version),o=await oQ(a,{account:t}).then(e=>e.version).catch(()=>s);if(!o||!s)throw Error("version not found.");return{current:o,latest:s}},async getAssets(e){let{account:t,chainFilter:r,assetFilter:a,assetTypeFilter:n,internal:i}=e,{client:s}=i;return await sj(s,{account:t,assetFilter:a,assetTypeFilter:n,chainFilter:r})},async getCallsHistory(e){let{internal:t,...r}=e,{client:a}=t;return await sM(a,r)},async getCallsStatus(e){let{id:t,internal:r}=e,{client:a}=r,n=await sE(a,{id:t});return{atomic:!0,chainId:aO.fromNumber(a.chain.id),id:t,receipts:n.receipts?.map(e=>({blockHash:e.blockHash,blockNumber:aO.fromNumber(e.blockNumber),gasUsed:aO.fromNumber(e.gasUsed),logs:e.logs,status:e.status,transactionHash:e.transactionHash})),status:n.status,version:"1.0"}},async getCapabilities(e){let{chainIds:t,internal:r}=e,{client:a}=r,i={atomic:{status:"supported"},atomicBatch:{supported:!0},feeToken:{supported:!0,tokens:[]},merchant:{supported:!0},permissions:{supported:!0},requiredFunds:{supported:!!n,tokens:[]}};return Object.entries(await sv(a,{chainIds:t?t.map(e=>aO.toNumber(e)):"all",raw:!0})).reduce((e,[t,r])=>({...e,[t]:{...i,...r,feeToken:{supported:!0,tokens:r.fees.tokens},requiredFunds:{supported:!!n,tokens:n?r.fees.tokens.filter(e=>e.interop):[]}}}),{})},async getKeys(e){let{account:t,chainIds:r,internal:a}=e,{client:n}=a;return ai([...await oZ(n,{account:t,chainIds:r}),...t.keys??[]],e=>e.publicKey)},async grantAdmin(e){let{account:t,internal:r}=e,{client:a}=r,n=r8.from(e.key,{chainId:a.chain.id}),s=await lf(a,{addressOrSymbol:e.feeToken,store:r.store}),{id:o}=await o6(a,{account:t,authorizeKeys:[n],feeToken:s?.address,webAuthn:i});return await oE(a,{id:o,pollingInterval:500}),{key:n}},async grantPermissions(e){let{account:t,internal:r,permissions:a}=e,{client:n}=r,i=await lm(n),s=await ox(a,{chainId:n.chain.id,feeTokens:i});if(!s)throw Error("key to authorize not found.");let o=t.keys?.find(e=>"admin"===e.role&&e.privateKey);if(!o)throw Error("admin key not found.");let{context:l,digest:c}=await o0(n,{account:t,authorizeKeys:[s],key:o,preCalls:!0}),u=await r8.sign(o,{address:null,payload:c});return await o4(n,{context:l,key:o,signature:u}),{key:s}},async loadAccounts(e){let{internal:r,permissions:n,signInWithEthereum:o}=e,{client:l}=r,c=await lm(l),u=await ox(n,{chainId:l.chain.id,feeTokens:c}),{digest:d,digestType:p,message:m}=await (async()=>{if(o&&e.address){let t=await oq(l,o,{address:e.address});return{context:void 0,digest:o$(aO.fromString(t)),digestType:"siwe",message:t}}return{context:void 0,digest:"0x",message:void 0}})(),{address:h,credentialId:f,webAuthnSignature:y}=await (async()=>{if(a){if(!t)throw Error("address_internal not found.");return{address:t,credentialId:void 0}}if(e.address&&e.key)return{address:e.address,credentialId:e.key.credentialId};let r=await oK.sign({challenge:d,getFn:i?.getFn,rpId:s}),n=r.raw.response;return{address:oL.toHex(new Uint8Array(n.userHandle)),credentialId:r.raw.id,webAuthnSignature:r}})(),b=await oZ(l,{account:h,chainIds:[l.chain.id]}),g=r9({address:h,keys:[...b,...u?[u]:[]].map((e,t)=>0===t&&"webauthn-p256"===e.type?r8.fromWebAuthnP256({...e,credential:{id:f,publicKey:oF.fromHex(e.publicKey)},id:h,rpId:s}):e)}),w=ae(g,{role:"admin"}),v=await (async()=>{if("0x"!==d)return y?r8.wrapSignature(r8.serializeWebAuthnSignature(y),{keyType:"webauthn-p256",publicKey:w.publicKey}):await r8.sign(w,{address:g.address,payload:d})})();if(u){let{context:e,digest:t}=await o0(l,{account:g,authorizeKeys:[u],preCalls:!0}),r=await r8.sign(w,{address:null,payload:t});await o4(l,{context:e,key:w,signature:r})}let j=await (async()=>{if(o){if("siwe"===p&&m&&v)return{message:m,signature:await lc(l,{address:g.address,signature:v})};{let e=await oq(l,o,{address:g.address}),t=await at(g,{payload:o$(aO.fromString(e)),role:"admin"});return{message:e,signature:await lc(l,{address:g.address,signature:t})}}}})();return{accounts:[{...g,signInWithEthereum:j}]}},async prepareCalls(e){let{account:t,calls:r,internal:a,merchantUrl:i}=e,{client:s}=a,o=e.key??await ou({account:t,calls:r});if(!o)throw Error("cannot find authorized key to sign with.");let[l,c]=await Promise.all([lm(s),lf(s,{addressOrSymbol:e.feeToken,store:a.store})]),u=ld(e.requiredFunds??[],{tokens:l}),{capabilities:d,context:p,digest:m,typedData:h}=await o0(s,{account:t,calls:r,feeToken:c?.address,key:o,merchantUrl:i,requiredFunds:n?u:void 0}),f=p.quote?.quotes??[],y=f[f.length-1];return{account:t,capabilities:{...d,quote:p.quote},chainId:s.chain.id,context:{...p,account:t,calls:r,nonce:y?.intent.nonce},digest:m,key:o,typedData:h}},async prepareUpgradeAccount(e){let{address:t,email:n,label:o,internal:l,permissions:c}=e,{client:u}=l,[d,p]=await Promise.all([lm(u),lf(u,{store:l.store})]),m=a?r8.createHeadlessWebAuthnP256():await r8.createWebAuthnP256({createFn:i?.createFn,label:o||`${t.slice(0,8)}\u2026${t.slice(-6)}`,rpId:s,userId:oL.from(t)}),h=await ox(c,{chainId:u.chain.id,feeTokens:d}),{context:f,digests:y}=await o1(u,{address:t,authorizeKeys:[m,...h?[h]:[]],feeToken:p?.address});return n&&(r=o),{context:f,digests:y}},async revokeAdmin(e){let{account:t,id:r,internal:a}=e,{client:n}=a,s=t.keys?.find(e=>e.id===r);if(s){if("webauthn-p256"===s.type&&t.keys?.filter(e=>"webauthn-p256"===e.type).length===1)throw Error("revoke the only WebAuthn key left.");try{let r=await lf(n,{addressOrSymbol:e.feeToken,store:a.store}),{id:o}=await o6(n,{account:t,feeToken:r?.address,revokeKeys:[s],webAuthn:i});await oE(n,{id:o})}catch(e){if("Rpc.ExecutionError"===e.name&&e.abiError?.name==="KeyDoesNotExist")return;throw e}}},async revokePermissions(e){let{account:t,id:r,internal:a}=e,{client:n}=a,s=t.keys?.find(e=>e.id===r);if(s){if("admin"===s.role)throw Error("cannot revoke admins.");try{let r=await lf(n,{addressOrSymbol:e.feeToken,store:a.store}),{id:o}=await o6(n,{account:t,feeToken:r?.address,revokeKeys:[s],webAuthn:i});await oE(n,{id:o})}catch(e){if("Rpc.ExecutionError"===e.name&&e.abiError?.name==="KeyDoesNotExist")return;throw e}}},async sendCalls(e){let{account:t,asTxHash:r,calls:a,chainId:s,internal:o,merchantUrl:l}=e,{client:c}=o;if(!t)throw Error("account required for relay mode");let u=await ou({account:t,calls:a,permissionsId:e.permissionsId}),[d,p]=await Promise.all([lm(c),lf(c,{addressOrSymbol:e.feeToken,store:o.store})]),m=ld(e.requiredFunds??[],{tokens:d}),h=await o6(c,{account:t,calls:a,feeToken:p?.address,key:u,merchantUrl:l,requiredFunds:n?m:void 0,webAuthn:i,...s?{chain:{id:s}}:{}});if(r){let{id:e,receipts:t,status:r}=await oE(c,{id:h.id,pollingInterval:500});if(!t?.[0]){if("success"===r)throw new rU({message:"Call bundle with id: "+e+" not found."});throw new rv({message:"Transaction failed under call bundle id: "+e+"."})}return{id:t[0].transactionHash}}return h},async sendPreparedCalls(e){let{context:t,key:r,internal:a,signature:n}=e,{client:i}=a,{id:s}=await o4(i,{context:t,key:r,signature:n});return s},async signPersonalMessage(e){let{account:t,data:r,internal:a}=e,{client:n}=a,s=t.keys?.find(e=>"admin"===e.role&&e.privateKey);if(!s)throw Error("cannot find admin key to sign with.");let o=await at(t,{key:s,payload:o$(r),webAuthn:i});return lc(n,{address:t.address,signature:o})},async signTypedData(e){let{account:t,internal:r}=e,{client:a}=r,n=t.keys?.find(e=>"admin"===e.role&&e.privateKey);if(!n)throw Error("cannot find admin key to sign with.");let s=rp.parse(e.data),o=s.domain?.name==="Orchestrator",l=await at(t,{key:n,payload:rQ.getSignPayload(s),replaySafe:!o,webAuthn:i});return o?l:lc(a,{address:t.address,signature:l})},async upgradeAccount(e){let{account:t,context:a,internal:n,signatures:i}=e,{client:s}=n;return await o9(s,{context:a,signatures:i}),r&&await o3(s,{email:r,walletAddress:t.address}),{account:t}},async verifyEmail(e){let{account:t,chainId:r,email:a,token:n,internal:s,walletAddress:o}=e,{client:l}=s,c=t.keys?.find(e=>"admin"===e.role&&e.privateKey);if(!c)throw Error("cannot find admin key to sign with.");let u=await at(t,{key:c,payload:aK.keccak256(aO.fromString(`${a}${n}`)),webAuthn:i});return await o7(l,{chainId:r,email:a,signature:u,token:n,walletAddress:o})}},config:e,name:"rpc"})}function lb(e={}){let{fallback:t=ly(),host:r=af.prod,renderer:a=ab(),theme:n,themeController:i}=e,s=new Set,o=function(e={}){let t=e.id??0;return{prepare:e=>({...{id:t++,...e},jsonrpc:"2.0"}),get id(){return t}}}();function l(e){return rF({async request(t){var r;let a=o.prepare(t);return e.setState(e=>{let t=e.accounts[0],r=t?.keys?.find(e=>"admin"===e.role&&"webauthn-p256"===e.type);return{...e,requestQueue:[...e.requestQueue,{account:t?{address:t.address,key:r?{credentialId:r?.credentialId,publicKey:r.publicKey}:void 0}:void 0,request:a,status:"pending"}]}}),r=a.id,new Promise((t,a)=>{let n=i=>{let o=i.find(e=>e.request.id===r);if(!o&&0===i.length){s.delete(n),a(new rR);return}o&&("success"===o.status||"error"===o.status)&&(s.delete(n),"success"===o.status?t(o.result):a(rK(o.error)),e.setState(e=>({...e,requestQueue:e.requestQueue.filter(e=>e.request.id!==r)})))};s.add(n)})}},{schema:null})}return oc({actions:{async addFunds(e){let{internal:t}=e,{request:r,store:a}=t;if("wallet_addFunds"!==r.method)throw Error("Cannot add funds for method: "+r.method);let n=l(a);return await n.request(r)},async createAccount(e){let{internal:t}=e,{client:r,config:a,request:n,store:i}=t,{storage:s}=a,o=l(i);return{account:await (async()=>{if("wallet_connect"===n.method){let[{capabilities:e,chainIds:t}]=n._decoded.params??[{}],i=lw(e?.signInWithEthereum?.authUrl??a.authUrl,{storage:s}),l=n.params?.[0]?.capabilities?.signInWithEthereum,c=await ox(e?.grantPermissions,{chainId:r.chain.id}),u=c?aT.encode(s3,ok(c)):void 0,{accounts:d}=await o.request({...n,params:[{capabilities:{...n.params?.[0]?.capabilities,grantPermissions:u,signInWithEthereum:i||l?{...l,authUrl:i}:void 0},chainIds:t?.map(e=>aO.fromNumber(e))}]}),[p]=d;if(!p)throw Error("no account found.");let m=p.capabilities?.admins?.map(e=>r8.from(e,{chainId:r.chain.id})).filter(Boolean),h=p.capabilities?.permissions?.map(e=>{try{let t=s9(aT.decode(s4,e));if(t.id===c?.id)return{...t,...c,permissions:t.permissions};return t}catch{return}}).filter(Boolean),f=await (async()=>{if(!p.capabilities?.signInWithEthereum)return;let{message:e,signature:t}=p.capabilities.signInWithEthereum;if(!i)return{message:e,signature:t};let{token:r}=await oT({address:p.address,authUrl:i,message:e,publicKey:p.capabilities?.admins?.[0]?.publicKey,signature:t});return{message:e,signature:t,token:r}})();return{...r9({address:p.address,keys:[...m??[],...h??[]]}),signInWithEthereum:f}}throw Error(`Account creation not supported on method: ${n.method}`)})()}},async disconnect(e){let{internal:t}=e,{config:r}=t,{storage:a}=r,n=await a.getItem("porto.authUrl")||void 0,i=lw(r.authUrl??n,{storage:a});i&&await fetch(i.logout,{credentials:"include",method:"POST"}).catch(()=>{})},async getAccountVersion(e){let{internal:r}=e,{store:n,request:i}=r;if("wallet_getAccountVersion"!==i.method)throw Error("Cannot get version for method: "+i.method);if(!a.supportsHeadless)return t.actions.getAccountVersion(e);let s=l(n);return await s.request(i)},async getAssets(e){let{internal:r}=e,{store:n,request:i}=r;if("wallet_getAssets"!==i.method)throw Error("Cannot get assets for method: "+i.method);if(!a.supportsHeadless)return t.actions.getAssets(e);let s=l(n),o=await s.request(i);return aT.decode(ty.Response,o)},async getCallsHistory(e){let{internal:r}=e,{store:n,request:i}=r;if("wallet_getCallsHistory"!==i.method)throw Error("Cannot get history for method: "+i.method);if(!a.supportsHeadless)return t.actions.getCallsHistory(e);let s=l(n),o=await s.request(i);return aT.decode(tg.Response,o)},async getCallsStatus(e){let{internal:r}=e,{store:n,request:i}=r;if("wallet_getCallsStatus"!==i.method)throw Error("Cannot get status for method: "+i.method);if(!a.supportsHeadless)return t.actions.getCallsStatus(e);let s=l(n);return await s.request(i)},async getCapabilities(e){let{internal:r}=e,{store:n,request:i}=r;if("wallet_getCapabilities"!==i.method)throw Error("Cannot get capabilities for method: "+i.method);if(!a.supportsHeadless)return t.actions.getCapabilities(e);let s=l(n);return await s.request(i)},async getKeys(e){let{account:r,chainIds:n,internal:i}=e,{store:s}=i,o=await (async()=>{if(!a.supportsHeadless)return t.actions.getKeys(e);let i=l(s),o=await i.request({method:"wallet_getKeys",params:[aT.encode(tv.Parameters,{address:r.address,chainIds:n})]});return aT.decode(tv.Response,o)})();return ai([...o,...r.keys??[]],e=>e.publicKey)},async grantAdmin(e){let{internal:t}=e,{request:r,store:a}=t;if("wallet_grantAdmin"!==r.method)throw Error("Cannot authorize admin for method: "+r.method);let[n]=r._decoded.params,i=r8.from(n.key);if(!i)throw Error("no key found.");let s=await lg(t,e),o=l(a);return await o.request({method:"wallet_grantAdmin",params:[{...r.params?.[0],capabilities:{...r.params?.[0]?.capabilities,feeToken:s}}]}),{key:i}},async grantPermissions(e){let{internal:t}=e,{client:r,request:a,store:n}=t;if("wallet_grantPermissions"!==a.method)throw Error("Cannot grant permissions for method: "+a.method);let[{address:i,...s}]=a._decoded.params,o=await ox(s,{chainId:r.chain.id});if(!o)throw Error("no key found.");let c=aT.encode(s3,ok(o)),u=l(n);return await u.request({method:"wallet_grantPermissions",params:[c]}),{key:o}},async loadAccounts(e){let{internal:t}=e,{client:r,config:a,store:n}=t,{storage:i}=a,s=l(n),o=t.request;if("wallet_connect"!==o.method&&"eth_requestAccounts"!==o.method)throw Error("Cannot load accounts for method: "+o.method);return{accounts:await (async()=>{let[e]=o._decoded.params??[],{capabilities:t}=e??{},n=lw(t?.signInWithEthereum?.authUrl??a.authUrl,{storage:i}),l=o.params?.[0]?.capabilities?.signInWithEthereum,c=await ox(t?.grantPermissions,{chainId:r.chain.id}),u=c?aT.encode(s3,ok(c)):void 0,{accounts:d}=await s.request({method:"wallet_connect",params:[{...o.params?.[0],capabilities:{...o.params?.[0]?.capabilities,grantPermissions:u,signInWithEthereum:n||l?{...l,authUrl:n}:void 0}}]});return Promise.all(d.map(async e=>{let t=e.capabilities?.admins?.map(e=>r8.from(e)).filter(Boolean),r=e.capabilities?.permissions?.map(e=>{try{let t=s9(aT.decode(s4,e));if(t.id===c?.id)return{...t,...c,permissions:t.permissions};return t}catch{return}}).filter(Boolean),a=await (async()=>{if(!e.capabilities?.signInWithEthereum)return;let{message:t,signature:r}=e.capabilities.signInWithEthereum;if(!n)return{message:t,signature:r};let{token:a}=await oT({address:e.address,authUrl:n,message:t,publicKey:e.capabilities?.admins?.[0]?.publicKey,signature:r});return{message:t,signature:r,token:a}})();return{...r9({address:e.address,keys:[...t??[],...r??[]]}),signInWithEthereum:a}}))})()}},async prepareCalls(e){let{account:r,internal:n}=e,{store:i,request:s}=n;if("wallet_prepareCalls"!==s.method)throw Error("Cannot prepare calls for method: "+s.method);if(!a.supportsHeadless)return t.actions.prepareCalls(e);let o=await lg(n,e),c=l(i),u=aT.decode(tj.Response,await c.request({...s,params:[{...s.params?.[0],capabilities:{...s.params?.[0]?.capabilities,feeToken:o}}]}));return{account:r,chainId:Number(u.chainId),context:u.context,digest:u.digest,key:u.key,typedData:u.typedData}},async prepareUpgradeAccount(e){let{internal:r}=e,{client:n,store:i,request:s}=r;if("wallet_prepareUpgradeAccount"!==s.method)throw Error("Cannot prepare upgrade for method: "+s.method);if(!a.supportsHeadless)return t.actions.prepareUpgradeAccount(e);let[{capabilities:o}]=s._decoded.params??[{}],c=await ox(o?.grantPermissions,{chainId:n.chain.id}),u=c?aT.encode(s3,ok(c)):void 0,d=l(i),{context:p,digests:m}=await d.request({...s,params:[{...s.params?.[0],capabilities:{...s.params?.[0]?.capabilities,grantPermissions:u}}]}),h=p.account.keys?.map(e=>e.id===c?.id?{...e,...c}:e);return{context:{...p,account:{...p.account,keys:h}},digests:m}},async revokeAdmin(e){let{account:t,id:r,internal:a}=e,{store:n,request:i}=a;if("wallet_revokeAdmin"!==i.method)throw Error("Cannot revoke admin for method: "+i.method);let s=t.keys?.find(e=>e.id===r);if(!s)return;if("webauthn-p256"===s.type&&t.keys?.filter(e=>"webauthn-p256"===e.type).length===1)throw Error("revoke the only WebAuthn key left.");let o=await lg(a,e),c=l(n);return await c.request({...i,params:[{...i.params?.[0],capabilities:{...i.params?.[0]?.capabilities,feeToken:o}}]})},async revokePermissions(e){let{account:t,id:r,internal:a}=e,{store:n,request:i}=a;if("wallet_revokePermissions"!==i.method)throw Error("Cannot revoke permissions for method: "+i.method);let s=t.keys?.find(e=>e.id===r);if(!s)return;if("admin"===s.role)throw Error("cannot revoke permissions.");let o=l(n);return await o.request(i)},async sendCalls(e){let{account:r,asTxHash:n,calls:i,chainId:s,internal:o,merchantUrl:c,requiredFunds:u}=e,{client:d,store:p,request:m}=o,h=l(p),f=await lg(o,e),y=r?await ou({account:r,calls:i,permissionsId:e.permissionsId}):void 0;if(y?.role==="session"&&r){if(!a.supportsHeadless)return t.actions.sendCalls(e);try{let e=await h.request(aT.encode(tj.Request,{method:"wallet_prepareCalls",params:[{calls:i,capabilities:{..."wallet_sendCalls"===m._decoded.method?m._decoded.params?.[0]?.capabilities:void 0,feeToken:f,merchantUrl:c,requiredFunds:u},chainId:s,from:r.address,key:y}]})),t=e.capabilities?.quote?.quotes??[];if(t.some((e,r)=>(r!==t.length-1||!(t.length>1))&&aO.toBigInt(e.feeTokenDeficit)>0n))throw Error("insufficient funds");let a=await r8.sign(y,{address:null,payload:e.digest,wrap:!1}),o=(await h.request({method:"wallet_sendPreparedCalls",params:[{...e,signature:a}]}))[0];if(!o)throw Error("id not found");if(n){let{id:e,receipts:t,status:r}=await oE(d,{id:o.id,pollingInterval:500});if(!t?.[0]){if("success"===r)throw new rU({message:"Call bundle with id: "+e+" not found."});throw new rv({message:"Transaction failed under call bundle id: "+e+"."})}return{id:t[0].transactionHash}}return o}catch{}}if("eth_sendTransaction"===m.method)return{id:await h.request({...m,params:[{...m.params?.[0],capabilities:{feeToken:f,merchantUrl:c},...s?{chainId:aO.fromNumber(s)}:{}}]})};if("wallet_sendCalls"===m.method)return await h.request({method:"wallet_sendCalls",params:[{...m.params?.[0],capabilities:{...m.params?.[0]?.capabilities,feeToken:f,merchantUrl:c},...s?{chainId:aO.fromNumber(s)}:{}}]});throw Error("Cannot execute for method: "+m.method)},async sendPreparedCalls(e){let{internal:r}=e,{store:n,request:i}=r;if("wallet_sendPreparedCalls"!==i.method)throw Error("Cannot send prepared calls for method: "+i.method);if(!a.supportsHeadless)return t.actions.sendPreparedCalls(e);let s=l(n),o=await s.request(i),c=o[0]?.id;if(!c)throw Error("id not found");return c},async signPersonalMessage(e){let{internal:t}=e,{store:r,request:a}=t;if("personal_sign"!==a.method)throw Error("Cannot sign personal message for method: "+a.method);let n=l(r);return await n.request(a)},async signTypedData(e){let{internal:t}=e,{store:r,request:a}=t;if("eth_signTypedData_v4"!==a.method)throw Error("Cannot sign typed data for method: "+a.method);let n=l(r);return await n.request(a)},async switchChain(e){let{internal:t}=e,{store:r,request:n}=t;if("wallet_switchEthereumChain"!==n.method)throw Error("Cannot switch chain for method: "+n.method);if(!a.supportsHeadless)return;let i=l(r);return await i.request(n)},async upgradeAccount(e){let{account:t,internal:r}=e,{store:a,request:n}=r;if("wallet_upgradeAccount"!==n.method)throw Error("Cannot upgrade account for method: "+n.method);let i=l(a);return await i.request(n),{account:t}},async verifyEmail(e){let{internal:t}=e,{request:r,store:a}=t;if("account_verifyEmail"!==r.method)throw Error("Cannot verify email for method: "+r.method);let n=l(a);return await n.request(r)}},config:e,name:"dialog",setup(e){let{internal:t}=e,{store:o}=t,l=a.setup({host:r,internal:t,theme:n,themeController:i}),c=o.subscribe(e=>e.requestQueue,e=>{for(let t of s)t(e);let t=e.map(e=>"pending"===e.status?e:void 0).filter(Boolean);l.syncRequests(t).catch(()=>{}),0===t.length&&l.close()});return()=>{c(),l.destroy()}}})}async function lg(e,t){let{config:{feeToken:r}}=e,{feeToken:a}=t??{};return a??r}function lw(e,{storage:t}){if(!e)return;let r=oU(e,"u">typeof window?window.location.origin:void 0);return r&&t.setItem("porto.authUrl",r),r}function lv(e={}){if(!ah())return e.fallback??oc({actions:ly().actions,name:"relay"});let{redirectUri:t,requestOptions:r,...a}=e;return oc({...lb({...a,renderer:aw({redirectUri:t,requestOptions:r})}),name:"reactNative"})}(lh||(lh={})).predicate=function(e){return t=>!!e&&(rY.validate(e)?rY.isEqual(t.address,e):"native"===e?t.address===lp.zeroAddress:e===t.symbol)},e.s([],75736);var lj=e.i(75736);e.s(["_internal_types",0,lj,"dialog",()=>lb,"from",()=>oc,"reactNative",()=>lv,"relay",()=>ly],88864);var lI=e.i(88864);let lE={get url(){return`file://${e.P("node_modules/porto/node_modules/zustand/esm/middleware.mjs")}`}},lM=e=>!!e.dispatchFromDevtools&&"function"==typeof e.dispatch,lk=new Map,lx=e=>{let t=lk.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([e,t])=>[e,t.getState()])):{}},lP=(e,t)=>{let r;try{r=JSON.parse(e)}catch(e){console.error("[zustand devtools middleware] Could not parse the received json",e)}void 0!==r&&t(r)},lA=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>lA(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>lA(t)(e)}}},lC=e=>{let t,r=new Set,a=(e,a)=>{let n="function"==typeof e?e(t):e;if(!Object.is(n,t)){let e=t;t=(null!=a?a:"object"!=typeof n||null===n)?n:Object.assign({},t,n),r.forEach(r=>r(t,e))}},n=()=>t,i={setState:a,getState:n,getInitialState:()=>s,subscribe:e=>(r.add(e),()=>r.delete(e))},s=t=e(a,n,i);return i};function lR(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function lS(e,t){let r;return(a,n)=>(()=>{if(r)return r;let a=indexedDB.open(e);return a.onupgradeneeded=()=>a.result.createObjectStore(t),(r=lR(a)).then(e=>{e.onclose=()=>r=void 0},()=>{}),r})().then(e=>n(e.transaction(t,a).objectStore(t)))}function lO(){return r||(r=lS("keyval-store","keyval")),r}function lN(e){return e}function lz(...e){return{async getItem(t){let r=(await Promise.allSettled(e.map(e=>e.getItem(t)))).find(e=>"fulfilled"===e.status&&null!==e.value);return r?.status!=="fulfilled"||null===r.value?null:r.value},async removeItem(t){await Promise.allSettled(e.map(e=>e.removeItem(t)))},async setItem(t,r){await Promise.allSettled(e.map(e=>e.setItem(t,r)))},sizeLimit:Math.min(...e.map(e=>e.sizeLimit)),storages:e}}function l_(){let e="u">typeof indexedDB?lS("porto","store"):void 0;return{async getItem(t){let r=await function(e,t=lO()){return t("readonly",t=>lR(t.get(e)))}(t,e);return null===r?null:r},async removeItem(t){await function(e,t=lO()){return t("readwrite",t=>(t.delete(e),lR(t.transaction)))}(t,e)},async setItem(t,r){await function(e,t,r=lO()){return r("readwrite",r=>(r.put(t,e),lR(r.transaction)))}(t,an(r),e)},sizeLimit:0x3200000}}function lD(){return{async getItem(e){let t=window.localStorage.getItem(e);if(null===t)return null;try{return rp.parse(t)}catch{return null}},async removeItem(e){window.localStorage.removeItem(e)},async setItem(e,t){window.localStorage.setItem(e,rp.stringify(t))},sizeLimit:5242880}}function lT(){return{async getItem(e){let t=document.cookie.split("; ").find(t=>t.startsWith(`${e}=`));if(!t)return null;try{return rp.parse(t.substring(e.length+1))}catch{return null}},async removeItem(e){document.cookie=`${e}=;max-age=-1;path=/`},async setItem(e,t){document.cookie=`${e}=${rp.stringify(t)};path=/;samesite=None;secure;max-age=31536000`},sizeLimit:4096}}function lq(){let e=new Map;return{getItem:t=>e.get(t)??null,removeItem(t){e.delete(t)},setItem(t,r){e.set(t,r)},sizeLimit:1/0}}e.s(["combine",()=>lz,"cookie",()=>lT,"from",()=>lN,"idb",()=>l_,"localStorage",()=>lD,"memory",()=>lq],21695);let lU="u">typeof window&&"u">typeof document,lB={announceProvider:!0,chains:ro,mode:lU?lb({host:af.prod}):ly(),relay:(0,sV.http)(sQ.prod.http),storage:lU&&"u">typeof indexedDB?l_():lq(),storageKey:"porto.store"};function lL(e={}){let t,r,a,n,i=e.chains??lB.chains,s=Object.fromEntries(i.map(t=>[t.id,e.transports?.[t.id]??(0,sV.http)()])),o={announceProvider:e.announceProvider??lB.announceProvider,authUrl:e.authUrl,chains:i,feeToken:e.feeToken,merchantUrl:e.merchantUrl,mode:e.mode??lB.mode,relay:e.relay??lB.relay,storage:e.storage??lB.storage,storageKey:e.storageKey??lB.storageKey,transports:s},l=(n=((e,t={})=>(r,a,n)=>{let i,{enabled:s,anonymousActionType:o,store:l,...c}=t;try{i=(null!=s?s:(lE.env?lE.env.MODE:void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(e){}if(!i)return e(r,a,n);let{connection:u,...d}=((e,t,r)=>{if(void 0===e)return{type:"untracked",connection:t.connect(r)};let a=lk.get(r.name);if(a)return{type:"tracked",store:e,...a};let n={connection:t.connect(r),stores:{}};return lk.set(r.name,n),{type:"tracked",store:e,...n}})(l,i,c),p=!0;n.setState=(e,t,i)=>{let s=r(e,t);if(!p)return s;let d=void 0===i?{type:o||(e=>{var t,r;if(!e)return;let a=e.split("\n"),n=a.findIndex(e=>e.includes("api.setState"));if(n<0)return;let i=(null==(t=a[n+1])?void 0:t.trim())||"";return null==(r=/.+ (.+) .+/.exec(i))?void 0:r[1]})(Error().stack)||"anonymous"}:"string"==typeof i?{type:i}:i;return void 0===l?null==u||u.send(d,a()):null==u||u.send({...d,type:`${l}/${d.type}`},{...lx(c.name),[l]:n.getState()}),s},n.devtools={cleanup:()=>{u&&"function"==typeof u.unsubscribe&&u.unsubscribe(),((e,t)=>{if(void 0===t)return;let r=lk.get(e);r&&(delete r.stores[t],0===Object.keys(r.stores).length&&lk.delete(e))})(c.name,l)}};let m=(...e)=>{let t=p;p=!1,r(...e),p=t},h=e(n.setState,a,n);if("untracked"===d.type?null==u||u.init(h):(d.stores[d.store]=n,null==u||u.init(Object.fromEntries(Object.entries(d.stores).map(([e,t])=>[e,e===d.store?h:t.getState()])))),lM(n)){let e=!1,t=n.dispatch;n.dispatch=(...r)=>{(lE.env?lE.env.MODE:void 0)==="production"||"__setState"!==r[0].type||e||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),e=!0),t(...r)}}return u.subscribe(e=>{var t;switch(e.type){case"ACTION":if("string"!=typeof e.payload)return void console.error("[zustand devtools middleware] Unsupported action format");return lP(e.payload,e=>{if("__setState"===e.type){if(void 0===l)return void m(e.state);1!==Object.keys(e.state).length&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);let t=e.state[l];return void(null==t||JSON.stringify(n.getState())!==JSON.stringify(t)&&m(t))}lM(n)&&n.dispatch(e)});case"DISPATCH":switch(e.payload.type){case"RESET":if(m(h),void 0===l)return null==u?void 0:u.init(n.getState());return null==u?void 0:u.init(lx(c.name));case"COMMIT":if(void 0===l){null==u||u.init(n.getState());break}return null==u?void 0:u.init(lx(c.name));case"ROLLBACK":return lP(e.state,e=>{if(void 0===l){m(e),null==u||u.init(n.getState());return}m(e[l]),null==u||u.init(lx(c.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return lP(e.state,e=>{void 0===l?m(e):JSON.stringify(n.getState())!==JSON.stringify(e[l])&&m(e[l])});case"IMPORT_STATE":{let{nextLiftedState:r}=e.payload,a=null==(t=r.computedStates.slice(-1)[0])?void 0:t.state;if(!a)return;void 0===l?m(a):m(a[l]),null==u||u.send(null,r);break}case"PAUSE_RECORDING":return p=!p}return}}),h})((t=e=>({accounts:[],chainIds:o.chains.map(e=>e.id),feeToken:o.feeToken,requestQueue:[]}),r={merge(e,t){let r=o.chains.find(t=>t.id===e.chainIds[0])?.id??o.chains[0].id,a=[r,...o.chains.map(e=>e.id).filter(e=>e!==r)];return{...t,...e,chainIds:a}},name:o.storageKey,partialize:e=>({accounts:e.accounts.map(e=>an(e)),chainIds:e.chainIds}),storage:o.storage,version:5},a=(e,a,n)=>{let i,s={storage:function(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var t;let a=e=>null===e?null:JSON.parse(e,void 0),n=null!=(t=r.getItem(e))?t:null;return n instanceof Promise?n.then(a):a(n)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}(()=>window.localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...r},o=!1,l=0,c=new Set,u=new Set,d=s.storage;if(!d)return t((...t)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),e(...t)},a,n);let p=()=>{let e=s.partialize({...a()});return d.setItem(s.name,{state:e,version:s.version})},m=n.setState;n.setState=(e,t)=>(m(e,t),p());let h=t((...t)=>(e(...t),p()),a,n);n.getInitialState=()=>h;let f=()=>{var t,r;if(!d)return;let n=++l;o=!1,c.forEach(e=>{var t;return e(null!=(t=a())?t:h)});let m=(null==(r=s.onRehydrateStorage)?void 0:r.call(s,null!=(t=a())?t:h))||void 0;return lA(d.getItem.bind(d))(s.name).then(e=>{if(e)if("number"!=typeof e.version||e.version===s.version)return[!1,e.state];else{if(s.migrate){let t=s.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(t=>{var r;if(n!==l)return;let[o,c]=t;if(e(i=s.merge(c,null!=(r=a())?r:h),!0),o)return p()}).then(()=>{n===l&&(null==m||m(i,void 0),i=a(),o=!0,u.forEach(e=>e(i)))}).catch(e=>{n===l&&(null==m||m(void 0,e))})};return n.persist={setOptions:e=>{s={...s,...e},e.storage&&(d=e.storage)},clearStorage:()=>{null==d||d.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>f(),hasHydrated:()=>o,onHydrate:e=>(c.add(e),()=>{c.delete(e)}),onFinishHydration:e=>(u.add(e),()=>{u.delete(e)})},s.skipHydration||f(),i||h},(e,t,r)=>{let n=r.subscribe;return r.subscribe=(e,t,a)=>{let i=e;if(t){let n=(null==a?void 0:a.equalityFn)||Object.is,s=e(r.getState());i=r=>{let a=e(r);if(!n(s,a)){let e=s;t(s=a,e)}},(null==a?void 0:a.fireImmediately)&&t(s,s)}return n(i)},a(e,t,r)})))?lC(n):lC,c=o.mode,u={config:o,getMode:()=>c,id:as(),setMode:e=>(p?.(),c=e,p=e.setup({internal:u})),store:l},d=on(u),p=null!==c?c.setup({internal:u}):()=>{};return{_internal:u,config:o,destroy(){p(),d._internal.destroy()},provider:d}}e.s(["create",()=>lL,"defaultConfig",0,lB],280);var l$=e.i(280);e.s([],98521),e.i(98521),e.i(28723),e.s(["account_getOnrampContactInfo",()=>e0,"account_onrampStatus",()=>e1,"account_resendVerifyPhone",()=>e2,"account_setEmail",()=>e6,"account_setPhone",()=>e5,"account_verifyEmail",()=>e4,"account_verifyPhone",()=>e3,"eth_accounts",()=>e9,"eth_chainId",()=>e7,"eth_requestAccounts",()=>te,"eth_sendTransaction",()=>tt,"eth_signTypedData_v4",()=>tr,"personal_sign",()=>tp,"porto_ping",()=>tm,"wallet_addFunds",()=>e8,"wallet_connect",()=>th,"wallet_disconnect",()=>tf,"wallet_getAccountVersion",()=>ts,"wallet_getAdmins",()=>ta,"wallet_getAssets",()=>ty,"wallet_getCallsHistory",()=>tg,"wallet_getCallsStatus",()=>tb,"wallet_getCapabilities",()=>tw,"wallet_getKeys",()=>tv,"wallet_getPermissions",()=>to,"wallet_grantAdmin",()=>tn,"wallet_grantPermissions",()=>ti,"wallet_prepareCalls",()=>tj,"wallet_prepareUpgradeAccount",()=>tI,"wallet_revokeAdmin",()=>tl,"wallet_revokePermissions",()=>tc,"wallet_sendCalls",()=>tE,"wallet_sendPreparedCalls",()=>tM,"wallet_switchEthereumChain",()=>tu,"wallet_upgradeAccount",()=>td,"wallet_verifySignature",()=>tk],67887);var lF=e.i(67887),lK=e.i(21695);e.i(69702);var lH=e.i(88134);e.i(68368);var lY=e.i(71706),lW=e.i(84534),lV=e.i(22662);let lQ=new Map;async function lG(e){let{getSocket:t,keepAlive:r=!0,key:a="socket",reconnect:n=!0,url:i}=e,{interval:s=3e4}="object"==typeof r?r:{},{attempts:o=5,delay:l=2e3}="object"==typeof n?n:{},c=JSON.stringify({keepAlive:r,key:a,url:i,reconnect:n}),u=lQ.get(c);if(u)return u;let d=0,{schedule:p}=(0,lY.createBatchScheduler)({id:c,fn:async()=>{let e,a,p,m=new Map,h=new Map,f=!1;function y(){n&&d<o?f||(f=!0,d++,a?.close(),setTimeout(async()=>{await b().catch(console.error),f=!1},l)):(m.clear(),h.clear())}async function b(){let o=await t({onClose(){for(let e of m.values())e.onError?.(new iz.SocketClosedError({url:i}));for(let e of h.values())e.onError?.(new iz.SocketClosedError({url:i}));y()},onError(t){for(let r of(e=t,m.values()))r.onError?.(e);for(let t of h.values())t.onError?.(e);y()},onOpen(){e=void 0,d=0},onResponse(e){let t="eth_subscription"===e.method,r=t?e.params.subscription:e.id,a=t?h:m,n=a.get(r);n&&n.onResponse(e),t||a.delete(r)}});if(a=o,r&&(p&&clearInterval(p),p=setInterval(()=>a.ping?.(),s)),n&&h.size>0)for(let[e,{onResponse:t,body:r,onError:a}]of h.entries())r&&(h.delete(e),u?.request({body:r,onResponse:t,onError:a}));return o}return await b(),e=void 0,u={close(){p&&clearInterval(p),a.close(),lQ.delete(c)},get socket(){return a},request({body:t,onError:r,onResponse:n}){e&&r&&r(e);let i=t.id??lV.idCache.take(),s=e=>{("number"!=typeof e.id||i===e.id)&&("eth_subscribe"===t.method&&"string"==typeof e.result&&h.set(e.result,{onResponse:s,onError:r,body:t}),n(e))};"eth_unsubscribe"===t.method&&h.delete(t.params?.[0]),m.set(i,{onResponse:s,onError:r});try{a.request({body:{jsonrpc:"2.0",id:i,...t}})}catch(e){r?.(e)}},requestAsync({body:e,timeout:t=1e4}){return(0,lW.withTimeout)(()=>new Promise((t,r)=>this.request({body:e,onError:r,onResponse:t})),{errorInstance:new iz.TimeoutError({body:e,url:i}),timeout:t})},requests:m,subscriptions:h,url:i},lQ.set(c,u),[u]}}),[m,[h]]=await p();return h}async function lZ(t,r={}){let{keepAlive:a,reconnect:n}=r;return lG({async getSocket({onClose:r,onError:a,onOpen:n,onResponse:i}){let s=await e.A(32003).then(e=>e.WebSocket),o=new s(t);function l(){o.removeEventListener("close",l),o.removeEventListener("message",c),o.removeEventListener("error",a),o.removeEventListener("open",n),r()}function c({data:e}){if("string"!=typeof e||0!==e.trim().length)try{let t=JSON.parse(e);i(t)}catch(e){a(e)}}o.addEventListener("close",l),o.addEventListener("message",c),o.addEventListener("error",a),o.addEventListener("open",n),o.readyState===s.CONNECTING&&await new Promise((e,t)=>{o&&(o.onopen=e,o.onerror=t)});let{close:u}=o;return Object.assign(o,{close(){u.bind(o)(),l()},ping(){try{if(o.readyState===o.CLOSED||o.readyState===o.CLOSING)throw new iz.WebSocketRequestError({url:o.url,cause:new iz.SocketClosedError({url:o.url})});o.send(JSON.stringify({jsonrpc:"2.0",id:null,method:"net_version",params:[]}))}catch(e){a(e)}},request({body:e}){if(o.readyState===o.CLOSED||o.readyState===o.CLOSING)throw new iz.WebSocketRequestError({body:e,url:o.url,cause:new iz.SocketClosedError({url:o.url})});return o.send(JSON.stringify(e))}})},keepAlive:a,reconnect:n,url:t})}async function lJ(e){let t=await lZ(e);return Object.assign(t.socket,{requests:t.requests,subscriptions:t.subscriptions})}function lX(e,t={}){let{keepAlive:r,key:a="webSocket",methods:n,name:i="WebSocket JSON-RPC",reconnect:s,retryDelay:o}=t;return({chain:l,retryCount:c,timeout:u})=>{let d=t.retryCount??c,p=u??t.timeout??1e4,m=e||l?.rpcUrls.default.webSocket?.[0],h={keepAlive:r,reconnect:s};if(!m)throw new lH.UrlRequiredError;return(0,sH.createTransport)({key:a,methods:n,name:i,async request({method:e,params:t}){let r={method:e,params:t},a=await lZ(m,h),{error:n,result:i}=await a.requestAsync({body:r,timeout:p});if(n)throw new iz.RpcRequestError({body:r,error:n,url:m});return i},retryCount:d,retryDelay:o,timeout:p,type:"webSocket"},{getSocket:()=>lJ(m),getRpcClient:()=>lZ(m,h),async subscribe({params:e,onData:t,onError:r}){let a=await lZ(m,h),{result:n}=await new Promise((n,i)=>a.request({body:{method:"eth_subscribe",params:e},onError(e){i(e),r?.(e)},onResponse(e){if(e.error){i(e.error),r?.(e.error);return}"number"==typeof e.id?n(e):"eth_subscription"===e.method&&t(e.params)}}));return{subscriptionId:n,unsubscribe:async()=>new Promise(e=>a.request({body:{method:"eth_unsubscribe",params:[n]},onResponse:e}))}}})}}e.s(["fallback",()=>sY,"http",()=>sV.http,"relayProxy",()=>sG,"relayUrls",0,sQ,"webSocket",()=>lX],42226);var l0=e.i(42226),l1=e.i(99882);e.i(51404),e.s(["addFaucetFunds",()=>sI,"createAccount",()=>oG,"decorator",()=>lt,"getAssets",()=>sj,"getAuthorization",()=>sw,"getCallsHistory",()=>sM,"getCallsStatus",()=>sE,"getCapabilities",()=>sv,"getKeys",()=>oZ,"getOnrampContactInfo",()=>oJ,"health",()=>sx,"onrampStatus",()=>oX,"prepareCalls",()=>o0,"prepareUpgradeAccount",()=>o1,"resendVerifyPhone",()=>o2,"sendCalls",()=>o6,"sendPreparedCalls",()=>o4,"setEmail",()=>o3,"setPhone",()=>o8,"signCalls",()=>o5,"upgradeAccount",()=>o9,"verifyEmail",()=>o7,"verifyPhone",()=>le,"verifySignature",()=>sU],59747);var l2=e.i(59747);e.s(["Account",0,l1,"Chains",0,rd,"Dialog",0,aR,"Key",0,r8,"Messenger",0,ol,"Mode",0,lI,"Porto",0,l$,"RelayActions",0,l2,"RpcSchema",0,lF,"Storage",0,lK,"Transport",0,l0,"from",()=>on],41942)}]);