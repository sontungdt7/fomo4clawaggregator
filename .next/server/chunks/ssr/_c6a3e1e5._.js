module.exports=[9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},88367,a=>{"use strict";var b=a.i(87924),c=a.i(33217),d=a.i(70025),e=a.i(37927),f=a.i(63222),g=a.i(70382),h=a.i(70106);let i=(0,h.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),j=(0,h.default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var k=a.i(52495),l=a.i(31850);function m(){let{address:a,isConnected:h}=(0,f.useWallet)(),m=(0,e.useQueryClient)(),{data:n}=(0,c.useQuery)({queryKey:["admin",a],queryFn:async()=>{let b=await fetch(`/api/admin/me?address=${a}`);return await b.json()},enabled:!!a}),o=h&&a&&n?.isAdmin,{data:p,isLoading:q}=(0,c.useQuery)({queryKey:["submissions","pending"],queryFn:async()=>{let a=await fetch("/api/submissions?status=pending");if(!a.ok)throw Error("Failed to fetch");return a.json()},enabled:o}),r=(0,d.useMutation)({mutationFn:async({id:b,action:c})=>{let d=await fetch(`/api/admin/submissions/${b}/approve`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:a,action:c})});if(!d.ok)throw Error((await d.json()).error??"Failed");return d.json()},onSuccess:()=>{m.invalidateQueries({queryKey:["submissions"]})}}),s=p?.submissions??[];return h?o?(0,b.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,b.jsx)(g.Header,{}),(0,b.jsxs)("main",{className:"container mx-auto flex-1 px-4 py-8",children:[(0,b.jsx)("h1",{className:"mb-2 text-2xl font-bold",children:"Admin Approvals"}),(0,b.jsx)("p",{className:"mb-8 text-sm text-muted-foreground",children:"Approve or reject pending submissions. Approved pairs appear on the main listing."}),q?(0,b.jsx)("div",{className:"space-y-4",children:[1,2,3].map(a=>(0,b.jsx)("div",{className:"h-24 animate-pulse rounded-lg border border-border bg-card"},a))}):0===s.length?(0,b.jsx)("p",{className:"text-muted-foreground",children:"No pending submissions."}):(0,b.jsx)("div",{className:"space-y-4",children:s.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between gap-4 rounded-lg border border-border bg-card p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(l.TokenImage,{src:a.image,alt:a.name,symbol:a.symbol,className:"h-12 w-12 rounded-full object-cover"}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[a.pairLabel&&(0,b.jsx)("span",{className:"rounded border border-border px-1.5 py-0.5 text-[10px] uppercase text-muted-foreground",children:a.pairLabel}),(0,b.jsx)("span",{className:"font-semibold",children:a.quoteSymbol?`${a.symbol} / ${a.quoteSymbol}`:a.symbol}),(0,b.jsx)("span",{className:"rounded bg-muted px-1.5 py-0.5 text-xs",children:a.name}),(0,b.jsxs)("span",{className:"text-sm text-emerald-400",children:["↑ ",a.voteCount]})]}),(0,b.jsxs)("div",{className:"mt-1 text-xs text-muted-foreground",children:["by ",a.submittedBy.slice(0,10),"... • ",new Date(a.createdAt).toLocaleDateString()]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("a",{href:a.dexScreenerUrl,target:"_blank",rel:"noopener noreferrer",className:"rounded p-2 text-muted-foreground hover:bg-muted hover:text-foreground",children:(0,b.jsx)(k.ExternalLink,{className:"h-4 w-4"})}),(0,b.jsxs)("button",{type:"button",onClick:()=>r.mutate({id:a.id,action:"approve"}),disabled:r.isPending,className:"flex items-center gap-1 rounded-md bg-emerald-500/20 px-3 py-1.5 text-sm font-medium text-emerald-400 hover:bg-emerald-500/30 disabled:opacity-50",children:[(0,b.jsx)(i,{className:"h-4 w-4"}),"Approve"]}),(0,b.jsxs)("button",{type:"button",onClick:()=>r.mutate({id:a.id,action:"reject"}),disabled:r.isPending,className:"flex items-center gap-1 rounded-md bg-rose-500/20 px-3 py-1.5 text-sm font-medium text-rose-400 hover:bg-rose-500/30 disabled:opacity-50",children:[(0,b.jsx)(j,{className:"h-4 w-4"}),"Reject"]})]})]},a.id))})]})]}):(0,b.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,b.jsx)(g.Header,{}),(0,b.jsx)("main",{className:"container mx-auto flex-1 px-4 py-12",children:(0,b.jsx)("p",{className:"text-rose-400",children:"You are not an admin."})})]}):(0,b.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,b.jsx)(g.Header,{}),(0,b.jsx)("main",{className:"container mx-auto flex-1 px-4 py-12",children:(0,b.jsx)("p",{className:"text-muted-foreground",children:"Connect your wallet to access admin."})})]})}a.s(["default",()=>m],88367)}];

//# sourceMappingURL=_c6a3e1e5._.js.map