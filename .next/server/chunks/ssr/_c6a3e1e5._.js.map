{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","../../../../app/admin/page.tsx","../../../../node_modules/lucide-react/src/icons/x.ts","../../../../node_modules/lucide-react/src/icons/check.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","'use client'\n\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\nimport { useWallet } from '@/lib/wallet-context'\nimport { Header } from '@/components/header'\nimport { Check, X, ExternalLink } from 'lucide-react'\nimport { TokenImage } from '@/components/token-image'\n\nexport default function AdminPage() {\n  const { address, isConnected } = useWallet()\n  const qc = useQueryClient()\n\n  const { data: adminData } = useQuery({\n    queryKey: ['admin', address],\n    queryFn: async () => {\n      const res = await fetch(`/api/admin/me?address=${address}`)\n      const data = await res.json()\n      return data\n    },\n    enabled: !!address,\n  })\n  const admin = isConnected && address && adminData?.isAdmin\n\n  const { data, isLoading } = useQuery({\n    queryKey: ['submissions', 'pending'],\n    queryFn: async () => {\n      const res = await fetch('/api/submissions?status=pending')\n      if (!res.ok) throw new Error('Failed to fetch')\n      return res.json()\n    },\n    enabled: admin,\n  })\n\n  const approveMutation = useMutation({\n    mutationFn: async ({\n      id,\n      action,\n    }: {\n      id: string\n      action: 'approve' | 'reject'\n    }) => {\n      const res = await fetch(`/api/admin/submissions/${id}/approve`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ walletAddress: address, action }),\n      })\n      if (!res.ok) {\n        const err = await res.json()\n        throw new Error(err.error ?? 'Failed')\n      }\n      return res.json()\n    },\n    onSuccess: () => {\n      qc.invalidateQueries({ queryKey: ['submissions'] })\n    },\n  })\n\n  const submissions = (data?.submissions ?? []) as Array<{\n    id: string\n    name: string\n    symbol: string\n    quoteSymbol?: string\n    pairLabel?: string\n    image?: string\n    dexScreenerUrl: string\n    voteCount: number\n    submittedBy: string\n    createdAt: string\n  }>\n\n  if (!isConnected) {\n    return (\n      <div className=\"min-h-screen flex flex-col\">\n        <Header />\n        <main className=\"container mx-auto flex-1 px-4 py-12\">\n          <p className=\"text-muted-foreground\">Connect your wallet to access admin.</p>\n        </main>\n      </div>\n    )\n  }\n\n  if (!admin) {\n    return (\n      <div className=\"min-h-screen flex flex-col\">\n        <Header />\n        <main className=\"container mx-auto flex-1 px-4 py-12\">\n          <p className=\"text-rose-400\">You are not an admin.</p>\n        </main>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen flex flex-col\">\n      <Header />\n      <main className=\"container mx-auto flex-1 px-4 py-8\">\n        <h1 className=\"mb-2 text-2xl font-bold\">Admin Approvals</h1>\n        <p className=\"mb-8 text-sm text-muted-foreground\">\n          Approve or reject pending submissions. Approved pairs appear on the main listing.\n        </p>\n\n        {isLoading ? (\n          <div className=\"space-y-4\">\n            {[1, 2, 3].map((i) => (\n              <div key={i} className=\"h-24 animate-pulse rounded-lg border border-border bg-card\" />\n            ))}\n          </div>\n        ) : submissions.length === 0 ? (\n          <p className=\"text-muted-foreground\">No pending submissions.</p>\n        ) : (\n          <div className=\"space-y-4\">\n            {submissions.map((sub) => (\n              <div\n                key={sub.id}\n                className=\"flex items-center justify-between gap-4 rounded-lg border border-border bg-card p-4\"\n              >\n                <div className=\"flex items-center gap-4\">\n                  <TokenImage\n                    src={sub.image}\n                    alt={sub.name}\n                    symbol={sub.symbol}\n                    className=\"h-12 w-12 rounded-full object-cover\"\n                  />\n                  <div>\n                    <div className=\"flex items-center gap-2\">\n                      {sub.pairLabel && (\n                        <span className=\"rounded border border-border px-1.5 py-0.5 text-[10px] uppercase text-muted-foreground\">\n                          {sub.pairLabel}\n                        </span>\n                      )}\n                      <span className=\"font-semibold\">\n                        {sub.quoteSymbol ? `${sub.symbol} / ${sub.quoteSymbol}` : sub.symbol}\n                      </span>\n                      <span className=\"rounded bg-muted px-1.5 py-0.5 text-xs\">{sub.name}</span>\n                      <span className=\"text-sm text-emerald-400\">↑ {sub.voteCount}</span>\n                    </div>\n                    <div className=\"mt-1 text-xs text-muted-foreground\">\n                      by {sub.submittedBy.slice(0, 10)}... • {new Date(sub.createdAt).toLocaleDateString()}\n                    </div>\n                  </div>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <a\n                    href={sub.dexScreenerUrl}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    className=\"rounded p-2 text-muted-foreground hover:bg-muted hover:text-foreground\"\n                  >\n                    <ExternalLink className=\"h-4 w-4\" />\n                  </a>\n                  <button\n                    type=\"button\"\n                    onClick={() => approveMutation.mutate({ id: sub.id, action: 'approve' })}\n                    disabled={approveMutation.isPending}\n                    className=\"flex items-center gap-1 rounded-md bg-emerald-500/20 px-3 py-1.5 text-sm font-medium text-emerald-400 hover:bg-emerald-500/30 disabled:opacity-50\"\n                  >\n                    <Check className=\"h-4 w-4\" />\n                    Approve\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={() => approveMutation.mutate({ id: sub.id, action: 'reject' })}\n                    disabled={approveMutation.isPending}\n                    className=\"flex items-center gap-1 rounded-md bg-rose-500/20 px-3 py-1.5 text-sm font-medium text-rose-400 hover:bg-rose-500/30 disabled:opacity-50\"\n                  >\n                    <X className=\"h-4 w-4\" />\n                    Reject\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </main>\n    </div>\n  )\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M18 6 6 18', key: '1bl5f8' }],\n  ['path', { d: 'm6 6 12 12', key: 'd8bk6v' }],\n];\n\n/**\n * @component @name X\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTggNiA2IDE4IiAvPgogIDxwYXRoIGQ9Im02IDYgMTIgMTIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/x\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst X = createLucideIcon('x', __iconNode);\n\nexport default X;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'M20 6 9 17l-5-5', key: '1gmf2c' }]];\n\n/**\n * @component @name Check\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgNiA5IDE3bC01LTUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Check = createLucideIcon('check', __iconNode);\n\nexport default Check;\n"],"names":["module","exports","require","vendored","AppRouterContext","ReactServerDOMTurbopackClient"],"mappings":"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","ignoreList":[0,1,3,4]}