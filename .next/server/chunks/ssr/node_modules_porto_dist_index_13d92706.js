module.exports=[50836,a=>{"use strict";let b,c,d,e;a.s([],15405),a.i(15405);var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a$,a_,a0,a1,a2,a3,a4,a5,a6,a7,a8,a9,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA=a.i(27549);let bB=(0,bA.defineChain)({id:31337,name:"Anvil",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["http://127.0.0.1:8545"],webSocket:["ws://127.0.0.1:8545"]}}});a.s([],81365),a.i(81365);let bC=(0,bA.defineChain)({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockTime:250,rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),bD=(0,bA.defineChain)({id:421614,name:"Arbitrum Sepolia",blockTime:250,nativeCurrency:{name:"Arbitrum Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia-rollup.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://sepolia.arbiscan.io",apiUrl:"https://api-sepolia.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:81930}},testnet:!0});var bE=a.i(59190),bF=a.i(16641);let bG=(0,bA.defineChain)({...bF.chainConfig,id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://sepolia.basescan.org",apiUrl:"https://api-sepolia.basescan.org/api"}},contracts:{...bF.chainConfig.contracts,disputeGameFactory:{0xaa36a7:{address:"0xd6E6dBf4F7EA0ac412fD8b65ED297e64BB7a06E1"}},l2OutputOracle:{0xaa36a7:{address:"0x84457ca9D0163FbC4bbfe4Dfbb20ba46e48DF254"}},portal:{0xaa36a7:{address:"0x49f53e41452c74589e85ca1677426ba426459e85",blockCreated:4446677}},l1StandardBridge:{0xaa36a7:{address:"0xfd0Bf71F60660E2f608ed56e1659C450eB113120",blockCreated:4446677}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1059647}},testnet:!0,sourceId:0xaa36a7});({...bG,experimental_preconfirmationTime:200,rpcUrls:{default:{http:["https://sepolia-preconf.base.org"]}}});let bH=(0,bA.defineChain)({id:80094,name:"Berachain",blockTime:2e3,nativeCurrency:{decimals:18,name:"BERA Token",symbol:"BERA"},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0},ensRegistry:{address:"0x5b22280886a2f5e09a49bea7e320eab0e5320e28",blockCreated:877007},ensUniversalResolver:{address:"0x4D41762915F83c76EcaF6776d9b08076aA32b492",blockCreated:9310021}},rpcUrls:{default:{http:["https://rpc.berachain.com"]}},blockExplorers:{default:{name:"Berascan",url:"https://berascan.com"}},ensTlds:[".bera"],testnet:!1}),bI=(0,bA.defineChain)({id:80069,blockTime:2e3,name:"Berachain Bepolia",nativeCurrency:{decimals:18,name:"BERA Token",symbol:"BERA"},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0}},rpcUrls:{default:{http:["https://bepolia.rpc.berachain.com"]}},blockExplorers:{default:{name:"Berascan",url:"https://bepolia.beratrail.io"}},testnet:!0}),bJ=(0,bA.defineChain)({id:56,name:"BNB Smart Chain",blockTime:750,nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0xf2f12c}}});var bK=a.i(12820);async function bL(a,b){return BigInt(await a.request({method:"eth_gasPrice",params:[b]}))}async function bM(a,b){return BigInt(await a.request({method:"eth_maxPriorityFeePerGas",params:[b]}))}var bN=a.i(74116),bO=a.i(90360),bP=a.i(84786),bQ=a.i(37998),bR=a.i(46294);function bS(a){return 0===a||0n===a||null==a||"0"===a||""===a||"string"==typeof a&&("0x"===(0,bR.trim)(a).toLowerCase()||"0x00"===(0,bR.trim)(a).toLowerCase())}function bT(a){return"cip64"===a.type||void 0!==a.maxFeePerGas&&void 0!==a.maxPriorityFeePerGas&&!bS(a.feeCurrency)}let bU={block:(0,bO.defineBlock)({format:a=>({transactions:a.transactions?.map(a=>"string"==typeof a?a:{...(0,bP.formatTransaction)(a),...a.gatewayFee?{gatewayFee:(0,bN.hexToBigInt)(a.gatewayFee),gatewayFeeRecipient:a.gatewayFeeRecipient}:{},feeCurrency:a.feeCurrency})})}),transaction:(0,bP.defineTransaction)({format(a){if("0x7e"===a.type)return{isSystemTx:a.isSystemTx,mint:a.mint?(0,bN.hexToBigInt)(a.mint):void 0,sourceHash:a.sourceHash,type:"deposit"};let b={feeCurrency:a.feeCurrency};return"0x7b"===a.type?b.type="cip64":("0x7c"===a.type&&(b.type="cip42"),b.gatewayFee=a.gatewayFee?(0,bN.hexToBigInt)(a.gatewayFee):null,b.gatewayFeeRecipient=a.gatewayFeeRecipient),b}}),transactionRequest:(0,bQ.defineTransactionRequest)({format(a){let b={};return a.feeCurrency&&(b.feeCurrency=a.feeCurrency),bT(a)&&(b.type="0x7b"),b}})};var bV=a.i(83678),bW=a.i(76705),bX=a.i(85228),bY=a.i(7907),bZ=a.i(62940),b$=a.i(44004),b_=a.i(40302),b0=a.i(29664),b1=a.i(21570),b2=a.i(21045),b3=a.i(77057),b4=a.i(72092);let b5=bV.maxUint256,b6={blockTime:1e3,contracts:bK.contracts,formatters:bU,serializers:{transaction:function(a,b){return bT(a)?function(a,b){!function(a){let{chainId:b,maxPriorityFeePerGas:c,gasPrice:d,maxFeePerGas:e,to:f,feeCurrency:g}=a;if(b<=0)throw new bY.InvalidChainIdError({chainId:b});if(f&&!(0,b_.isAddress)(f))throw new bW.InvalidAddressError({address:f});if(d)throw new bX.BaseError("`gasPrice` is not a valid CIP-64 Transaction attribute.");if(!bS(e)&&e>b5)throw new bZ.FeeCapTooHighError({maxFeePerGas:e});if(!bS(c)&&!bS(e)&&c>e)throw new bZ.TipAboveFeeCapError({maxFeePerGas:e,maxPriorityFeePerGas:c});if(!bS(g)&&!(0,b_.isAddress)(g))throw new bX.BaseError("`feeCurrency` MUST be a token address for CIP-64 transactions.");if(bS(g))throw new bX.BaseError("`feeCurrency` must be provided for CIP-64 transactions.")}(a);let{chainId:c,gas:d,nonce:e,to:f,value:g,maxFeePerGas:h,maxPriorityFeePerGas:i,accessList:j,feeCurrency:k,data:l}=a,m=[(0,b1.toHex)(c),e?(0,b1.toHex)(e):"0x",i?(0,b1.toHex)(i):"0x",h?(0,b1.toHex)(h):"0x",d?(0,b1.toHex)(d):"0x",f??"0x",g?(0,b1.toHex)(g):"0x",l??"0x",(0,b3.serializeAccessList)(j),k,...(0,b4.toYParitySignatureArray)(a,b)];return(0,b0.concatHex)(["0x7b",(0,b2.toRlp)(m)])}(a,b):(0,b$.serializeTransaction)(a,b)}},fees:{estimateFeesPerGas:async a=>{if(!a.request?.feeCurrency)return null;let[b,c]=await Promise.all([bL(a.client,a.request.feeCurrency),bM(a.client,a.request.feeCurrency)]);return{maxFeePerGas:a.multiply(b-c)+c,maxPriorityFeePerGas:c}}}},b7=(0,bA.defineChain)({...b6,id:42220,name:"Celo",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://forno.celo.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://celoscan.io",apiUrl:"https://api.celoscan.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0xc81517}},testnet:!1}),b8=(0,bA.defineChain)({id:100,name:"Gnosis",nativeCurrency:{decimals:18,name:"xDAI",symbol:"XDAI"},blockTime:5e3,rpcUrls:{default:{http:["https://rpc.gnosischain.com"],webSocket:["wss://rpc.gnosischain.com/wss"]}},blockExplorers:{default:{name:"Gnosisscan",url:"https://gnosisscan.io",apiUrl:"https://api.gnosisscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0x140c71b}}}),b9=(0,bA.defineChain)({id:560048,name:"Hoodi",nativeCurrency:{name:"Hoodi Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.hoodi.ethpandaops.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://hoodi.etherscan.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:2589}},testnet:!0}),ca=(0,bA.defineChain)({id:747474,name:"Katana",network:"katana",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.katana.network"]}},blockExplorers:{default:{name:"katana explorer",url:"https://katanascan.com"}},testnet:!1}),cb=(0,bA.defineChain)({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockTime:12e3,rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:0x16041f6},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0xdb04c1}}}),cc=(0,bA.defineChain)({...bF.chainConfig,id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.optimism.io"]}},blockExplorers:{default:{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io/api"}},contracts:{...bF.chainConfig.contracts,disputeGameFactory:{1:{address:"0xe5965Ab5962eDc7477C8520243A95517CD252fA9"}},l2OutputOracle:{1:{address:"0xdfe97868233d1aa22e815a266982f2cf17685a27"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263},portal:{1:{address:"0xbEb5Fc579115071764c7423A4f12eDde41f106Ed"}},l1StandardBridge:{1:{address:"0x99C9fc46f92E8a1c0deC1b1747d010903E884bE1"}}},sourceId:1}),cd=(0,bA.defineChain)({...bF.chainConfig,id:0xaa37dc,name:"OP Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.optimism.io"]}},blockExplorers:{default:{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com",apiUrl:"https://optimism-sepolia.blockscout.com/api"}},contracts:{...bF.chainConfig.contracts,disputeGameFactory:{0xaa36a7:{address:"0x05F9613aDB30026FFd634f38e5C4dFd30a197Fa1"}},l2OutputOracle:{0xaa36a7:{address:"0x90E9c4f8a994a250F6aEfd61CAFb4F2e895D458F"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1620204},portal:{0xaa36a7:{address:"0x16Fc5058F25648194471939df75CF27A2fdC48BC"}},l1StandardBridge:{0xaa36a7:{address:"0xFBb0621E0B23b5478B630BD55a5f21f67730B0F1"}}},testnet:!0,sourceId:0xaa36a7}),ce=(0,bA.defineChain)({id:137,name:"Polygon",blockTime:2e3,nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.etherscan.io/v2/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0x18938b0}}}),cf=(0,bA.defineChain)({id:0xaa36a7,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://11155111.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:8928790}},testnet:!0});a.s(["arbitrum",0,bC,"arbitrumSepolia",0,bD,"base",()=>bE.base,"baseSepolia",0,bG,"berachain",0,bH,"berachainBepolia",0,bI,"bsc",0,bJ,"celo",0,b7,"gnosis",0,b8,"hoodi",0,b9,"katana",0,ca,"mainnet",0,cb,"optimism",0,cc,"optimismSepolia",0,cd,"polygon",0,ce,"sepolia",0,cf],60695);var cg=a.i(60695);let ch=[cg.base,...Object.values(cg).filter(a=>a&&a.id!==cg.base.id)],ci=(0,bA.defineChain)({...bB,id:31338}),cj=(0,bA.defineChain)({...bB,id:31339});function ck(a){return a===bB.id||a===ci.id||a===cj.id}a.s(["all",0,ch,"anvil",0,bB,"anvil2",0,ci,"anvil3",0,cj,"isAnvil",()=>ck],90535),a.i(90535),a.s(["all",0,ch,"anvil",0,bB,"anvil2",0,ci,"anvil3",0,cj,"arbitrum",0,bC,"arbitrumSepolia",0,bD,"base",()=>bE.base,"baseSepolia",0,bG,"berachain",0,bH,"berachainBepolia",0,bI,"bsc",0,bJ,"celo",0,b7,"gnosis",0,b8,"hoodi",0,b9,"isAnvil",()=>ck,"katana",0,ca,"mainnet",0,cb,"optimism",0,cc,"optimismSepolia",0,cd,"polygon",0,ce,"sepolia",0,cf],28100);var cl=a.i(28100),cm=a.i(99465);a.i(61607);var cn=a.i(45544),co=a.i(97978);function cp(a){if(a instanceof Error&&!("code"in a))return new cB({cause:a,data:a,message:a.message,stack:a.stack});let{code:b}=a;return b===cB.code?new cB(a):b===cr.code?new cr(a):b===cA.code?new cA(a):b===cy.code?new cy(a):b===cw.code?new cw(a):b===cz.code?new cz(a):b===cv.code?new cv(a):b===cC.code?new cC(a):b===cs.code?new cs(a):b===ct.code?new ct(a):b===cu.code?new cu(a):b===cx.code?new cx(a):new cB({cause:a instanceof Error?a:void 0,data:a,message:a.message,stack:a instanceof Error?a.stack:void 0})}class cq extends Error{constructor(a){const{cause:b,code:c,message:d,data:e,stack:f}=a;super(d,{cause:b}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.BaseError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stack",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=b,this.code=c,this.data=e,this.stack=f??""}}class cr extends cq{constructor(a={}){super({code:cr.code,data:a.data,message:a.message??"Missing or invalid parameters."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidInputError"})}}Object.defineProperty(cr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class cs extends cq{constructor(a={}){super({code:cs.code,data:a.data,message:a.message??"Requested resource not found."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceNotFoundError"})}}Object.defineProperty(cs,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class ct extends cq{constructor(a={}){super({code:ct.code,data:a.data,message:a.message??"Requested resource not available."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceUnavailableError"})}}Object.defineProperty(ct,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class cu extends cq{constructor(a={}){super({code:cu.code,data:a.data,message:a.message??"Transaction creation failed."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.TransactionRejectedError"})}}Object.defineProperty(cu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class cv extends cq{constructor(a={}){super({code:cv.code,data:a.data,message:a.message??"Method is not implemented."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotSupportedError"})}}Object.defineProperty(cv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class cw extends cq{constructor(a={}){super({code:cw.code,data:a.data,message:a.message??"Rate limit exceeded."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.LimitExceededError"})}}Object.defineProperty(cw,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class cx extends cq{constructor(a={}){super({code:cx.code,data:a.data,message:a.message??"JSON-RPC version not supported."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.VersionNotSupportedError"})}}Object.defineProperty(cx,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class cy extends cq{constructor(a={}){super({code:cy.code,data:a.data,message:a.message??"Input is not a valid JSON-RPC request."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidRequestError"})}}Object.defineProperty(cy,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class cz extends cq{constructor(a={}){super({code:cz.code,data:a.data,message:a.message??"Method does not exist."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotFoundError"})}}Object.defineProperty(cz,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class cA extends cq{constructor(a={}){super({code:cA.code,data:a.data,message:a.message??"Invalid method parameters."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidParamsError"})}}Object.defineProperty(cA,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class cB extends cq{constructor(a={}){super({cause:a.cause,code:cB.code,data:a.data,message:a.message??"Internal JSON-RPC error.",stack:a.stack}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InternalError"})}}Object.defineProperty(cB,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class cC extends cq{constructor(a={}){super({code:cC.code,data:a.data,message:a.message??"Failed to parse JSON-RPC response."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ParseError"})}}Object.defineProperty(cC,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class cD extends Error{constructor(a,b){super(b),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=a,this.details=b}}class cE extends cD{constructor({message:a="The user rejected the request."}={}){super(4001,a),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UserRejectedRequestError"})}}Object.defineProperty(cE,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class cF extends cD{constructor({message:a="The requested method and/or account has not been authorized by the user."}={}){super(4100,a),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnauthorizedError"})}}Object.defineProperty(cF,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class cG extends cD{constructor({message:a="The provider does not support the requested method."}={}){super(4200,a),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnsupportedMethodError"})}}Object.defineProperty(cG,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class cH extends cD{constructor({message:a="The provider is disconnected from all chains."}={}){super(4900,a),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.DisconnectedError"})}}Object.defineProperty(cH,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class cI extends cD{constructor({message:a="The provider is not connected to the requested chain."}={}){super(4901,a),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.ChainDisconnectedError"})}}Object.defineProperty(cI,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class cJ extends cD{constructor({message:a="An error occurred when attempting to switch chain."}={}){super(4902,a),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.SwitchChainError"})}}Object.defineProperty(cJ,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class cK extends cD{constructor({message:a="This Wallet does not support a capability that was not marked as optional."}={}){super(5700,a),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnsupportedNonOptionalCapabilityError"})}}Object.defineProperty(cK,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class cL extends cD{constructor({message:a="This Wallet does not support the requested chain ID."}={}){super(5710,a),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnsupportedChainIdError"})}}Object.defineProperty(cL,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class cM extends cD{constructor({message:a="There is already a bundle submitted with this ID."}={}){super(5720,a),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.DuplicateIdError"})}}Object.defineProperty(cM,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class cN extends cD{constructor({message:a="This bundle id is unknown / has not been submitted."}={}){super(5730,a),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnknownBundleIdError"})}}Object.defineProperty(cN,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class cO extends cD{constructor({message:a="The call bundle is too large for the Wallet to process."}={}){super(5740,a),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.BundleTooLargeError"})}}Object.defineProperty(cO,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class cP extends cD{constructor({message:a="The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."}={}){super(5750,a),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.AtomicReadyWalletRejectedUpgradeError"})}}Object.defineProperty(cP,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class cQ extends cD{constructor({message:a="The wallet does not support atomic execution but the request requires it."}={}){super(5760,a),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.AtomicityNotSupportedError"})}}function cR(a,b={}){if(!a)throw new cT;return{...a,async request(b){try{let c=await a.request(b);if(c&&"object"==typeof c&&"jsonrpc"in c)return function(a,b={}){let{raw:c=!1}=b;if(c)return a;if(a.error)throw cp(a.error);return a.result}(c);return c}catch(a){throw cS(a)}}}}function cS(a){let b=cp(a);if(b instanceof cB){if(!b.data)return b;let{code:a}=b.data;if(a===cH.code)return new cH(b);if(a===cI.code)return new cI(b);if(a===cE.code)return new cE(b);if(a===cF.code)return new cF(b);if(a===cG.code)return new cG(b);if(a===cJ.code)return new cJ(b);if(a===cP.code)return new cP(b);if(a===cQ.code)return new cQ(b);if(a===cO.code)return new cO(b);if(a===cN.code)return new cN(b);if(a===cM.code)return new cM(b);if(a===cL.code)return new cL(b);if(a===cK.code)return new cK(b)}return b}Object.defineProperty(cQ,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class cT extends co.BaseError{constructor(){super("`provider` is undefined."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.IsUndefinedError"})}}var cU=a.i(42125),cV=a.i(70189),cW=a.i(82258),cX=a.i(67580),cY=a.i(52868),cZ=a.i(66323),c$=a.i(62029),c_=a.i(72694),c0=a.i(30557),c1=bX;class c2 extends c1.BaseError{constructor({domain:a}){super(`Invalid domain "${(0,c0.stringify)(a)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class c3 extends c1.BaseError{constructor({primaryType:a,types:b}){super(`Invalid primary type \`${a}\` must be one of \`${JSON.stringify(Object.keys(b))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class c4 extends c1.BaseError{constructor({type:a}){super(`Struct type "${a}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}var c5=a.i(97728);function c6({data:a,primaryType:b,types:c}){let d=function a({data:b,primaryType:c,types:d}){let e=[{type:"bytes32"}],f=[function({primaryType:a,types:b}){let c=(0,b1.toHex)(function({primaryType:a,types:b}){let c="",d=function a({primaryType:b,types:c},d=new Set){let e=b.match(/^\w*/u),f=e?.[0];if(d.has(f)||void 0===c[f])return d;for(let b of(d.add(f),c[f]))a({primaryType:b.type,types:c},d);return d}({primaryType:a,types:b});for(let e of(d.delete(a),[a,...Array.from(d).sort()]))c+=`${e}(${b[e].map(({name:a,type:b})=>`${b} ${a}`).join(",")})`;return c}({primaryType:a,types:b}));return(0,cY.keccak256)(c)}({primaryType:c,types:d})];for(let g of d[c]){let[c,h]=function b({types:c,name:d,type:e,value:f}){if(void 0!==c[e])return[{type:"bytes32"},(0,cY.keccak256)(a({data:f,primaryType:e,types:c}))];if("bytes"===e)return[{type:"bytes32"},(0,cY.keccak256)(f)];if("string"===e)return[{type:"bytes32"},(0,cY.keccak256)((0,b1.toHex)(f))];if(e.lastIndexOf("]")===e.length-1){let a=e.slice(0,e.lastIndexOf("[")),g=f.map(e=>b({name:d,type:a,types:c,value:e}));return[{type:"bytes32"},(0,cY.keccak256)((0,c$.encodeAbiParameters)(g.map(([a])=>a),g.map(([,a])=>a)))]}return[{type:e},f]}({types:d,name:g.name,type:g.type,value:b[g.name]});e.push(c),f.push(h)}return(0,c$.encodeAbiParameters)(e,f)}({data:a,primaryType:b,types:c});return(0,cY.keccak256)(d)}var c7=a.i(12001);function c8(a){let b="string"==typeof a?{address:a}:a,c=b.sign?"privateKey":"porto",{address:d,sign:e,signMessage:f,signTransaction:g,signTypedData:h,type:i}=function(a){if("string"==typeof a){if(!(0,b_.isAddress)(a,{strict:!1}))throw new bW.InvalidAddressError({address:a});return{address:a,type:"json-rpc"}}if(!(0,b_.isAddress)(a.address,{strict:!1}))throw new bW.InvalidAddressError({address:a.address});return{address:a.address,nonceManager:a.nonceManager,sign:a.sign,signAuthorization:a.signAuthorization,signMessage:a.signMessage,signTransaction:a.signTransaction,signTypedData:a.signTypedData,source:"custom",type:"local"}}({address:b.address,sign({hash:a}){if("porto"===c)throw Error("`sign` not supported on porto accounts.");if(!b.sign)throw Error("`sign` not supported.");return b.sign({hash:a})},signMessage({message:a}){let b,c;return this.sign({hash:(0,cY.keccak256)((b="string"==typeof a?(0,b1.stringToHex)(a):"string"==typeof a.raw?a.raw:(0,b1.bytesToHex)(a.raw),c=(0,b1.stringToHex)(`\x19Ethereum Signed Message:
${(0,cZ.size)(b)}`),(0,b0.concat)([c,b])),void 0)})},signTransaction(){throw Error("`signTransaction` not supported on porto accounts.")},signTypedData(a){return this.sign({hash:function(a){let{domain:b={},message:c,primaryType:d}=a,e={EIP712Domain:function({domain:a}){return["string"==typeof a?.name&&{name:"name",type:"string"},a?.version&&{name:"version",type:"string"},("number"==typeof a?.chainId||"bigint"==typeof a?.chainId)&&{name:"chainId",type:"uint256"},a?.verifyingContract&&{name:"verifyingContract",type:"address"},a?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}({domain:b}),...a.types};!function(a){let{domain:b,message:c,primaryType:d,types:e}=a,f=(a,b)=>{for(let c of a){let{name:a,type:d}=c,g=b[a],h=d.match(c5.integerRegex);if(h&&("number"==typeof g||"bigint"==typeof g)){let[a,b,c]=h;(0,b1.numberToHex)(g,{signed:"int"===b,size:Number.parseInt(c,10)/8})}if("address"===d&&"string"==typeof g&&!(0,b_.isAddress)(g))throw new bW.InvalidAddressError({address:g});let i=d.match(c5.bytesRegex);if(i){let[a,b]=i;if(b&&(0,cZ.size)(g)!==Number.parseInt(b,10))throw new c_.BytesSizeMismatchError({expectedSize:Number.parseInt(b,10),givenSize:(0,cZ.size)(g)})}let j=e[d];j&&(function(a){if("address"===a||"bool"===a||"string"===a||a.startsWith("bytes")||a.startsWith("uint")||a.startsWith("int"))throw new c4({type:a})}(d),f(j,g))}};if(e.EIP712Domain&&b){if("object"!=typeof b)throw new c2({domain:b});f(e.EIP712Domain,b)}if("EIP712Domain"!==d)if(e[d])f(e[d],c);else throw new c3({primaryType:d,types:e})}({domain:b,message:c,primaryType:d,types:e});let f=["0x1901"];return b&&f.push(function({domain:a,types:b}){return c6({data:a,primaryType:"EIP712Domain",types:b})}({domain:b,types:e})),"EIP712Domain"!==d&&f.push(c6({data:c,primaryType:d,types:e})),(0,cY.keccak256)((0,b0.concat)(f))}(a)})}});return{address:d,keys:b.keys??void 0,sign:e,signMessage:f,signTransaction:g,signTypedData:h,source:c,type:i}}function c9(a,b={}){let{keys:c}=b;return c8({address:cU.fromPublicKey(cV.getPublicKey({privateKey:a})),keys:c,sign:async({hash:b})=>cW.toHex(cV.sign({payload:b,privateKey:a})),source:"privateKey"})}function da(a,b={}){let{key:c,role:d}=b;if(null!==c){if("object"==typeof c)return c;if(a.keys&&a.keys.length>0)return"number"==typeof c?a.keys[c]:a.keys.find(a=>a.privateKey&&(!d||a.role===d))}}async function db(a,b){let{storage:c,replaySafe:d=!0,wrap:e=!0,webAuthn:f}=b,g=da(a,b),h=d?cX.getSignPayload({domain:{verifyingContract:a.address},message:{digest:b.payload},primaryType:"ERC1271Sign",types:{ERC1271Sign:[{name:"digest",type:"bytes32"}]}}):b.payload,i=g?({hash:a})=>c7.sign(g,{address:null,payload:a,storage:c,webAuthn:f,wrap:e}):"privateKey"===a.source?a.sign:void 0;if(!i)throw Error("cannot find key to sign with.");return await i({hash:h})}a.s(["from",()=>c8,"fromPrivateKey",()=>c9,"getKey",()=>da,"sign",()=>db],46501);let dc={get environment(){if(!b)throw Error("React Native environment is not configured");return b},set environment(env){b=env}};function dd(){return"u">typeof navigator&&"ReactNative"===navigator.product||!!("u">typeof globalThis&&Object.hasOwn(globalThis,"HermesEngine"))}let de={local:"http://localhost:5175/dialog/",prod:"https://id.porto.sh/dialog",stg:"https://stg.id.porto.sh/dialog"};function df(a){return a}function dg(a={}){let{skipProtocolCheck:b,skipUnsupported:c}=a;return dj()}function dh(a={}){return dj()}function di(a={}){if(!dd())return dj();let{requestOptions:b={showTitle:!0}}=a;return{name:"authSession",setup(c){let{host:d,internal:e}=c,{store:f}=e,g=dc.environment;g.maybeCompleteAuthSession?.();let h=!1,i=null;async function j(c){let{request:e}=c,h={account_verifyEmail:"account_verifyEmail",eth_requestAccounts:"eth_requestAccounts",eth_sendTransaction:"eth_sendTransaction",eth_signTypedData_v4:"eth_signTypedData_v4",personal_sign:"personal_sign",wallet_addFunds:"wallet_addFunds",wallet_connect:"wallet_connect",wallet_getAccountVersion:"wallet_getAccountVersion",wallet_getAssets:"wallet_getAssets",wallet_getCallsHistory:"wallet_getCallsHistory",wallet_getCallsStatus:"wallet_getCallsStatus",wallet_getCapabilities:"wallet_getCapabilities",wallet_getKeys:"wallet_getKeys",wallet_getPermissions:"wallet_getPermissions",wallet_grantAdmin:"wallet_grantAdmin",wallet_grantPermissions:"wallet_grantPermissions",wallet_prepareCalls:"wallet_prepareCalls",wallet_prepareUpgradeAccount:"wallet_prepareUpgradeAccount",wallet_revokeAdmin:"wallet_revokeAdmin",wallet_revokePermissions:"wallet_revokePermissions",wallet_sendCalls:"wallet_sendCalls",wallet_sendPreparedCalls:"wallet_sendPreparedCalls",wallet_switchEthereumChain:"wallet_switchEthereumChain",wallet_verifySignature:"wallet_verifySignature"}[e.method];if(!h)throw new cG({message:`Method not supported in Mode.reactNative(): ${e.method}`});let i=g.makeRedirectUri({...a.redirectUri?{scheme:a.redirectUri.scheme}:{},path:a.redirectUri?.path??"/",preferLocalhost:"boolean"==typeof __DEV__&&__DEV__}),j=new URL(d);j.pathname=`${j.pathname.replace(/\/$/,"")}/${h}`;let k=new URLSearchParams({id:String(e.id),jsonrpc:"2.0",method:e.method,redirectUri:i}),l=e.params??[];l.length>0&&k.set("params",cm.stringify(l));let m=e._decoded?.params;m&&k.set("_decoded",cm.stringify(m)),j.search=k.toString();let n=await g.openAuthSessionAsync(j.toString(),i,b);dq(f,(()=>{if("success"===n.type&&n.url){let a=new URL(n.url),b=a.searchParams.get("status")??"unknown",c=a.searchParams.get("message")??void 0,d=a.searchParams.get("payload")??void 0;if("success"===b)try{return{id:e.id,jsonrpc:"2.0",result:d?cm.parse(d):void 0}}catch(a){return{error:{code:-32603,message:a instanceof Error?a.message:"Failed to parse redirect payload"},id:e.id,jsonrpc:"2.0"}}let f="cancel"===b?new cE({message:c??"User rejected request"}):new cD(-32603,c??b??"Request failed");return{error:{code:f.code,message:f.message},id:e.id,jsonrpc:"2.0"}}return"cancel"===n.type||"dismiss"===n.type?{error:{code:cE.code,message:"User rejected request"},id:e.id,jsonrpc:"2.0"}:{error:{code:-32603,message:n.error??"Request failed"},id:e.id,jsonrpc:"2.0"}})()),g.dismissAuthSession?.()}return{close(){g.dismissAuthSession?.()},destroy(){g.dismissAuthSession?.()},open(){},secure:async()=>({frame:!1,host:!0,protocol:!0}),async syncRequests(a){if(h)return;let[b]=a;if(b&&i!==b.request.id){i=b.request.id,h=!0;try{await j(b)}catch(a){dq(f,{error:{code:-32603,message:a instanceof Error?a.message:"Request failed"},id:b.request.id,jsonrpc:"2.0"}),g.dismissAuthSession?.()}finally{i=null,h=!1}}}}},supportsHeadless:!1}}function dj(){return{name:"noop",setup:()=>({close(){},destroy(){},open(){},secure:async()=>({frame:!0,host:!0,protocol:!0}),async syncRequests(){}}),supportsHeadless:!0}}function dk(a){let{element:b}=a;return dj()}function dl(){let a=null,b=null;return{_setup(c,d=!1){d&&(a=null),b=c},getTheme:()=>a,setTheme(c){a=c,b?.send("__internal",{theme:c,type:"set-theme"}).catch(()=>{})}}}function dm(a,b={}){let{methodPolicies:c,targetOrigin:d}=b,e=c?.find(b=>b.method===a.method);return!e||!e.modes?.headless||"object"==typeof e.modes.headless&&!!e.modes.headless.sameOrigin&&d!==window.location.origin}function dn(){let a,b;return{icon:(a=document.querySelector('link[rel="icon"][media="(prefers-color-scheme: dark)"]')?.href,b=document.querySelector('link[rel="icon"][media="(prefers-color-scheme: light)"]')?.href??document.querySelector('link[rel="icon"]')?.href,a&&b&&a!==b?{dark:a,light:b}:window.matchMedia("(prefers-color-scheme: dark)").matches?a:b),title:document.title}}function dp(a){a.setState(a=>({...a,requestQueue:a.requestQueue.map(a=>({account:a.account,error:new cE,request:a.request,status:"error"}))}))}function dq(a,b){a.setState(a=>({...a,requestQueue:a.requestQueue.map(a=>a.request.id!==b.id?a:b.error?{account:a.account,error:b.error,request:a.request,status:"error"}:{account:a.account,request:a.request,result:b.result,status:"success"})}))}function dr(a,b){let{account:c}=b;a.setState(a=>({...a,accounts:[c8({address:c.address,keys:c.capabilities?.admins?.map(a=>c7.from(a))??[]})]}))}function ds(a){let b=new URL(a),c=new URLSearchParams(window.location.search),d="porto.";for(let[a,e]of c.entries())a.startsWith(d)&&b.searchParams.set(a.slice(d.length),e);return b.toString()}a.s(["authSession",()=>di,"createThemeController",()=>dl,"defaultSize",0,{height:282,width:360},"experimental_inline",()=>dk,"from",()=>df,"getDialogUrl",()=>ds,"getReferrer",()=>dn,"handleAccount",()=>dr,"handleBlur",()=>dp,"handleResponse",()=>dq,"hostUrls",0,de,"iframe",()=>dg,"noop",()=>dj,"popup",()=>dh,"requiresConfirmation",()=>dm],99660);var dt=a.i(99660),du=a.i(77259),dv=a.i(16330);let dw=new Map,dx=new Map;async function dy(a,{cacheKey:b,cacheTime:c=1/0}){let d,e,f,g=(e=(d=(a,b)=>({clear:()=>b.delete(a),get:()=>b.get(a),set:c=>b.set(a,c)}))(b,dw),{clear:()=>{e.clear(),f.clear()},promise:e,response:f=d(b,dx)}),h=g.response.get();if(h&&c>0&&Date.now()-h.created.getTime()<c)return h.data;let i=g.promise.get();i||(i=a(),g.promise.set(i));try{let a=await i;return g.response.set({created:new Date,data:a}),a}finally{g.promise.clear()}}a.i(20818);var dz=a.i(95558),dA=a.i(54263);function dB(a,b={}){return dA.from(a,b)}let dC=dB({inputs:[{name:"message",type:"string"}],name:"Error",type:"error"}),dD=dB({inputs:[{name:"reason",type:"uint8"}],name:"Panic",type:"error"});var dE=a.i(19175),dF=co,dG=a.i(25728),dH=a.i(13716),dI=a.i(79411),dJ=a.i(75274),dK=a.i(27672);function dL(a,b){if(dT(a)>b)throw new dY({givenSize:dT(a),maxSize:b})}function dM(a){return a>=48&&a<=57?a-48:a>=65&&a<=70?a-55:a>=97&&a<=102?a-87:void 0}function dN(a,b={}){let{dir:c="left"}=b,d=a,e=0;for(let a=0;a<d.length-1;a++)if("0"===d["left"===c?a:d.length-a-1].toString())e++;else break;return"left"===c?d.slice(e):d.slice(0,d.length-e)}var dO=a.i(71853),dP=a.i(75774);let dQ=new TextDecoder,dR=new TextEncoder;function dS(a,b={}){let{size:c}=b,d=a;c&&(dO.assertSize(a,c),d=dK.padRight(a,c));let e=d.slice(2);e.length%2&&(e=`0${e}`);let f=e.length/2,g=new Uint8Array(f);for(let a=0,b=0;a<f;a++){let c=dM(e.charCodeAt(b++)),d=dM(e.charCodeAt(b++));if(void 0===c||void 0===d)throw new dJ.BaseError(`Invalid byte sequence ("${e[b-2]}${e[b-1]}" in "${e}").`);g[a]=c<<4|d}return g}function dT(a){return a.length}function dU(a,b={}){let{size:c}=b;void 0!==c&&dL(a,c);let d=dK.fromBytes(a,b);return dK.toNumber(d,b)}function dV(a){return dN(a,{dir:"left"})}class dW extends dJ.BaseError{constructor(a){super(`Bytes value \`${a}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}class dX extends dJ.BaseError{constructor(a){super(`Value \`${"object"==typeof a?dP.stringify(a):a}\` of type \`${typeof a}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}class dY extends dJ.BaseError{constructor({givenSize:a,maxSize:b}){super(`Size cannot exceed \`${b}\` bytes. Given size: \`${a}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class dZ extends dJ.BaseError{constructor({offset:a,position:b,size:c}){super(`Slice ${"start"===b?"starting":"ending"} at offset \`${a}\` is out-of-bounds (size: \`${c}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SliceOffsetOutOfBoundsError"})}}class d$ extends dJ.BaseError{constructor({size:a,targetSize:b,type:c}){super(`${c.charAt(0).toUpperCase()}${c.slice(1).toLowerCase()} size (\`${a}\`) exceeds padding size (\`${b}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}class d_ extends Map{constructor(a){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=a}get(a){let b=super.get(a);return super.has(a)&&void 0!==b&&(this.delete(a),super.set(a,b)),b}set(a,b){if(super.set(a,b),this.maxSize&&this.size>this.maxSize){let a=this.keys().next().value;a&&this.delete(a)}return this}}let d0={checksum:new d_(8192)}.checksum;var d1=dJ,d2=a.i(93953);function d3(a,b={}){var c;let{as:d="string"==typeof a?"Hex":"Bytes"}=b,e=(0,d2.keccak_256)(a instanceof Uint8Array?a:"string"==typeof a?dS(a):(c=a)instanceof Uint8Array?c:new Uint8Array(c));return"Bytes"===d?e:dK.fromBytes(e)}var d4=dJ;function d5(a,b={}){let{compressed:c}=b,{prefix:d,x:e,y:f}=a;if(!1===c||"bigint"==typeof e&&"bigint"==typeof f){if(4!==d)throw new d8({prefix:d,cause:new ea});return}if(!0===c||"bigint"==typeof e&&void 0===f){if(3!==d&&2!==d)throw new d8({prefix:d,cause:new d9});return}throw new d7({publicKey:a})}function d6(a){if(132!==a.length&&130!==a.length&&68!==a.length)throw new eb({publicKey:a});if(130===a.length)return{prefix:4,x:BigInt(dK.slice(a,0,32)),y:BigInt(dK.slice(a,32,64))};if(132===a.length){let b=Number(dK.slice(a,0,1));return{prefix:b,x:BigInt(dK.slice(a,1,33)),y:BigInt(dK.slice(a,33,65))}}return{prefix:Number(dK.slice(a,0,1)),x:BigInt(dK.slice(a,1,33))}}class d7 extends d4.BaseError{constructor({publicKey:a}){super(`Value \`${dP.stringify(a)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class d8 extends d4.BaseError{constructor({prefix:a,cause:b}){super(`Prefix "${a}" is invalid.`,{cause:b}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class d9 extends d4.BaseError{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class ea extends d4.BaseError{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}class eb extends d4.BaseError{constructor({publicKey:a}){super(`Value \`${a}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${dK.size(dK.from(a))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}let ec=/^0x[a-fA-F0-9]{40}$/;function ed(a,b={}){let{strict:c=!0}=b;if(!ec.test(a))throw new eg({address:a,cause:new eh});if(c){if(a.toLowerCase()===a)return;if(ee(a)!==a)throw new eg({address:a,cause:new ei})}}function ee(a){if(d0.has(a))return d0.get(a);ed(a,{strict:!1});let b=a.substring(2).toLowerCase(),c=d3(function(a,b={}){let{size:c}=b,d=dR.encode(a);return"number"==typeof c?(dL(d,c),function(a,b={}){let{dir:c,size:d=32}=b;if(0===d)return a;if(a.length>d)throw new d$({size:a.length,targetSize:d,type:"Bytes"});let e=new Uint8Array(d);for(let b=0;b<d;b++){let f="right"===c;e[f?b:d-b-1]=a[f?b:a.length-b-1]}return e}(d,{dir:"right",size:c})):d}(b),{as:"Bytes"}),d=b.split("");for(let a=0;a<40;a+=2)c[a>>1]>>4>=8&&d[a]&&(d[a]=d[a].toUpperCase()),(15&c[a>>1])>=8&&d[a+1]&&(d[a+1]=d[a+1].toUpperCase());let e=`0x${d.join("")}`;return d0.set(a,e),e}function ef(a,b={}){let{strict:c=!0}=b??{};try{return ed(a,{strict:c}),!0}catch{return!1}}class eg extends d1.BaseError{constructor({address:a,cause:b}){super(`Address "${a}" is invalid.`,{cause:b}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class eh extends d1.BaseError{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class ei extends d1.BaseError{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}var ej=dJ;let ek=/^(.*)\[([0-9]*)\]$/,el=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,em=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,en=2n**256n-1n;function eo(a){let b=0;for(let c=0;c<a.length;c++){let{dynamic:d,encoded:e}=a[c];d?b+=32:b+=dK.size(e)}let c=[],d=[],e=0;for(let f=0;f<a.length;f++){let{dynamic:g,encoded:h}=a[f];g?(c.push(dK.fromNumber(b+e,{size:32})),d.push(h),e+=dK.size(h)):c.push(h)}return dK.concat(...c,...d)}function ep(a){let b=a.match(/^(.*)\[(\d+)?\]$/);return b?[b[2]?Number(b[2]):null,b[1]]:void 0}function eq(a){let{type:b}=a;if("string"===b||"bytes"===b||b.endsWith("[]"))return!0;if("tuple"===b)return a.components?.some(eq);let c=ep(a.type);return!!(c&&eq({...a,type:c[1]}))}var er=dJ;let es={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:1/0,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new ew({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(a){if(a<0||a>this.bytes.length-1)throw new ev({length:this.bytes.length,position:a})},decrementPosition(a){if(a<0)throw new eu({offset:a});let b=this.position-a;this.assertPosition(b),this.position=b},getReadCount(a){return this.positionReadCount.get(a||this.position)||0},incrementPosition(a){if(a<0)throw new eu({offset:a});let b=this.position+a;this.assertPosition(b),this.position=b},inspectByte(a){let b=a??this.position;return this.assertPosition(b),this.bytes[b]},inspectBytes(a,b){let c=b??this.position;return this.assertPosition(c+a-1),this.bytes.subarray(c,c+a)},inspectUint8(a){let b=a??this.position;return this.assertPosition(b),this.bytes[b]},inspectUint16(a){let b=a??this.position;return this.assertPosition(b+1),this.dataView.getUint16(b)},inspectUint24(a){let b=a??this.position;return this.assertPosition(b+2),(this.dataView.getUint16(b)<<8)+this.dataView.getUint8(b+2)},inspectUint32(a){let b=a??this.position;return this.assertPosition(b+3),this.dataView.getUint32(b)},pushByte(a){this.assertPosition(this.position),this.bytes[this.position]=a,this.position++},pushBytes(a){this.assertPosition(this.position+a.length-1),this.bytes.set(a,this.position),this.position+=a.length},pushUint8(a){this.assertPosition(this.position),this.bytes[this.position]=a,this.position++},pushUint16(a){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,a),this.position+=2},pushUint24(a){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,a>>8),this.dataView.setUint8(this.position+2,255&a),this.position+=3},pushUint32(a){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,a),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let a=this.inspectByte();return this.position++,a},readBytes(a,b){this.assertReadLimit(),this._touch();let c=this.inspectBytes(a);return this.position+=b??a,c},readUint8(){this.assertReadLimit(),this._touch();let a=this.inspectUint8();return this.position+=1,a},readUint16(){this.assertReadLimit(),this._touch();let a=this.inspectUint16();return this.position+=2,a},readUint24(){this.assertReadLimit(),this._touch();let a=this.inspectUint24();return this.position+=3,a},readUint32(){this.assertReadLimit(),this._touch();let a=this.inspectUint32();return this.position+=4,a},get remaining(){return this.bytes.length-this.position},setPosition(a){let b=this.position;return this.assertPosition(a),this.position=a,()=>this.position=b},_touch(){if(this.recursiveReadLimit===1/0)return;let a=this.getReadCount();this.positionReadCount.set(this.position,a+1),a>0&&this.recursiveReadCount++}};function et(a,{recursiveReadLimit:b=8192}={}){let c=Object.create(es);return c.bytes=a,c.dataView=new DataView(a.buffer,a.byteOffset,a.byteLength),c.positionReadCount=new Map,c.recursiveReadLimit=b,c}class eu extends er.BaseError{constructor({offset:a}){super(`Offset \`${a}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class ev extends er.BaseError{constructor({length:a,position:b}){super(`Position \`${b}\` is out of bounds (\`0 < position < ${a}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class ew extends er.BaseError{constructor({count:a,limit:b}){super(`Recursive read limit of \`${b}\` exceeded (recursive read count: \`${a}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function ex(a,b,c={}){let{as:d="Array",checksumAddress:e=!1}=c,f="string"==typeof b?dS(b):b,g=et(f);if(0===dT(f)&&a.length>0)throw new eC;if(dT(f)&&32>dT(f))throw new eB({data:"string"==typeof b?b:dK.fromBytes(b),parameters:a,size:dT(f)});let h=0,i="Array"===d?[]:{};for(let b=0;b<a.length;++b){let c=a[b];g.setPosition(h);let[f,j]=function a(b,c,d){let{checksumAddress:e,staticPosition:f}=d,g=ep(c.type);if(g){let[d,h]=g;return function(b,c,d){let{checksumAddress:e,length:f,staticPosition:g}=d;if(!f){let d=g+dU(b.readBytes(32)),f=d+32;b.setPosition(d);let h=dU(b.readBytes(32)),i=eq(c),j=0,k=[];for(let d=0;d<h;++d){b.setPosition(f+(i?32*d:j));let[g,h]=a(b,c,{checksumAddress:e,staticPosition:f});j+=h,k.push(g)}return b.setPosition(g+32),[k,32]}if(eq(c)){let d=g+dU(b.readBytes(32)),h=[];for(let g=0;g<f;++g){b.setPosition(d+32*g);let[f]=a(b,c,{checksumAddress:e,staticPosition:d});h.push(f)}return b.setPosition(g+32),[h,32]}let h=0,i=[];for(let d=0;d<f;++d){let[d,f]=a(b,c,{checksumAddress:e,staticPosition:g+h});h+=f,i.push(d)}return[i,h]}(b,{...c,type:h},{checksumAddress:e,length:d,staticPosition:f})}if("tuple"===c.type)return function(b,c,d){let{checksumAddress:e,staticPosition:f}=d,g=0===c.components.length||c.components.some(({name:a})=>!a),h=g?[]:{},i=0;if(eq(c)){let d=f+dU(b.readBytes(32));for(let f=0;f<c.components.length;++f){let j=c.components[f];b.setPosition(d+i);let[k,l]=a(b,j,{checksumAddress:e,staticPosition:d});i+=l,h[g?f:j?.name]=k}return b.setPosition(f+32),[h,32]}for(let d=0;d<c.components.length;++d){let j=c.components[d],[k,l]=a(b,j,{checksumAddress:e,staticPosition:f});h[g?d:j?.name]=k,i+=l}return[h,i]}(b,c,{checksumAddress:e,staticPosition:f});if("address"===c.type)return function(a,b={}){let c,{checksum:d=!1}=b,e=a.readBytes(32);return[(c=dK.fromBytes(function(a,b,c,d={}){let{strict:e}=d;!1;let f=a.slice(-20,void 0);return e&&function(a,b,c){if("number"==typeof c&&dT(a)!==c- -20)throw new dZ({offset:c,position:"end",size:dT(a)})}(f,0,void 0),f}(e,0)),d?ee(c):c),32]}(b,{checksum:e});if("bool"===c.type)return[function(a,b={}){let{size:c}=b,d=a;if(void 0!==c&&(dL(d,c),d=dV(d)),d.length>1||d[0]>1)throw new dW(d);return!!d[0]}(b.readBytes(32),{size:32}),32];if(c.type.startsWith("bytes"))return function(a,b,{staticPosition:c}){let[d,e]=b.type.split("bytes");if(!e){let b=dU(a.readBytes(32));a.setPosition(c+b);let d=dU(a.readBytes(32));if(0===d)return a.setPosition(c+32),["0x",32];let e=a.readBytes(d);return a.setPosition(c+32),[dK.fromBytes(e),32]}return[dK.fromBytes(a.readBytes(Number.parseInt(e,10),32)),32]}(b,c,{staticPosition:f});if(c.type.startsWith("uint")||c.type.startsWith("int")){var h,i;let a,d,e;return h=b,a=(i=c).type.startsWith("int"),d=Number.parseInt(i.type.split("int")[1]||"256",10),e=h.readBytes(32),[d>48?function(a,b={}){let{size:c}=b;void 0!==c&&dL(a,c);let d=dK.fromBytes(a,b);return dK.toBigInt(d,b)}(e,{signed:a}):dU(e,{signed:a}),32]}if("string"===c.type)return function(a,{staticPosition:b}){let c=dU(a.readBytes(32));a.setPosition(b+c);let d=dU(a.readBytes(32));if(0===d)return a.setPosition(b+32),["",32];let e=function(a,b={}){let{size:c}=b,d=a;return void 0!==c&&(dL(d,c),d=dN(d,{dir:"right"})),dQ.decode(d)}(dV(a.readBytes(d,32)));return a.setPosition(b+32),[e,32]}(b,{staticPosition:f});throw new eH(c.type)}(g,c,{checksumAddress:e,staticPosition:0});h+=j,"Array"===d?i.push(f):i[c.name??b]=f}return i}function ey(a,b,c){let{checksumAddress:d=!1}=c??{};if(a.length!==b.length)throw new eF({expectedLength:a.length,givenLength:b.length});let e=eo(function({checksumAddress:a,parameters:b,values:c}){let d=[];for(let e=0;e<b.length;e++)d.push(function a({checksumAddress:b=!1,parameter:c,value:d}){let e=ep(c.type);if(e){let[f,g]=e;return function(b,c){let{checksumAddress:d,length:e,parameter:f}=c,g=null===e;if(!Array.isArray(b))throw new eG(b);if(!g&&b.length!==e)throw new eD({expectedLength:e,givenLength:b.length,type:`${f.type}[${e}]`});let h=!1,i=[];for(let c=0;c<b.length;c++){let e=a({checksumAddress:d,parameter:f,value:b[c]});e.dynamic&&(h=!0),i.push(e)}if(g||h){let a=eo(i);if(g){let b=dK.fromNumber(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?dK.concat(b,a):b}}if(h)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:dK.concat(...i.map(({encoded:a})=>a))}}(d,{checksumAddress:b,length:f,parameter:{...c,type:g}})}if("tuple"===c.type)return function(b,c){let{checksumAddress:d,parameter:e}=c,f=!1,g=[];for(let c=0;c<e.components.length;c++){let h=e.components[c],i=Array.isArray(b)?c:h.name,j=a({checksumAddress:d,parameter:h,value:b[i]});g.push(j),j.dynamic&&(f=!0)}return{dynamic:f,encoded:f?eo(g):dK.concat(...g.map(({encoded:a})=>a))}}(d,{checksumAddress:b,parameter:c});if("address"===c.type)return function(a,b){let{checksum:c=!1}=b;return ed(a,{strict:c}),{dynamic:!1,encoded:dK.padLeft(a.toLowerCase())}}(d,{checksum:b});if("bool"===c.type){var f=d;if("boolean"!=typeof f)throw new dJ.BaseError(`Invalid boolean value: "${f}" (type: ${typeof f}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:dK.padLeft(dK.fromBoolean(f))}}if(c.type.startsWith("uint")||c.type.startsWith("int")){let a=c.type.startsWith("int"),[,,b="256"]=em.exec(c.type)??[];return function(a,{signed:b,size:c}){if("number"==typeof c){let d=2n**(BigInt(c)-(b?1n:0n))-1n,e=b?-d-1n:0n;if(a>d||a<e)throw new dK.IntegerOutOfRangeError({max:d.toString(),min:e.toString(),signed:b,size:c/8,value:a.toString()})}return{dynamic:!1,encoded:dK.fromNumber(a,{size:32,signed:b})}}(d,{signed:a,size:Number(b)})}if(c.type.startsWith("bytes"))return function(a,{type:b}){let[,c]=b.split("bytes"),d=dK.size(a);if(!c){let b=a;return d%32!=0&&(b=dK.padRight(b,32*Math.ceil((a.length-2)/2/32))),{dynamic:!0,encoded:dK.concat(dK.padLeft(dK.fromNumber(d,{size:32})),b)}}if(d!==Number.parseInt(c,10))throw new eE({expectedSize:Number.parseInt(c,10),value:a});return{dynamic:!1,encoded:dK.padRight(a)}}(d,{type:c.type});if("string"===c.type){var g=d;let a=dK.fromString(g),b=Math.ceil(dK.size(a)/32),c=[];for(let d=0;d<b;d++)c.push(dK.padRight(dK.slice(a,32*d,(d+1)*32)));return{dynamic:!0,encoded:dK.concat(dK.padRight(dK.fromNumber(dK.size(a),{size:32})),...c)}}throw new eH(c.type)}({checksumAddress:a,parameter:b[e],value:c[e]}));return d}({checksumAddress:d,parameters:a,values:b}));return 0===e.length?"0x":e}function ez(a,b){if(a.length!==b.length)throw new eF({expectedLength:a.length,givenLength:b.length});let c=[];for(let d=0;d<a.length;d++){let e=a[d],f=b[d];c.push(ez.encode(e,f))}return dK.concat(...c)}function eA(a){return Array.isArray(a)&&"string"==typeof a[0]||"string"==typeof a?dI.parseAbiParameters(a):a}(ez||(ez={})).encode=function a(b,c,d=!1){if("address"===b)return ed(c),dK.padLeft(c.toLowerCase(),32*!!d);if("string"===b)return dK.fromString(c);if("bytes"===b)return c;if("bool"===b)return dK.padLeft(dK.fromBoolean(c),d?32:1);let e=b.match(em);if(e){let[a,b,f="256"]=e,g=Number.parseInt(f,10)/8;return dK.fromNumber(c,{size:d?32:g,signed:"int"===b})}let f=b.match(el);if(f){let[a,b]=f;if(Number.parseInt(b,10)!==(c.length-2)/2)throw new eE({expectedSize:Number.parseInt(b,10),value:c});return dK.padRight(c,32*!!d)}let g=b.match(ek);if(g&&Array.isArray(c)){let[b,d]=g,e=[];for(let b=0;b<c.length;b++)e.push(a(d,c[b],!0));return 0===e.length?"0x":dK.concat(...e)}throw new eH(b)};class eB extends ej.BaseError{constructor({data:a,parameters:b,size:c}){super(`Data size of ${c} bytes is too small for given parameters.`,{metaMessages:[`Params: (${dH.formatAbiParameters(b)})`,`Data:   ${a} (${c} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class eC extends ej.BaseError{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class eD extends ej.BaseError{constructor({expectedLength:a,givenLength:b,type:c}){super(`Array length mismatch for type \`${c}\`. Expected: \`${a}\`. Given: \`${b}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class eE extends ej.BaseError{constructor({expectedSize:a,value:b}){super(`Size of bytes "${b}" (bytes${dK.size(b)}) does not match expected size (bytes${a}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class eF extends ej.BaseError{constructor({expectedLength:a,givenLength:b}){super(`ABI encoding parameters/values length mismatch.
Expected length (parameters): ${a}
Given length (values): ${b}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class eG extends ej.BaseError{constructor(a){super(`Value \`${a}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class eH extends ej.BaseError{constructor(a){super(`Type \`${a}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}var eI=dJ;let eJ="0x6492649264926492649264926492649264926492649264926492649264926492";function eK(a){if(dK.slice(a,-32)!==eJ)throw new eP(a)}function eL(a){return"string"==typeof a?eM(a):a}function eM(a){eK(a);let[b,c,d]=ex(eA("address, bytes, bytes"),a);return{data:c,signature:d,to:b}}function eN(a){let{data:b,signature:c,to:d}=a;return dK.concat(ey(eA("address, bytes, bytes"),[d,b,c]),eJ)}function eO(a){try{return eK(a),!0}catch{return!1}}class eP extends eI.BaseError{constructor(a){super(`Value \`${a}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}a.s(["InvalidWrappedSignatureError",()=>eP,"assert",()=>eK,"from",()=>eL,"magicBytes",0,eJ,"universalSignatureValidatorAbi",0,[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],"universalSignatureValidatorBytecode",0,"0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572","unwrap",()=>eM,"validate",()=>eO,"wrap",()=>eN],15314);var eQ=a.i(15314),eQ=eQ;function eR(a){if(a<=255)return 1;if(a<=65535)return 2;if(a<=0xffffff)return 3;if(a<=0xffffffff)return 4;throw new dJ.BaseError("Length is too large.")}var eS=dJ;function eT(a,b={}){let{recovered:c}=b;if(void 0===a.r||void 0===a.s||c&&void 0===a.yParity)throw new eZ({signature:a});if(a.r<0n||a.r>en)throw new e$({value:a.r});if(a.s<0n||a.s>en)throw new e_({value:a.s});if("number"==typeof a.yParity&&0!==a.yParity&&1!==a.yParity)throw new e0({value:a.yParity})}function eU(a){if(130!==a.length&&132!==a.length)throw new eY({signature:a});let b=BigInt(dK.slice(a,0,32)),c=BigInt(dK.slice(a,32,64)),d=(()=>{let b=Number(`0x${a.slice(130)}`);if(!Number.isNaN(b))try{return eX(b)}catch{throw new e0({value:b})}})();return void 0===d?{r:b,s:c}:{r:b,s:c,yParity:d}}function eV(a){if(void 0!==a.r&&void 0!==a.s)return eW(a)}function eW(a){let b=(()=>{var b,c;let d;if("string"==typeof a)return eU(a);if(a instanceof Uint8Array)return eU(dK.fromBytes(a));return"string"==typeof a.r?(b=a,d=(()=>{let a=b.v?Number(b.v):void 0,c=b.yParity?Number(b.yParity):void 0;if("number"==typeof a&&"number"!=typeof c&&(c=eX(a)),"number"!=typeof c)throw new e0({value:b.yParity});return c})(),{r:BigInt(b.r),s:BigInt(b.s),yParity:d}):a.v?{r:(c=a).r,s:c.s,yParity:eX(c.v)}:{r:a.r,s:a.s,...void 0!==a.yParity?{yParity:a.yParity}:{}}})();return eT(b),b}function eX(a){if(0===a||27===a)return 0;if(1===a||28===a)return 1;if(a>=35)return+(a%2==0);throw new e1({value:a})}class eY extends eS.BaseError{constructor({signature:a}){super(`Value \`${a}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${dK.size(dK.from(a))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class eZ extends eS.BaseError{constructor({signature:a}){super(`Signature \`${dP.stringify(a)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class e$ extends eS.BaseError{constructor({value:a}){super(`Value \`${a}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class e_ extends eS.BaseError{constructor({value:a}){super(`Value \`${a}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class e0 extends eS.BaseError{constructor({value:a}){super(`Value \`${a}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class e1 extends eS.BaseError{constructor({value:a}){super(`Value \`${a}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}var e2=dJ,e3=a.i(54476);e3.secp256k1;let e4="0x8010801080108010801080108010801080108010801080108010801080108010",e5=eA("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function e6(a){if("string"==typeof a){if(dK.slice(a,-32)!==e4)throw new fb(a)}else eT(a.authorization)}function e7(a){return"string"==typeof a?e8(a):a}function e8(a){e6(a);let b=dK.toNumber(dK.slice(a,-64,-32)),c=dK.slice(a,-b-64,-64),d=dK.slice(a,0,-b-64),[e,f,g]=ex(e5,c);return{authorization:function(a,b={}){return"string"==typeof a.chainId?function(a){let{address:b,chainId:c,nonce:d}=a,e=eV(a);return{address:b,chainId:Number(c),nonce:BigInt(d),...e}}(a):{...a,...b.signature}}({address:e.delegation,chainId:Number(e.chainId),nonce:e.nonce,yParity:e.yParity,r:e.r,s:e.s}),signature:d,...g&&"0x"!==g?{data:g,to:f}:{}}}function e9(a){let{data:b,signature:c}=a;e6(a);let d=function(a,b={}){let c=d3(`0x${(function(a,b={}){d5(a);let{prefix:c,x:d,y:e}=a,{includePrefix:f=!0}=b;return dK.concat(f?dK.fromNumber(c,{size:1}):"0x",dK.fromNumber(d,{size:32}),"bigint"==typeof e?dK.fromNumber(e,{size:32}):"0x")})(a).slice(4)}`).substring(26);return function(a,b={}){let{checksum:c=!1}=b;return(ed(a),c)?ee(a):a}(`0x${c}`,b)}(function(a){var b;let c,{payload:d,signature:e}=a,{r:f,s:g,yParity:h}=e;return b=new e3.secp256k1.Signature(BigInt(f),BigInt(g)).addRecoveryBit(h).recoverPublicKey(dK.from(d).substring(2)),d5(c=(()=>{if(dK.validate(b))return d6(b);if(function(a){try{if(!(a instanceof Uint8Array)&&(!a||"object"!=typeof a||!("BYTES_PER_ELEMENT"in a)||1!==a.BYTES_PER_ELEMENT||"Uint8Array"!==a.constructor.name))throw new dX(a);return!0}catch{return!1}}(b)){var a;return a=b,d6(dK.fromBytes(a))}let{prefix:c,x:d,y:e}=b;return"bigint"==typeof d&&"bigint"==typeof e?{prefix:c??4,x:d,y:e}:{prefix:c,x:d}})()),c}({payload:function(a,b={}){let{presign:c}=b;return d3(dK.concat("0x05",function(a,b={}){let{as:c="Hex"}=b;return function(a,b){let{as:c}=b,d=function a(b){var c,d;let e,f,g,h;return Array.isArray(b)?(f=eR(e=(c=b.map(b=>a(b))).reduce((a,b)=>a+b.length,0)),{length:e<=55?1+e:1+f+e,encode(a){for(let{encode:b}of(e<=55?a.pushByte(192+e):(a.pushByte(247+f),1===f?a.pushUint8(e):2===f?a.pushUint16(e):3===f?a.pushUint24(e):a.pushUint32(e)),c))b(a)}}):(h=eR((g="string"==typeof(d=b)?dS(d):d).length),{length:1===g.length&&g[0]<128?1:g.length<=55?1+g.length:1+h+g.length,encode(a){1===g.length&&g[0]<128||(g.length<=55?a.pushByte(128+g.length):(a.pushByte(183+h),1===h?a.pushUint8(g.length):2===h?a.pushUint16(g.length):3===h?a.pushUint24(g.length):a.pushUint32(g.length))),a.pushBytes(g)}})}(a),e=et(new Uint8Array(d.length));return(d.encode(e),"Hex"===c)?dK.fromBytes(e.bytes):e.bytes}(a,{as:c})}(function(a){let{address:b,chainId:c,nonce:d}=a,e=eV(a);return[c?dK.fromNumber(c):"0x",b,d?dK.fromNumber(d):"0x",...e?function(a){let{r:b,s:c,yParity:d}=a;return[d?"0x01":"0x",0n===b?"0x":dK.trimLeft(dK.fromNumber(b)),0n===c?"0x":dK.trimLeft(dK.fromNumber(c))]}(e):[]]}(c?{address:a.address,chainId:a.chainId,nonce:a.nonce}:a))))}(a.authorization,{presign:!0}),signature:eW(a.authorization)})),e=ey(e5,[{...a.authorization,delegation:a.authorization.address,chainId:BigInt(a.authorization.chainId)},a.to??d,b??"0x"]),f=dK.fromNumber(dK.size(e),{size:32});return dK.concat(c,e,f,e4)}function fa(a){try{return e6(a),!0}catch{return!1}}class fb extends e2.BaseError{constructor(a){super(`Value \`${a}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}}a.s(["InvalidWrappedSignatureError",()=>fb,"assert",()=>e6,"from",()=>e7,"magicBytes",0,e4,"suffixParameters",0,e5,"unwrap",()=>e8,"validate",()=>fa,"wrap",()=>e9],25564);var fc=a.i(25564),fc=fc,fd=a.i(15521),fe=a.i(30709),ff=a.i(16155),fg=a.i(26540),fh=a.i(59854),fi=a.i(61848),fj=a.i(48894);async function fk({hash:b,signature:c}){let d=(0,fj.isHex)(b)?b:(0,b1.toHex)(b),{secp256k1:e}=await a.A(35681),f=(()=>{if("object"==typeof c&&"r"in c&&"s"in c){let{r:a,s:b,v:d,yParity:f}=c,g=fl(Number(f??d));return new e.Signature((0,bN.hexToBigInt)(a),(0,bN.hexToBigInt)(b)).addRecoveryBit(g)}let a=(0,fj.isHex)(c)?c:(0,b1.toHex)(c);if(65!==(0,cZ.size)(a))throw Error("invalid signature length");let b=fl((0,bN.hexToNumber)(`0x${a.slice(130)}`));return e.Signature.fromCompact(a.substring(2,130)).addRecoveryBit(b)})().recoverPublicKey(d.substring(2)).toHex(!1);return`0x${f}`}function fl(a){if(0===a||1===a)return a;if(27===a)return 0;if(28===a)return 1;throw Error("Invalid yParityOrV value")}async function fm({hash:a,signature:b}){var c;let d;return c=await fk({hash:a,signature:b}),d=(0,cY.keccak256)(`0x${c.substring(4)}`).substring(26),(0,dv.checksumAddress)(`0x${d}`)}var fn=a.i(66167);async function fo(a){let{authorization:b,signature:c}=a;return fm({hash:function(a){let{chainId:b,nonce:c,to:d}=a,e=a.contractAddress??a.address,f=(0,cY.keccak256)((0,b0.concatHex)(["0x05",(0,b2.toRlp)([b?(0,b1.numberToHex)(b):"0x",e,c?(0,b1.numberToHex)(c):"0x"])]));return"bytes"===d?(0,fn.hexToBytes)(f):f}(b),signature:c??b})}async function fp({address:a,authorization:b,signature:c}){return(0,fi.isAddressEqual)((0,dv.getAddress)(a),await fo({authorization:b,signature:c}))}function fq(a,b,c){let d=a[b.name];if("function"==typeof d)return d;let e=a[c];return"function"==typeof e?e:c=>b(a,c)}var fr=a.i(87216);async function fs(a,{address:b,blockNumber:c,blockTag:d="latest"}){let e=void 0!==c?(0,b1.numberToHex)(c):void 0,f=await a.request({method:"eth_getCode",params:[b,e||d]},{dedupe:!!e});if("0x"!==f)return f}var ft=a.i(66604),fu=a.i(21374),fv=a.i(82271);function fw(a,{abi:b,address:c,args:d,docsPath:e,functionName:f,sender:g}){let h=a instanceof ff.RawContractError?a:a instanceof bX.BaseError?a.walk(a=>"data"in a)||a.walk():{},{code:i,data:j,details:k,message:l,shortMessage:m}=h,n=a instanceof c_.AbiDecodingZeroDataError?new ff.ContractFunctionZeroDataError({functionName:f}):[3,fv.InternalRpcError.code].includes(i)&&(j||k||l||m)||i===fv.InvalidInputRpcError.code&&"execution reverted"===k&&j?new ff.ContractFunctionRevertedError({abi:b,data:"object"==typeof j?j.data:j,functionName:f,message:h instanceof fu.RpcRequestError?k:m??l}):a;return new ff.ContractFunctionExecutionError(n,{abi:b,args:d,contractAddress:c,docsPath:e,functionName:f,sender:g})}async function fx(a,b){let{abi:c,address:d,args:e,functionName:f,...g}=b,h=(0,fh.encodeFunctionData)({abi:c,args:e,functionName:f});try{let{data:b}=await fq(a,fr.call,"call")({...g,data:h,to:d});return(0,ft.decodeFunctionResult)({abi:c,args:e,functionName:f,data:b||"0x"})}catch(a){throw fw(a,{abi:c,address:d,args:e,docsPath:"/docs/contract/readContract",functionName:f})}}async function fy(a,b){let c,{address:d,chain:e=a.chain,hash:f,erc6492VerifierAddress:g=b.universalSignatureVerifierAddress??e?.contracts?.erc6492Verifier?.address,multicallAddress:h=b.multicallAddress??e?.contracts?.multicall3?.address}=b;if(e?.verifyHash)return await e.verifyHash(a,b);let i=(c=b.signature,(0,fj.isHex)(c)?c:"object"==typeof c&&"r"in c&&"s"in c?function({r:a,s:b,to:c="hex",v:d,yParity:e}){let f=(()=>{if(0===e||1===e)return e;if(d&&(27n===d||28n===d||d>=35n))return+(d%2n===0n);throw Error("Invalid `v` or `yParity` value")})(),g=`0x${new e3.secp256k1.Signature((0,bN.hexToBigInt)(a),(0,bN.hexToBigInt)(b)).toCompactHex()}${0===f?"1b":"1c"}`;return"hex"===c?g:(0,fn.hexToBytes)(g)}(c):(0,b1.bytesToHex)(c));try{if(fc.validate(i))return await fz(a,{...b,multicallAddress:h,signature:i});return await fA(a,{...b,verifierAddress:g,signature:i})}catch(a){try{if((0,fi.isAddressEqual)((0,dv.getAddress)(d),await fm({hash:f,signature:i})))return!0}catch{}if(a instanceof fC)return!1;throw a}}async function fz(a,b){let{address:c,blockNumber:d,blockTag:e,hash:f,multicallAddress:g}=b,{authorization:h,data:i,signature:j,to:k}=fc.unwrap(b.signature);if(await fs(a,{address:c,blockNumber:d,blockTag:e})===(0,b0.concatHex)(["0xef0100",h.address]))return await fB(a,{address:c,blockNumber:d,blockTag:e,hash:f,signature:j});let l={address:h.address,chainId:Number(h.chainId),nonce:Number(h.nonce),r:(0,b1.numberToHex)(h.r,{size:32}),s:(0,b1.numberToHex)(h.s,{size:32}),yParity:h.yParity};if(!await fp({address:c,authorization:l}))throw new fC;let m=await fq(a,fx,"readContract")({...g?{address:g}:{code:fe.multicall3Bytecode},authorizationList:[l],abi:fd.multicall3Abi,blockNumber:d,blockTag:"pending",functionName:"aggregate3",args:[[...i?[{allowFailure:!0,target:k??c,callData:i}]:[],{allowFailure:!0,target:c,callData:(0,fh.encodeFunctionData)({abi:fd.erc1271Abi,functionName:"isValidSignature",args:[f,j]})}]]}),n=m[m.length-1]?.returnData;if(n?.startsWith("0x1626ba7e"))return!0;throw new fC}async function fA(a,b){let{address:c,factory:d,factoryData:e,hash:f,signature:g,verifierAddress:h,...i}=b,j=await (async()=>!d&&!e||eQ.validate(g)?g:eQ.wrap({data:e,signature:g,to:d}))(),k=h?{to:h,data:(0,fh.encodeFunctionData)({abi:fd.erc6492SignatureValidatorAbi,functionName:"isValidSig",args:[c,f,j]}),...i}:{data:(0,fg.encodeDeployData)({abi:fd.erc6492SignatureValidatorAbi,args:[c,f,j],bytecode:fe.erc6492SignatureValidatorByteCode}),...i},{data:l}=await fq(a,fr.call,"call")(k).catch(a=>{if(a instanceof ff.CallExecutionError)throw new fC;throw a});if((0,bN.hexToBool)(l??"0x0"))return!0;throw new fC}async function fB(a,b){let{address:c,blockNumber:d,blockTag:e,hash:f,signature:g}=b;if((await fq(a,fx,"readContract")({address:c,abi:fd.erc1271Abi,args:[f,g],blockNumber:d,blockTag:e,functionName:"isValidSignature"}).catch(a=>{if(a instanceof ff.ContractFunctionExecutionError)throw new fC;throw a})).startsWith("0x1626ba7e"))return!0;throw new fC}class fC extends Error{}var fD=a.i(84222),fE=a.i(98112),fF=dJ;function fG(a){let b=!0,c="",d=0,e="",f=!1;for(let g=0;g<a.length;g++){let h=a[g];if(["(",")",","].includes(h)&&(b=!0),"("===h&&d++,")"===h&&d--,b){if(0===d){if(" "===h&&["event","function","error",""].includes(e))e="";else if(e+=h,")"===h){f=!0;break}continue}if(" "===h){","!==a[g-1]&&","!==c&&",("!==c&&(c="",b=!1);continue}e+=h,c+=h}}if(!f)throw new dJ.BaseError("Unable to normalize signature.");return e}function fH(a,b,c){let d,{args:e=[],prepare:f=!0}=c??{},g=dK.validate(b,{strict:!1}),h=a.filter(a=>g?"function"===a.type||"error"===a.type?fI(a)===dK.slice(b,0,4):"event"===a.type&&fJ(a)===b:"name"in a&&a.name===b);if(0===h.length)throw new fL({name:b});if(1===h.length)return{...h[0],...f?{hash:fJ(h[0])}:{}};for(let a of h){if("inputs"in a){if(!e||0===e.length){if(!a.inputs||0===a.inputs.length)return{...a,...f?{hash:fJ(a)}:{}};continue}if(a.inputs&&0!==a.inputs.length&&a.inputs.length===e.length&&e.every((b,c)=>{let d="inputs"in a&&a.inputs[c];return!!d&&function a(b,c){let d=typeof b,e=c.type;switch(e){case"address":return ef(b,{strict:!1});case"bool":return"boolean"===d;case"function":case"string":return"string"===d;default:if("tuple"===e&&"components"in c)return Object.values(c.components).every((c,d)=>a(Object.values(b)[d],c));if(/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(e))return"number"===d||"bigint"===d;if(/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(e))return"string"===d||b instanceof Uint8Array;if(/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(e))return Array.isArray(b)&&b.every(b=>a(b,{...c,type:e.replace(/(\[[0-9]{0,}\])$/,"")}));return!1}}(b,d)})){if(d&&"inputs"in d&&d.inputs){let b=function a(b,c,d){for(let e in b){let f=b[e],g=c[e];if("tuple"===f.type&&"tuple"===g.type&&"components"in f&&"components"in g)return a(f.components,g.components,d[e]);let h=[f.type,g.type];if(h.includes("address")&&h.includes("bytes20")||(h.includes("address")&&h.includes("string")||h.includes("address")&&h.includes("bytes"))&&ef(d[e],{strict:!1}))return h}}(a.inputs,d.inputs,e);if(b)throw new fK({abiItem:a,type:b[0]},{abiItem:d,type:b[1]})}d=a}}}let i=(()=>{if(d)return d;let[a,...b]=h;return{...a,overloads:b}})();if(!i)throw new fL({name:b});return{...i,...f?{hash:fJ(i)}:{}}}function fI(...a){let b=(()=>{if(Array.isArray(a[0])){let[b,c]=a;return fH(b,c)}return a[0]})();return dK.slice(fJ(b),0,4)}function fJ(...a){let b=(()=>{if(Array.isArray(a[0])){let[b,c]=a;return fH(b,c)}return a[0]})();return"string"!=typeof b&&"hash"in b&&b.hash?b.hash:d3(dK.fromString(function(...a){let b=(()=>{if(Array.isArray(a[0])){let[b,c]=a;return fH(b,c)}return a[0]})();return fG("string"==typeof b?b:fD.formatAbiItem(b))}(b)))}class fK extends fF.BaseError{constructor(a,b){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${a.type}\` in \`${fG(fD.formatAbiItem(a.abiItem))}\`, and`,`\`${b.type}\` in \`${fG(fD.formatAbiItem(b.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class fL extends fF.BaseError{constructor({name:a,data:b,type:c="item"}){const d=a?` with name "${a}"`:b?` with data "${b}"`:"";super(`ABI ${c}${d} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}fF.BaseError;var fM=a.i(84929),fN=bX;fN.BaseError;class fO extends fN.BaseError{constructor(){super("Function is not recognized.",{metaMessages:["This could be due to any of the following:","  - The contract does not have the function,","  - The address is not a contract."],name:"FunctionSelectorNotRecognizedError"})}}var fP=a.i(91238),fQ=a.i(74634),fR=co;let fS=()=>fP.templateLiteral(["0x",fP.string()],{message:"Needs string in format ^0x[A-Fa-f0-9]{40}$."}),fT=()=>fP.templateLiteral(["0x",fP.string()],{message:"Needs string in format ^0x[A-Fa-f0-9]+$."}),fU=()=>fP.codec(fT(),fP.number(),{decode:a=>du.toNumber(a),encode:a=>du.fromNumber(a)}),fV=()=>fP.codec(fT(),fP.bigint({message:"Required bigint"}),{decode:a=>du.toBigInt(a),encode:a=>du.fromNumber(a)});function fW(a){return fP.union(a)}class fX extends fR.BaseError{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Schema.ValidationError"})}}function fY(a){let b=`Validation failed with ${a.issues.length} error${1===a.issues.length?"":"s"}:`;for(let c of(b+="\n",a.issues))c&&(b+="\n",b+=function a(b,c=0){var d;let e=0===(d=b.path).length?"":"at `"+d.map((a,b)=>"number"==typeof a?`[${a}]`:"symbol"==typeof a?`[${a.toString()}]`:/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(a)&&b>0?`.${a}`:0===b&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(a)?a:`["${a}"]`).join("")+"`",f=`- ${e?`${e}: `:""}`,g="  ".repeat(c+1),h=f;switch(b.code){case"invalid_type":{let a=b.expected,c=b.input?function(a){let b=a.input;if(void 0===b)return"undefined";if(null===b)return"null";let c=typeof b;return"object"===c?Array.isArray(b)?"array":b instanceof Date?"date":b instanceof Map?"map":b instanceof Set?"set":"object":c}(b):"undefined";h+=`Expected ${a}. ${"Invalid input"!==b.message?b.message:""}`,"undefined"!==c&&(h+=`but received ${c}`);break}case"too_big":{let a=b.maximum,c=b.inclusive??!0;b.exact?h+=`${b.origin} must be exactly ${a}`:h+=`${b.origin} must be ${c?"at most":"less than"} ${a}`;break}case"too_small":{let a=b.minimum,c=b.inclusive??!0;b.exact?h+=`${b.origin} must be exactly ${a}`:h+=`${b.origin} must be ${c?"at least":"greater than"} ${a}`;break}case"invalid_format":switch(b.format){case"regex":case"template_literal":h+=`Must match pattern: ${b.pattern}`;break;case"starts_with":h+=`Must start with "${b.prefix}"`;break;case"ends_with":h+=`Must end with "${b.suffix}"`;break;case"includes":h+=`Must include "${b.includes}"`;break;default:h+=`Invalid ${b.format} format`}break;case"not_multiple_of":h+=`Number must be a multiple of ${b.divisor}`;break;case"unrecognized_keys":{let a=b.keys.map(a=>`"${a}"`).join(", ");h+=`Unrecognized key${b.keys.length>1?"s":""}: ${a}`;break}case"invalid_union":{let d=b.errors&&b.errors.length>0;h+="Invalid union value.",d&&b.errors.forEach(b=>{b.length>0&&b.forEach(b=>{h+="\n",h+=g,h+=a(b,c+1)})});break}case"invalid_key":h+=`Invalid ${b.origin} key`,b.issues&&b.issues.length>0&&b.issues.forEach(b=>{h+="\n",h+=g,h+=a(b,c+1)});break;case"invalid_element":h+=`Invalid ${b.origin} element at key "${b.key}"`,b.issues&&b.issues.length>0&&b.issues.forEach(b=>{h+="\n",h+=g,h+=a(b,c+1)});break;case"invalid_value":{let a=b.values.map(a=>JSON.stringify(a)).join(", ");b.values.length>1?h+=`Expected one of: ${a}`:h+=`Expected ${a}`;break}case"custom":h+=b.message||"Custom validation failed";break;default:h+=b.message||"Validation failed"}return h}(c));return new fX(b)}let fZ=fP.object({selector:fT(),to:fS(),type:fP.literal("call")}),f$=fP.object({limit:fV(),period:fP.union([fP.literal("minute"),fP.literal("hour"),fP.literal("day"),fP.literal("week"),fP.literal("month"),fP.literal("year")]),token:fP.optional(fP.union([fS(),fP.null()])),type:fP.literal("spend")}),f_=fP.union([fZ,f$]),f0=fP.object({expiry:fU(),prehash:fP.optional(fP.boolean()),publicKey:fT(),role:fP.union([fP.literal("admin"),fP.literal("normal")]),type:fP.union([fP.literal("p256"),fP.literal("secp256k1"),fP.literal("webauthnp256")])}),f1=fP.object({...f0.shape,permissions:fP.readonly(fP.array(f_))});(f=aq||(aq={})).AssetDiffAsset=fP.union([fP.object({address:fP.optional(fP.union([fS(),fP.null()])),decimals:fP.optional(fP.union([fP.number(),fP.null()])),direction:fP.union([fP.literal("incoming"),fP.literal("outgoing")]),fiat:fP.optional(fP.object({currency:fP.string(),value:fP.codec(fP.string(),fP.number(),{decode:a=>Number(a),encode:a=>String(a)})})),name:fP.optional(fP.union([fP.string(),fP.null()])),symbol:fP.string(),type:fP.literal("erc20"),value:fV()}),fP.object({address:fP.optional(fP.union([fS(),fP.null()])),direction:fP.union([fP.literal("incoming"),fP.literal("outgoing")]),fiat:fP.optional(fP.object({currency:fP.string(),value:fP.codec(fP.string(),fP.number(),{decode:a=>Number(a),encode:a=>String(a)})})),name:fP.optional(fP.union([fP.string(),fP.null()])),symbol:fP.string(),type:fP.literal("erc721"),uri:fP.string(),value:fV()}),fP.object({address:fP.null(),decimals:fP.optional(fP.union([fP.number(),fP.null()])),direction:fP.union([fP.literal("incoming"),fP.literal("outgoing")]),fiat:fP.optional(fP.object({currency:fP.string(),value:fP.codec(fP.string(),fP.number(),{decode:a=>Number(a),encode:a=>String(a)})})),symbol:fP.string(),type:fP.null(),value:fV()})]),f.Response=fP.record(fT(),fP.readonly(fP.array(fP.readonly(fP.tuple([fS(),fP.readonly(fP.array(f.AssetDiffAsset))]))))),(g=ar||(ar={})).Request=fP.readonly(fP.array(f1)),g.Response=fP.readonly(fP.array(fP.object({...f1.shape,hash:fT()}))),(as||(as={})).Response=fP.record(fT(),fP.object({currency:fP.string(),value:fP.string()})),(at||(at={})).Request=fP.object({feePayer:fP.optional(fS()),feeToken:fP.optional(fS()),nonce:fP.optional(fV())}),(au||(au={})).Request=fP.readonly(fP.array(fP.object({address:fS(),value:fV()}))),(h=av||(av={})).Request=fP.readonly(fP.array(fP.object({hash:fT()}))),h.Response=fP.readonly(fP.array(fP.object({hash:fT()})));let f2=fP.object({eoa:fS(),executionData:fT(),nonce:fT(),signature:fT()}),f3=fP.object({...f2.shape,chainId:fU()});var f4=a.i(29273),f4=f4;let f5=fP.union([fP.object({combinedGas:fV(),encodedFundTransfers:fP.readonly(fP.array(fT())),encodedPreCalls:fP.readonly(fP.array(fT())),eoa:fS(),executionData:fT(),expiry:fV(),funder:fS(),funderSignature:fT(),isMultichain:fP.boolean(),nonce:fV(),payer:fS(),paymentAmount:fV(),paymentMaxAmount:fV(),paymentRecipient:fS(),paymentSignature:fT(),paymentToken:fS(),settler:fS(),settlerContext:fT(),signature:fT(),supportedAccountImplementation:fS()}),fP.object({combinedGas:fV(),encodedFundTransfers:fP.readonly(fP.array(fT())),encodedPreCalls:fP.readonly(fP.array(fT())),eoa:fS(),executionData:fT(),expiry:fV(),funder:fS(),funderSignature:fT(),isMultichain:fP.boolean(),nonce:fV(),payer:fS(),paymentRecipient:fS(),paymentSignature:fT(),paymentToken:fS(),prePaymentAmount:fV(),prePaymentMaxAmount:fV(),settler:fS(),settlerContext:fT(),signature:fT(),supportedAccountImplementation:fS(),totalPaymentAmount:fV(),totalPaymentMaxAmount:fV()})]);fP.object({eoa:fS(),executionData:fT(),nonce:fV()});let f6=f4.object({address:f4.union([fS(),f4.null()]),decimals:f4.optional(f4.number()),deficit:fV(),fiat:f4.optional(f4.object({currency:f4.string(),value:f4.string()})),name:f4.optional(f4.string()),required:fV(),symbol:f4.optional(f4.string())}),f7=f4.object({additionalAuthorization:f4.nullish(f4.object({address:fS(),chainId:fU(),nonce:fU(),r:fT(),s:fT(),yParity:fU()})),assetDeficits:f4.optional(f4.array(f6)),authorizationAddress:f4.optional(f4.union([fS(),f4.null()])),chainId:fU(),ethPrice:fV(),extraPayment:fV(),feeTokenDeficit:fV(),intent:f5,nativeFeeEstimate:f4.object({maxFeePerGas:fV(),maxPriorityFeePerGas:fV()}),orchestrator:fS(),paymentTokenDecimals:f4.number(),txGas:fV()}),f8=f4.object({multiChainRoot:f4.optional(f4.union([fT(),f4.null()])),quotes:f4.readonly(f4.array(f7)).check(f4.minLength(1)),ttl:f4.number()}),f9=f4.object({...f8.shape,hash:fT(),r:fT(),s:fT(),v:f4.optional(fT()),yParity:f4.optional(fT())}),ga=fP.object({address:fS(),decimals:fP.number(),feeToken:fP.optional(fP.boolean()),interop:fP.optional(fP.boolean()),nativeRate:fP.optional(fV()),symbol:fP.string(),uid:fP.string()}),gb=fP.string().check(fQ.regex(/^[A-Z0-9]+$/)),gc=fP.object({address:fS(),chainId:fU(),nonce:fU()}),gd=fP.object({...gc.shape,r:fT(),s:fT(),yParity:fU()}),ge=fP.object({data:fP.optional(fT()),to:fS(),value:fP.optional(fV())});function gf(a){if(Array.isArray(a))return a.map(gf);if("function"==typeof a)return;if("object"!=typeof a||null===a)return a;if(Object.getPrototypeOf(a)!==Object.prototype)try{return structuredClone(a)}catch{return}let b={};for(let[c,d]of Object.entries(a))b[c]=gf(d);return b}function gg(a,b){let c=[],d=new Set;for(let e of a){let a=b(e);d.has(a)||(d.add(a),c.push(e))}return c}function gh(){return"u">typeof globalThis&&"crypto"in globalThis?globalThis.crypto.randomUUID():crypto.randomUUID()}function gi(a,{enabled:b=!0,id:c}){if(!b||!c)return a();if(gi.cache.get(c))return gi.cache.get(c);let d=a().finally(()=>gi.cache.delete(c));return gi.cache.set(c,d),d}async function gj(a,b){try{let c="wallet_getAuthorization",d=await dy(()=>a.request({method:c,params:[dz.encode(aG.Parameters,b)]}),{cacheKey:`${a.uid}.${c}.${b.address}`});return dz.decode(aG.Response,d)}catch(a){throw gF(a),a}}async function gk(a,b={}){let c=b.chainId?[b.chainId]:"all"!==b.chainIds?b.chainIds?b.chainIds:[a.chain.id]:void 0;try{let d="wallet_getCapabilities",e=await dy(()=>a.request({method:d,params:c?[c]:void 0},{retryCount:0}),{cacheKey:`${a.uid}.${d}.${c?.join(",")}`}),f=b.raw?e:dz.decode(aH.Response,e);if(b.chainIds)return f;return Object.values(f)[0]}catch(a){throw gF(a),a}}async function gl(a,b){let{account:c,assetFilter:d,assetTypeFilter:e,chainFilter:f}=b;try{let b=await a.request({method:"wallet_getAssets",params:[dz.encode(aI.Parameters,{account:c,assetFilter:d,assetTypeFilter:e,chainFilter:f})]}),g=dz.decode(aI.Response,b),h=Object.entries(g).reduce((a,[b,c])=>(a[du.toNumber(b)]=c,a),{}),i={};for(let a of Object.values(h))for(let b of a){let a=JSON.stringify(b.metadata);i[a]={...b,balance:b.balance+(i[a]?.balance??0n)}}return{...h,0:Object.values(i)}}catch(a){throw gF(a),a}}async function gm(a,b){let{address:c,chain:d=a.chain,tokenAddress:e,value:f}=b;try{let b=await a.request({method:"wallet_addFaucetFunds",params:[dz.encode(aE.Parameters,{address:c,chainId:d?.id,tokenAddress:e,value:f})]},{retryCount:0});return await new Promise(a=>setTimeout(a,2e3)),b}catch(a){throw gF(a),a}}async function gn(a,b){let{id:c}=b;try{let b=await a.request({method:"wallet_getCallsStatus",params:[c]});return dz.decode(aJ.Response,b)}catch(a){throw gF(a),a}}async function go(a,b){try{let c=await a.request({method:"wallet_getCallsHistory",params:[dz.encode(aK.Parameters,b)]});return dz.decode(aK.Response,c)}catch(a){throw gF(a),a}}async function gp(a,b){let{address:c,chainIds:d}=b;try{let b=await a.request({method:"wallet_getKeys",params:[dz.encode(aL.Parameters,{address:c,chainIds:d})]});return dz.decode(aL.Response,b)}catch(a){throw gF(a),a}}async function gq(a){let b="health",c=await dy(()=>a.request({method:b}),{cacheKey:`${a.uid}.${b}`});return dz.decode(aD.Response,c)}async function gr(a,b){let{address:c,capabilities:d,chain:e=a.chain,key:f}=b,g=b.calls.map(a=>({data:a.abi?dE.encodeData(dE.fromAbi(a.abi,a.functionName),a.args):a.data??"0x",to:a.to,value:a.value??0n}));try{let b=await a.request({method:"wallet_prepareCalls",params:[dz.encode(aM.Parameters,{calls:g,capabilities:{...d,meta:{...d?.meta}},chainId:e?.id,from:c,key:f?{prehash:f.prehash,publicKey:f.publicKey,type:f.type}:void 0})]},{retryCount:0});return Object.assign(dz.decode(aM.Response,b),{_raw:b})}catch(a){throw gF(a),gE(a,{calls:b.calls}),a}}async function gs(a,b){let{address:c,chain:d=a.chain,delegation:e,...f}=b;try{let b=await a.request({method:"wallet_prepareUpgradeAccount",params:[dz.encode(aN.Parameters,gf({address:c,capabilities:f,chainId:d?.id,delegation:e}))]},{retryCount:0});return dz.decode(aN.Response,b)}catch(a){throw gF(a),gE(a),a}}async function gt(a,b){let{capabilities:c,context:d,key:e,signature:f}=b;try{let b=await a.request({method:"wallet_sendPreparedCalls",params:[dz.encode(aP.Parameters,{capabilities:c,context:{preCall:d.preCall,quote:d.quote},key:e?{prehash:e.prehash,publicKey:e.publicKey,type:e.type}:void 0,signature:f})]},{retryCount:0});return dz.decode(aP.Response,b)}catch(a){throw gF(a),gE(a),a}}async function gu(a,b){let{address:c,secret:d}=b;try{let b=await a.request({method:"account_getOnrampContactInfo",params:[dz.encode(aw.Parameters,{address:c,secret:d})]},{retryCount:0});return dz.decode(aw.Response,b)}catch(a){throw gF(a),gE(a),a}}async function gv(a,b){let{address:c}=b;try{let b=await a.request({method:"account_onrampStatus",params:[dz.encode(ax.Parameters,{address:c})]},{retryCount:0});return dz.decode(ax.Response,b)}catch(a){throw gF(a),gE(a),a}}async function gw(a,b){let{phone:c,walletAddress:d}=b;try{let b=await a.request({method:"account_resendVerifyPhone",params:[dz.encode(ay.Parameters,{phone:c,walletAddress:d})]},{retryCount:0});return dz.decode(ay.Response,b)}catch(a){throw gF(a),gE(a),a}}async function gx(a,b){let{email:c,walletAddress:d}=b;try{let b=await a.request({method:"account_setEmail",params:[dz.encode(az.Parameters,{email:c,walletAddress:d})]},{retryCount:0});return dz.decode(az.Response,b)}catch(a){throw gF(a),gE(a),a}}async function gy(a,b){let{phone:c,walletAddress:d}=b;try{let b=await a.request({method:"account_setPhone",params:[dz.encode(aA.Parameters,{phone:c,walletAddress:d})]},{retryCount:0});return dz.decode(aA.Response,b)}catch(a){throw gF(a),gE(a),a}}async function gz(a,b){let{context:c,signatures:d}=b;try{await a.request({method:"wallet_upgradeAccount",params:[dz.encode(aQ.Parameters,{context:c,signatures:d})]},{retryCount:0})}catch(a){throw gF(a),gE(a),a}}async function gA(a,b){let{chainId:c,email:d,signature:e,token:f,walletAddress:g}=b;try{let b=await a.request({method:"account_verifyEmail",params:[dz.encode(aB.Parameters,{chainId:c,email:d,signature:e,token:f,walletAddress:g})]},{retryCount:0});return dz.decode(aB.Response,b)}catch(a){throw gF(a),gE(a),a}}async function gB(a,b){let{code:c,phone:d,walletAddress:e}=b;try{let b=await a.request({method:"account_verifyPhone",params:[dz.encode(aC.Parameters,{code:c,phone:d,walletAddress:e})]},{retryCount:0});return dz.decode(aC.Response,b)}catch(a){throw gF(a),gE(a),a}}async function gC(a,b){let{signature:c}=b,{signature:d,capabilities:{feeSignature:e,...f},...g}=b.response,h=function a(b){if("object"==typeof b&&null!==b){if(Array.isArray(b))return b.map(a);let c={};for(let d of Object.keys(b).sort())c[d]=a(b[d]);return c}return b}({capabilities:f,...g}),i=dG.keccak256(du.fromString(JSON.stringify(h))),j=cV.recoverAddress({payload:i,signature:cW.fromHex(c)}),{quoteSigner:k}=await gq(a);return j===k}async function gD(a,b){let{address:c,chain:d=a.chain,digest:e,signature:f}=b;try{async function g(){let b=await fy(a,{address:c,hash:e,signature:f});return{proof:null,valid:b}}let b=await (async()=>{let b=await a.request({method:"wallet_verifySignature",params:[dz.encode(aR.Parameters,{address:c,chainId:d?.id,digest:e,signature:f})]},{retryCount:0}).catch(g);return b.valid?b:g()})();return dz.decode(aR.Response,b)}catch(a){throw gF(a),a}}function gE(a,{calls:b}={}){if(!(a instanceof bX.BaseError))return;let c=function(a,b){let c=a.walk(a=>"data"in a);if(!c?.data)return a;if(c.data===fI(function(a,b={}){return function(a,b={}){let{prepare:c=!0}=b,d=Array.isArray(a)||"string"==typeof a?fE.parseAbiItem(a):a;return{...d,...c?{hash:fJ(d)}:{}}}(a,b)}("error FnSelectorNotRecognized()")))return new fO;let d=null;for(let a of b.calls)if(a.abi)try{if(!(0,fM.decodeErrorResult)({abi:a.abi,data:c.data}))continue;d=a}catch{}return d?fw(c,{abi:d.abi,address:d.to,args:d.args,functionName:d.functionName}):a}(a,{calls:b??[]}),d=(a=>{try{if("ContractFunctionExecutionError"===a.name){let b="ContractFunctionRevertedError"===a.cause.name?a.cause.data:void 0;if(b)return function(a,b,c){if("Error"===b)return dC;if("Panic"===b)return dD;if(du.validate(b,{strict:!1})){let a=du.slice(b,0,4);if("0x08c379a0"===a)return dC;if("0x4e487b71"===a)return dD}let d=dA.fromAbi(a,b,void 0);if("error"!==d.type)throw new dA.NotFoundError({name:b,type:"error"});return d}([b.abiItem],b.errorName)}let b=a.walk(a=>!(a instanceof Error)&&3===a.code);if(!b)return;let{data:c,message:d}=b;if("0xd0d5039b"===c)return dB("error Unauthorized()");return{inputs:[],name:(d??c).split("(")[0],type:"error"}}catch{return}})(c);if(c!==a||d)throw new gG(Object.assign(c,{abiError:d}))}function gF(a){if("$ZodError"===a.name)throw fY(a)}(i=aw||(aw={})).Parameters=fP.object({address:fS(),secret:fP.string()}),i.Request=fP.object({method:fP.literal("account_getOnrampContactInfo"),params:fP.readonly(fP.tuple([i.Parameters]))}),i.Response=fP.object({email:fP.optional(fP.string()),phone:fP.optional(fP.string()),phoneVerifiedAt:fP.optional(fP.number())}),(j=ax||(ax={})).Parameters=fP.object({address:fS()}),j.Request=fP.object({method:fP.literal("account_onrampStatus"),params:fP.readonly(fP.tuple([j.Parameters]))}),j.Response=fP.object({email:fP.optional(fP.number()),phone:fP.optional(fP.number())}),(k=ay||(ay={})).Parameters=fP.object({phone:fP.string(),walletAddress:fS()}),k.Request=fP.object({method:fP.literal("account_resendVerifyPhone"),params:fP.readonly(fP.tuple([k.Parameters]))}),k.Response=fP.null(),(l=az||(az={})).Parameters=fP.object({email:fP.string().check(fQ.regex(/^.*@.*$/)),walletAddress:fS()}),l.Request=fP.object({method:fP.literal("account_setEmail"),params:fP.readonly(fP.tuple([l.Parameters]))}),l.Response=fP.null(),(m=aA||(aA={})).Parameters=fP.object({phone:fP.string(),walletAddress:fS()}),m.Request=fP.object({method:fP.literal("account_setPhone"),params:fP.readonly(fP.tuple([m.Parameters]))}),m.Response=fP.null(),(n=aB||(aB={})).Parameters=fP.object({chainId:fU(),email:fP.string(),signature:fT(),token:fP.string(),walletAddress:fS()}),n.Request=fP.object({method:fP.literal("account_verifyEmail"),params:fP.readonly(fP.tuple([n.Parameters]))}),n.Response=fP.null(),(o=aC||(aC={})).Parameters=fP.object({code:fP.string(),phone:fP.string(),walletAddress:fS()}),o.Request=fP.object({method:fP.literal("account_verifyPhone"),params:fP.readonly(fP.tuple([o.Parameters]))}),o.Response=fP.null(),(p=aD||(aD={})).Request=fP.object({method:fP.literal("health"),params:fP.undefined()}),p.Response=fP.object({quoteSigner:fS(),status:fP.string(),version:fP.string()}),(q=aE||(aE={})).Parameters=fP.object({address:fS(),chainId:fU(),tokenAddress:fS(),value:fV()}),q.Request=fP.object({method:fP.literal("wallet_addFaucetFunds"),params:fP.readonly(fP.tuple([q.Parameters]))}),q.Response=fP.object({message:fP.optional(fP.string()),transactionHash:fT()}),(r=aF||(aF={})).Parameters=fP.object({chainId:fU(),id:fT()}),r.Request=fP.object({method:fP.literal("wallet_getAccounts"),params:fP.readonly(fP.tuple([r.Parameters]))}),r.Response=fP.readonly(fP.array(fP.object({address:fS(),keys:ar.Response}))),(s=aG||(aG={})).Parameters=fP.object({address:fS()}),s.Request=fP.object({method:fP.literal("wallet_getAuthorization"),params:fP.readonly(fP.tuple([s.Parameters]))}),s.Response=fP.object({authorization:gd,data:fT(),to:fS()}),(t=aH||(aH={})).Request=fP.object({method:fP.literal("wallet_getCapabilities"),params:fP.optional(fP.tuple([fP.readonly(fP.array(fP.number()))]))}),d=fP.object({address:fS(),version:fP.optional(fP.union([fP.string(),fP.null()]))}),t.Response=fP.record(fT(),fP.object({contracts:fP.object({accountImplementation:d,accountProxy:d,legacyAccountImplementations:fP.readonly(fP.array(d)),legacyOrchestrators:fP.readonly(fP.array(fP.union([fP.object({orchestrator:d,simulator:d}),d]))),orchestrator:d,simulator:d}),fees:fP.object({quoteConfig:fP.object({constantRate:fP.optional(fP.union([fP.number(),fP.null()])),gas:fP.optional(fP.object({intentBuffer:fP.optional(fP.number()),txBuffer:fP.optional(fP.number())})),rateTtl:fP.number(),ttl:fP.number()}),recipient:fS(),tokens:fP.readonly(fP.array(ga))})})),u=aI||(aI={}),e=fP.union([fP.literal("native"),fP.literal("erc20"),fP.literal("erc721"),fP.string()]),u.Parameters=fP.object({account:fS(),assetFilter:fP.optional(fP.record(fT(),fP.readonly(fP.array(fP.object({address:fP.union([fS(),fP.literal("native")]),type:e}))))),assetTypeFilter:fP.optional(fP.readonly(fP.array(e))),chainFilter:fP.optional(fP.readonly(fP.array(fU())))}),u.Request=fP.object({method:fP.literal("wallet_getAssets"),params:fP.readonly(fP.tuple([u.Parameters]))}),u.Price=fP.object({currency:fP.string(),value:fP.codec(fP.string(),fP.number(),{decode:a=>Number(a),encode:a=>String(a)})}),u.Response=fP.record(fP.string(),fP.readonly(fP.array(fW([fP.object({address:fS(),balance:fV(),metadata:fP.nullable(fP.object({decimals:fP.number(),fiat:fP.nullish(u.Price),name:fP.string(),symbol:fP.string()})),type:fP.literal("erc20")}),fP.object({address:fP.nullable(fP.literal("native")),balance:fV(),metadata:fP.nullable(fP.object({decimals:fP.number(),fiat:fP.nullish(u.Price),name:fP.optional(fP.string()),symbol:fP.optional(fP.string())})),type:fP.literal("native")})])))),(v=aJ||(aJ={})).Request=fP.object({method:fP.literal("wallet_getCallsStatus"),params:fP.readonly(fP.tuple([fT()]))}),v.Response=fP.object({id:fP.string(),receipts:fP.optional(fP.readonly(fP.array(fP.object({blockHash:fT(),blockNumber:fU(),chainId:fU(),gasUsed:fU(),logs:fP.readonly(fP.array(fP.object({address:fS(),data:fT(),topics:fP.readonly(fP.array(fT()))}))),status:fT(),transactionHash:fT()})))),status:fP.number()}),(w=aK||(aK={})).Parameters=fP.object({address:fS(),index:fP.optional(fP.number()),limit:fP.number(),sort:fP.union([fP.literal("asc"),fP.literal("desc")])}),w.Request=fP.object({method:fP.literal("wallet_getCallsHistory"),params:fP.readonly(fP.tuple([w.Parameters]))}),w.Transaction=fP.object({chainId:fU(),transactionHash:fT()}),w.Capabilities=fP.object({assetDiffs:fP.optional(aq.Response),feeTotals:fP.optional(as.Response),quotes:fP.optional(fP.readonly(fP.array(f7)))}),w.Entry=fP.object({capabilities:w.Capabilities,id:fT(),index:fP.number(),keyHash:fT(),status:fP.number(),timestamp:fP.number(),transactions:fP.readonly(fP.array(w.Transaction))}),w.Response=fP.readonly(fP.array(w.Entry)),(x=aL||(aL={})).Parameters=fP.object({address:fS(),chainIds:fP.optional(fP.readonly(fP.array(fU())))}),x.Request=fP.object({method:fP.literal("wallet_getKeys"),params:fP.readonly(fP.tuple([x.Parameters]))}),x.Response=fP.record(fT(),ar.Response),(y=aM||(aM={})).Capabilities=fP.object({authorizeKeys:fP.optional(ar.Request),meta:at.Request,preCall:fP.optional(fP.boolean()),preCalls:fP.optional(fP.readonly(fP.array(f2))),requiredFunds:fP.optional(au.Request),revokeKeys:fP.optional(av.Request)}),y.ResponseCapabilities=fP.object({assetDiffs:fP.optional(aq.Response),authorizeKeys:fP.nullish(ar.Response),feePayerDigest:fP.optional(fT()),feeSignature:fP.optional(fT()),feeTotals:fP.optional(as.Response),revokeKeys:fP.nullish(av.Response)}),y.Parameters=fP.object({calls:fP.readonly(fP.array(ge)),capabilities:y.Capabilities,chainId:fU(),from:fP.optional(fS()),key:fP.optional(fP.object({prehash:fP.boolean(),publicKey:fT(),type:f0.shape.type}))}),y.Request=fP.object({method:fP.literal("wallet_prepareCalls"),params:fP.readonly(fP.tuple([y.Parameters]))}),y.Response=fP.object({capabilities:y.ResponseCapabilities,context:fP.object({preCall:fP.optional(fP.partial(f3)),quote:fP.optional(fP.partial(f9))}),digest:fT(),key:fP.nullish(fP.object({prehash:fP.boolean(),publicKey:fT(),type:f0.shape.type})),signature:fT(),typedData:fP.object({domain:fP.union([fP.object({chainId:fP.union([fU(),fP.number()]),name:fP.string(),verifyingContract:fS(),version:fP.string()}),fP.object({})]),message:fP.record(fP.string(),fP.unknown()),primaryType:fP.string(),types:fP.record(fP.string(),fP.unknown())})}),(z=aN||(aN={})).Capabilities=fP.object({authorizeKeys:ar.Request}),z.Parameters=fP.object({address:fS(),capabilities:z.Capabilities,chainId:fP.optional(fP.number()),delegation:fS()}),z.Request=fP.object({method:fP.literal("wallet_prepareUpgradeAccount"),params:fP.readonly(fP.tuple([z.Parameters]))}),z.Response=fP.object({capabilities:z.Capabilities,chainId:fU(),context:fP.object({address:fS(),authorization:gc,chainId:fU(),preCall:f2}),digests:fP.object({auth:fT(),exec:fT()}),typedData:fP.object({domain:fP.union([fP.object({chainId:fP.union([fU(),fP.number()]),name:fP.string(),verifyingContract:fS(),version:fP.string()}),fP.object({})]),message:fP.record(fP.string(),fP.unknown()),primaryType:fP.string(),types:fP.record(fP.string(),fP.unknown())})}),(A=aO||(aO={})).Request=fP.object({method:fP.literal("wallet_feeTokens"),params:fP.optional(fP.undefined())}),A.Response=fP.record(fT(),fP.readonly(fP.array(fP.object({address:fS(),decimals:fP.number(),nativeRate:fP.optional(fV()),symbol:fP.string()})))),(B=aP||(aP={})).Parameters=fP.object({capabilities:fP.optional(fP.object({feeSignature:fP.optional(fT())})),context:fP.object({preCall:fP.optional(fP.partial(f3)),quote:fP.optional(fP.partial(f9))}),key:fP.optional(fP.object({prehash:fP.boolean(),publicKey:fT(),type:f0.shape.type})),signature:fT()}),B.Request=fP.object({method:fP.literal("wallet_sendPreparedCalls"),params:fP.readonly(fP.tuple([B.Parameters]))}),B.Response=fP.object({id:fT()}),(C=aQ||(aQ={})).Parameters=fP.object({context:fP.object({address:fS(),authorization:gc,chainId:fU(),preCall:f2}),signatures:fP.object({auth:fT(),exec:fT()})}),C.Request=fP.object({method:fP.literal("wallet_upgradeAccount"),params:fP.readonly(fP.tuple([C.Parameters]))}),C.Response=fP.undefined(),(D=aR||(aR={})).Parameters=fP.object({address:fT(),chainId:fU(),digest:fT(),signature:fT()}),D.Request=fP.object({method:fP.literal("wallet_verifySignature"),params:fP.readonly(fP.tuple([D.Parameters]))}),D.Response=fP.object({proof:fP.nullish(fP.object({account:fS(),initPreCall:fP.nullish(f2),keyHash:fT()})),valid:fP.boolean()}),(gi||(gi={})).cache=new Map;class gG extends dF.BaseError{constructor(a){super("An error occurred while executing calls.",{cause:a,metaMessages:[a.abiError&&"Reason: "+a.abiError.name].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Rpc.ExecutionError"}),Object.defineProperty(this,"abiError",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiError=a.abiError}}var gH=a.i(82827),gI=a.i(41885),gJ=a.i(59536);function gK(a,b={}){let{key:c="fallback",name:d="Fallback",rank:e=!1,shouldThrow:f=gL,retryCount:g,retryDelay:h}=b;return({chain:b,pollingInterval:i=4e3,timeout:j,...k})=>{let l=a,m=()=>{},n=(0,gJ.createTransport)({key:c,name:d,async request({method:a,params:c}){let d,e=async(g=0)=>{let h=l[g]({...k,chain:b,retryCount:0,timeout:j});try{let b=await h.request({method:a,params:c});return m({method:a,params:c,response:b,transport:h,status:"success"}),b}catch(i){if(m({error:i,method:a,params:c,transport:h,status:"error"}),f(i)||g===l.length-1||!(d??=l.slice(g+1).some(c=>{let{include:d,exclude:e}=c({chain:b}).config.methods||{};return d?d.includes(a):!e||!e.includes(a)})))throw i;return e(g+1)}};return e()},retryCount:g,retryDelay:h,type:"fallback"},{onResponse:a=>m=a,transports:l.map(a=>a({chain:b,retryCount:0}))});if(e){let a="object"==typeof e?e:{};!function({chain:a,interval:b=4e3,onTransports:c,ping:d,sampleCount:e=10,timeout:f=1e3,transports:g,weights:h={}}){let{stability:i=.7,latency:j=.3}=h,k=[],l=async()=>{let h=await Promise.all(g.map(async b=>{let c,e,g=b({chain:a,retryCount:0,timeout:f}),h=Date.now();try{await (d?d({transport:g}):g.request({method:"net_listening"})),e=1}catch{e=0}finally{c=Date.now()}return{latency:c-h,success:e}}));k.push(h),k.length>e&&k.shift();let m=Math.max(...k.map(a=>Math.max(...a.map(({latency:a})=>a))));c(g.map((a,b)=>{let c=k.map(a=>a[b].latency),d=c.reduce((a,b)=>a+b,0)/c.length,e=k.map(a=>a[b].success),f=e.reduce((a,b)=>a+b,0)/e.length;return 0===f?[0,b]:[j*(1-d/m)+i*f,b]}).sort((a,b)=>b[0]-a[0]).map(([,a])=>g[a])),await (0,gI.wait)(b),l()};l()}({chain:b,interval:a.interval??i,onTransports:a=>l=a,ping:a.ping,sampleCount:a.sampleCount,timeout:a.timeout,transports:l,weights:a.weights})}return n}}function gL(a){return!!("code"in a&&"number"==typeof a.code&&(a.code===fv.TransactionRejectedRpcError.code||a.code===fv.UserRejectedRequestError.code||bZ.ExecutionRevertedError.nodeMessage.test(a.message)||5e3===a.code))}var gM=a.i(92911);let gN={anvil:{http:"http://localhost:9119"},prod:{http:"https://rpc.porto.sh"},stg:{http:"https://stg-rpc.porto.sh"}};function gO(a){return b=>{let c=a.public(b),d=a.relay(b);return(0,gJ.createTransport)({key:gO.type,name:"Relay Proxy",request:async({method:a,params:b},e)=>{var f;return(f=a).startsWith("wallet_")||f.startsWith("account_")||"health"===f?d.request({method:a,params:b},e):c.request({method:a,params:b},e)},type:gO.type})}}(gO||(gO={})).type="relayProxy",a.s(["relayProxy",()=>gO,"relayUrls",0,gN],91942);let gP=new Map,gQ=fP.object({chainId:fP.optional(fU()),expiry:fU(),hash:fT(),id:fT(),prehash:fP.optional(fP.boolean()),publicKey:fT(),role:fP.union([fP.literal("admin"),fP.literal("session")]),type:fP.union([fP.literal("address"),fP.literal("p256"),fP.literal("secp256k1"),fP.literal("webauthn-p256")])}),gR=fP.readonly(fP.array(fW([fP.object({signature:fP.string(),to:fS()}),fP.object({signature:fP.string()}),fP.object({to:fS()})])).check(fQ.minLength(1))),gS=fP.object({limit:fP.union([fP.templateLiteral([fP.number(),".",fP.number()]),fP.templateLiteral([fP.number()])]).check(fQ.regex(/^\d+(\.\d+)?$/)),symbol:fP.optional(fP.union([fP.literal("native"),gb]))}),gT=fP.object({addresses:fP.readonly(fP.array(fS()))}),gU=fP.readonly(fP.array(fP.object({limit:fV(),period:fP.union([fP.literal("minute"),fP.literal("hour"),fP.literal("day"),fP.literal("week"),fP.literal("month"),fP.literal("year")]),token:fP.optional(fS())}))),gV=fP.object({calls:fP.optional(gR),signatureVerification:fP.optional(gT),spend:fP.optional(gU)}),gW=fP.object({...gQ.shape,feeToken:fP.optional(fP.nullable(gS)),permissions:fP.optional(gV)}),gX=fP.object({address:fS(),chainId:fP.optional(fU()),expiry:fP.number(),id:fT(),key:fP.pick(gQ,{publicKey:!0,type:!0}),permissions:fP.object({calls:gR,signatureVerification:fP.optional(gT),spend:fP.optional(gU)})}),gY=fP.object({address:fP.optional(fS()),chainId:fP.optional(fU()),expiry:fP.number().check(fQ.gte(1)),feeToken:fP.nullable(gS),key:fP.optional(fP.pick(gQ,{publicKey:!0,type:!0})),permissions:fP.object({calls:gR,signatureVerification:fP.optional(gT),spend:fP.optional(gU)})});function gZ(a,b){let{chainId:c,expiry:d,permissions:e,id:f,publicKey:g,type:h}=a,{address:i}=b;return{address:i,chainId:c,expiry:d,id:f,key:{publicKey:g,type:h},permissions:e??{}}}function g$(a){let{chainId:b,expiry:c,key:d}=a;return c7.from({chainId:b,expiry:c,permissions:a.permissions??{},publicKey:d.publicKey,role:"session",type:d.type})}(aS||(aS={})).GetCapabilitiesResponse=fP.object({status:fP.union([fP.literal("supported"),fP.literal("unsupported")])}),(aT||(aT={})).Request=fP.union([fP.boolean(),fP.object({chainId:fP.optional(fU()),label:fP.optional(fP.string())})]),(E=aU||(aU={})).Request=fW([fP.object({chainId:fP.optional(fP.number()),domain:fP.optional(fP.string()),expirationTime:fP.optional(fP.date()),issuedAt:fP.optional(fP.date()),nonce:fP.string(),notBefore:fP.optional(fP.date()),requestId:fP.optional(fP.string()),resources:fP.optional(fP.readonly(fP.array(fP.string()))),scheme:fP.optional(fP.string()),statement:fP.optional(fP.string()),uri:fP.optional(fP.string()),version:fP.optional(fP.literal("1"))}),fP.object({authUrl:fP.union([fP.string(),fP.object({logout:fP.string(),nonce:fP.string(),verify:fP.string()})]),chainId:fP.optional(fU()),domain:fP.optional(fP.string()),expirationTime:fP.optional(fP.date()),issuedAt:fP.optional(fP.date()),notBefore:fP.optional(fP.date()),requestId:fP.optional(fP.string()),resources:fP.optional(fP.readonly(fP.array(fP.string()))),scheme:fP.optional(fP.string()),statement:fP.optional(fP.string()),uri:fP.optional(fP.string()),version:fP.optional(fP.literal("1"))})]),E.Response=fP.object({message:fP.string(),signature:fT(),token:fP.optional(fP.string())}),(F=aV||(aV={})).GetCapabilitiesResponse=fP.object({supported:fP.boolean(),tokens:fP.readonly(fP.array(ga))}),F.Request=fP.union([gb,fS()]),(aW||(aW={})).Request=gY,(aX||(aX={})).GetCapabilitiesResponse=fP.object({supported:fP.boolean()}),(G=aY||(aY={})).GetCapabilitiesResponse=fP.object({supported:fP.boolean()}),G.Request=fP.object({id:fP.optional(fP.union([fT(),fP.null()]))}),G.Response=fP.readonly(fP.array(gX)),(H=aZ||(aZ={})).Request=fP.readonly(fP.array(fP.object({context:fP.unknown(),signature:fT()}))),H.Response=H.Request,(a$||(a$={})).Request=fP.string(),(I=a_||(a_={})).GetCapabilitiesResponse=fP.object({supported:fP.boolean(),tokens:fP.readonly(fP.array(ga))}),I.Request=fP.readonly(fP.array(fW([fP.object({address:fS(),value:fV()}),fP.object({symbol:gb,value:fP.union([fP.templateLiteral([fP.number(),".",fP.number()]),fP.templateLiteral([fP.number()])]).check(fQ.regex(/^\d+(\.\d+)?$/))})])));let g_=fP.object({...fP.pick(gQ,{id:!0,publicKey:!0,type:!0}).shape,credentialId:fP.optional(fP.string()),privateKey:fP.optional(fP.any())});(J=a0||(a0={})).Parameters=fP.object({address:fS(),secret:fP.string()}),J.Request=fP.object({method:fP.literal("account_getOnrampContactInfo"),params:fP.readonly(fP.tuple([J.Parameters]))}),J.Response=fP.object({email:fP.optional(fP.string()),phone:fP.optional(fP.string()),phoneVerifiedAt:fP.optional(fP.number())}),(K=a1||(a1={})).Parameters=fP.object({address:fS()}),K.Request=fP.object({method:fP.literal("account_onrampStatus"),params:fP.readonly(fP.tuple([K.Parameters]))}),K.Response=fP.object({email:fP.optional(fP.number()),phone:fP.optional(fP.number())}),(L=a2||(a2={})).Parameters=fP.object({email:fP.string(),walletAddress:fS()}),L.Request=fP.object({method:fP.literal("account_resendVerifyPhone"),params:fP.readonly(fP.tuple([L.Parameters]))}),L.Response=fP.null(),(M=a3||(a3={})).Parameters=fP.object({email:fP.string(),walletAddress:fS()}),M.Request=fP.object({method:fP.literal("account_setEmail"),params:fP.readonly(fP.tuple([M.Parameters]))}),M.Response=fP.null(),(N=a4||(a4={})).Parameters=fP.object({email:fP.string(),walletAddress:fS()}),N.Request=fP.object({method:fP.literal("account_setPhone"),params:fP.readonly(fP.tuple([N.Parameters]))}),N.Response=fP.null(),(O=a5||(a5={})).Parameters=fP.object({chainId:fU(),email:fP.string(),token:fP.string(),walletAddress:fS()}),O.Request=fP.object({method:fP.literal("account_verifyEmail"),params:fP.readonly(fP.tuple([O.Parameters]))}),O.Response=fP.null(),(P=a6||(a6={})).Parameters=fP.object({code:fP.string(),phone:fP.string(),walletAddress:fS()}),P.Request=fP.object({method:fP.literal("account_verifyPhone"),params:fP.readonly(fP.tuple([P.Parameters]))}),P.Response=fP.null(),(Q=a7||(a7={})).Parameters=fP.object({address:fP.optional(fS()),chainId:fP.optional(fU()),token:fP.optional(fS()),value:fP.optional(fP.string())}),Q.Request=fP.object({method:fP.literal("wallet_addFunds"),params:fP.readonly(fP.tuple([Q.Parameters]))}),Q.Response=fP.object({id:fT()}),(R=a8||(a8={})).Request=fP.object({method:fP.literal("eth_accounts"),params:fP.optional(fP.unknown())}),R.Response=fP.readonly(fP.array(fS())),(S=a9||(a9={})).Request=fP.object({method:fP.literal("eth_chainId"),params:fP.optional(fP.unknown())}),S.Response=fT(),(T=ba||(ba={})).Request=fP.object({method:fP.literal("eth_requestAccounts"),params:fP.optional(fP.unknown())}),T.Response=fP.readonly(fP.array(fS())),(U=bb||(bb={})).Request=fP.object({method:fP.literal("eth_sendTransaction"),params:fP.readonly(fP.tuple([fP.object({capabilities:fP.optional(fP.object({feeToken:fP.optional(aV.Request),merchantUrl:fP.optional(a$.Request),preCalls:fP.optional(aZ.Request)})),chainId:fP.optional(fU()),data:fP.optional(fT()),from:fP.optional(fS()),to:fS(),value:fP.optional(fV())})]))}),U.Response=fT(),(V=bc||(bc={})).Request=fP.object({method:fP.literal("eth_signTypedData_v4"),params:fP.readonly(fP.tuple([fS(),fP.string()]))}),V.Response=fT(),(W=bd||(bd={})).Parameters=fP.object({address:fP.optional(fS()),chainId:fP.optional(fU())}),W.Request=fP.object({method:fP.literal("wallet_getAdmins"),params:fP.optional(fP.readonly(fP.tuple([W.Parameters])))}),W.Key=g_,W.Response=fP.object({address:fS(),chainId:fU(),keys:fP.readonly(fP.array(W.Key))}),(X=be||(be={})).Capabilities=fP.object({feeToken:fP.optional(aV.Request)}),X.Parameters=fP.object({address:fP.optional(fS()),capabilities:fP.optional(X.Capabilities),chainId:fP.optional(fU()),key:fP.pick(gQ,{publicKey:!0,type:!0})}),X.Request=fP.object({method:fP.literal("wallet_grantAdmin"),params:fP.readonly(fP.tuple([X.Parameters]))}),X.Response=fP.object({address:fS(),chainId:fU(),key:bd.Key}),(Y=bf||(bf={})).Parameters=gY,Y.Request=fP.object({method:fP.literal("wallet_grantPermissions"),params:fP.readonly(fP.tuple([Y.Parameters]))}),Y.ResponseCapabilities=fP.object({preCalls:fP.optional(aZ.Response)}),Y.Response=fP.object({...gX.shape,capabilities:fP.optional(fP.any())}),(Z=bg||(bg={})).Parameters=fP.object({address:fP.optional(fS())}),Z.Request=fP.object({method:fP.literal("wallet_getAccountVersion"),params:fP.optional(fP.readonly(fP.tuple([Z.Parameters])))}),Z.Response=fP.object({current:fP.string(),latest:fP.string()}),($=bh||(bh={})).Parameters=fP.object({address:fP.optional(fS()),chainIds:fP.optional(fP.readonly(fP.array(fU())))}),$.Request=fP.object({method:fP.literal("wallet_getPermissions"),params:fP.optional(fP.readonly(fP.tuple([$.Parameters])))}),$.Response=aY.Response,(_=bi||(bi={})).Capabilities=fP.object({feeToken:fP.optional(aV.Request)}),_.Parameters=fP.object({address:fP.optional(fS()),capabilities:fP.optional(_.Capabilities),chainId:fP.optional(fU()),id:fT()}),_.Request=fP.object({method:fP.literal("wallet_revokeAdmin"),params:fP.readonly(fP.tuple([_.Parameters]))}),_.Response=void 0,(aa=bj||(bj={})).Capabilities=fP.object({feeToken:fP.optional(aV.Request)}),aa.Parameters=fP.object({address:fP.optional(fS()),capabilities:fP.optional(aa.Capabilities),id:fT()}),aa.Request=fP.object({method:fP.literal("wallet_revokePermissions"),params:fP.readonly(fP.tuple([aa.Parameters]))}),aa.Response=void 0,(bk||(bk={})).Request=fP.object({method:fP.literal("wallet_switchEthereumChain"),params:fP.readonly(fP.tuple([fP.object({chainId:fT()})]))}),(ab=bl||(bl={})).Parameters=fP.object({context:fP.unknown(),signatures:fP.object({auth:fT(),exec:fT()})}),ab.Request=fP.object({method:fP.literal("wallet_upgradeAccount"),params:fP.readonly(fP.tuple([ab.Parameters]))}),ab.ResponseCapabilities=fP.object({admins:fP.optional(fP.readonly(fP.array(bd.Key))),permissions:fP.optional(aY.Response)}),ab.Response=fP.object({address:fS(),capabilities:fP.optional(ab.ResponseCapabilities)}),(ac=bm||(bm={})).Request=fP.object({method:fP.literal("personal_sign"),params:fP.readonly(fP.tuple([fT(),fS()]))}),ac.Response=fT(),(ad=bn||(bn={})).Request=fP.object({method:fP.literal("porto_ping"),params:fP.optional(fP.undefined())}),ad.Response=fP.literal("pong"),(ae=bo||(bo={})).Capabilities=fP.object({createAccount:fP.optional(aT.Request),email:fP.optional(fP.boolean()),grantAdmins:fP.optional(fP.readonly(fP.array(fP.pick(gQ,{publicKey:!0,type:!0})))),grantPermissions:fP.optional(aW.Request),preCalls:fP.optional(aZ.Request),selectAccount:fP.optional(fP.union([fP.boolean(),fP.object({address:fS(),key:fP.optional(fP.object({credentialId:fP.optional(fP.string()),publicKey:fT()}))})])),signInWithEthereum:fP.optional(aU.Request)}),ae.Parameters=fP.object({capabilities:fP.optional(ae.Capabilities),chainIds:fP.optional(fP.readonly(fP.array(fU())))}),ae.Request=fP.object({method:fP.literal("wallet_connect"),params:fP.optional(fP.readonly(fP.tuple([ae.Parameters])))}),ae.ResponseCapabilities=fP.object({admins:fP.optional(fP.readonly(fP.array(fP.object({...fP.pick(gQ,{id:!0,publicKey:!0,type:!0}).shape,credentialId:fP.optional(fP.string())})))),permissions:fP.optional(aY.Response),preCalls:fP.optional(aZ.Response),signInWithEthereum:fP.optional(aU.Response)}),ae.Response=fP.object({accounts:fP.readonly(fP.array(fP.object({address:fS(),capabilities:fP.optional(ae.ResponseCapabilities)}))),chainIds:fP.readonly(fP.array(fU()))}),(af=bp||(bp={})).Request=fP.object({method:fP.literal("wallet_disconnect"),params:fP.optional(fP.unknown())}),af.Response=void 0,(ag=bq||(bq={})).Parameters=aI.Parameters,ag.Request=aI.Request,ag.Response=aI.Response,(ah=br||(br={})).Request=fP.object({method:fP.literal("wallet_getCallsStatus"),params:fP.tuple([fT()])}),ah.Response=fP.object({atomic:fP.boolean(),chainId:fU(),id:fP.string(),receipts:fP.optional(fP.readonly(fP.array(fP.object({blockHash:fT(),blockNumber:fT(),gasUsed:fT(),logs:fP.readonly(fP.array(fP.object({address:fS(),data:fT(),topics:fP.readonly(fP.array(fT()))}))),status:fT(),transactionHash:fT()})))),status:fP.number(),version:fP.string()}),(ai=bs||(bs={})).Parameters=aK.Parameters,ai.Request=aK.Request,ai.Transaction=aK.Transaction,ai.Capabilities=aK.Capabilities,ai.Entry=aK.Entry,ai.Response=aK.Response,(aj=bt||(bt={})).Request=fP.object({method:fP.literal("wallet_getCapabilities"),params:fP.optional(fP.union([fP.readonly(fP.tuple([fP.union([fT(),fP.undefined()])])),fP.readonly(fP.tuple([fP.union([fT(),fP.undefined()]),fP.readonly(fP.array(fU()))]))]))}),aj.Response=fP.record(fT(),fP.object({atomic:aS.GetCapabilitiesResponse,feeToken:aV.GetCapabilitiesResponse,merchant:aX.GetCapabilitiesResponse,permissions:aY.GetCapabilitiesResponse,requiredFunds:a_.GetCapabilitiesResponse})),(ak=bu||(bu={})).Parameters=fP.object({address:fS(),chainIds:fP.optional(fP.readonly(fP.array(fU())))}),ak.Request=fP.object({method:fP.literal("wallet_getKeys"),params:fP.readonly(fP.tuple([ak.Parameters]))}),ak.Response=fP.readonly(fP.array(gW)),(al=bv||(bv={})).Capabilities=fP.object({feeToken:fP.optional(aV.Request),merchantUrl:fP.optional(a$.Request),permissions:fP.optional(aY.Request),preCalls:fP.optional(aZ.Request),requiredFunds:fP.optional(a_.Request)}),al.Parameters=fP.object({calls:fP.readonly(fP.array(fP.object({data:fP.optional(fT()),to:fS(),value:fP.optional(fV())}))),capabilities:fP.optional(al.Capabilities),chainId:fP.optional(fU()),from:fP.optional(fS()),key:fP.optional(fP.pick(gQ,{prehash:!0,publicKey:!0,type:!0})),version:fP.optional(fP.string())}),al.Request=fP.object({method:fP.literal("wallet_prepareCalls"),params:fP.readonly(fP.tuple([al.Parameters]))}),al.Response=fP.object({capabilities:fP.optional(fP.object({...aM.ResponseCapabilities.shape,quote:fP.optional(f9)})),chainId:fT(),context:fP.object({account:fP.object({address:fS()}),calls:al.Parameters.shape.calls,nonce:fV(),quote:fP.optional(fP.partial(f9))}),digest:fT(),key:fP.pick(gQ,{prehash:!0,publicKey:!0,type:!0}),typedData:fP.object({domain:fP.union([fP.object({chainId:fU(),name:fP.string(),verifyingContract:fS(),version:fP.string()}),fP.object({})]),message:fP.record(fP.string(),fP.unknown()),primaryType:fP.string(),types:fP.record(fP.string(),fP.unknown())})}),(am=bw||(bw={})).Capabilities=fP.object({...bo.Capabilities.shape,label:fP.optional(fP.string())}),am.Parameters=fP.object({address:fS(),capabilities:fP.optional(am.Capabilities),chainId:fP.optional(fU())}),am.Request=fP.object({method:fP.literal("wallet_prepareUpgradeAccount"),params:fP.readonly(fP.tuple([am.Parameters]))}),am.Response=fP.object({context:fP.unknown(),digests:fP.object({auth:fT(),exec:fT()})}),(an=bx||(bx={})).Capabilities=bv.Capabilities,an.Request=fP.object({method:fP.literal("wallet_sendCalls"),params:fP.readonly(fP.tuple([fP.omit(bv.Parameters,{key:!0})]))}),an.Response=fP.object({id:fT()}),(ao=by||(by={})).Parameters=fP.object({capabilities:bv.Response.shape.capabilities,chainId:fT(),context:bv.Response.shape.context,key:bv.Response.shape.key,signature:fT()}),ao.Request=fP.object({method:fP.literal("wallet_sendPreparedCalls"),params:fP.readonly(fP.tuple([ao.Parameters]))}),ao.Response=fP.readonly(fP.array(fP.object({capabilities:fP.optional(fP.record(fP.string(),fP.unknown())),id:fT()}))),(ap=bz||(bz={})).Parameters=fP.object({address:fS(),chainId:fP.optional(fU()),digest:fT(),signature:fT()}),ap.Request=fP.object({method:fP.literal("wallet_verifySignature"),params:fP.readonly(fP.tuple([ap.Parameters]))}),ap.Response=fP.object({address:fS(),chainId:fU(),proof:fP.optional(fP.unknown()),valid:fP.boolean()}),a.s(["account_getOnrampContactInfo",()=>a0,"account_onrampStatus",()=>a1,"account_resendVerifyPhone",()=>a2,"account_setEmail",()=>a3,"account_setPhone",()=>a4,"account_verifyEmail",()=>a5,"account_verifyPhone",()=>a6,"eth_accounts",()=>a8,"eth_chainId",()=>a9,"eth_requestAccounts",()=>ba,"eth_sendTransaction",()=>bb,"eth_signTypedData_v4",()=>bc,"personal_sign",()=>bm,"porto_ping",()=>bn,"wallet_addFunds",()=>a7,"wallet_connect",()=>bo,"wallet_disconnect",()=>bp,"wallet_getAccountVersion",()=>bg,"wallet_getAdmins",()=>bd,"wallet_getAssets",()=>bq,"wallet_getCallsHistory",()=>bs,"wallet_getCallsStatus",()=>br,"wallet_getCapabilities",()=>bt,"wallet_getKeys",()=>bu,"wallet_getPermissions",()=>bh,"wallet_grantAdmin",()=>be,"wallet_grantPermissions",()=>bf,"wallet_prepareCalls",()=>bv,"wallet_prepareUpgradeAccount",()=>bw,"wallet_revokeAdmin",()=>bi,"wallet_revokePermissions",()=>bj,"wallet_sendCalls",()=>bx,"wallet_sendPreparedCalls",()=>by,"wallet_switchEthereumChain",()=>bk,"wallet_upgradeAccount",()=>bl,"wallet_verifySignature",()=>bz],7266);let g0=fP.discriminatedUnion("method",[a5.Request,a7.Request,a8.Request,a9.Request,ba.Request,bb.Request,bc.Request,bg.Request,bd.Request,bh.Request,be.Request,bf.Request,bw.Request,bi.Request,bj.Request,bl.Request,bm.Request,bn.Request,bo.Request,bp.Request,bq.Request,br.Request,bs.Request,bt.Request,bu.Request,bv.Request,bx.Request,by.Request,bk.Request,bz.Request]);function g1(a,b){let c=dz.safeParse(a,b);if(c.error){let a=c.error.issues.at(0);if(a?.code==="invalid_union"&&"No matching discriminator"===a.note)throw new cv;throw new cA(fY(c.error))}return{...b,_decoded:c.data}}async function g2(a){a.persist.hasHydrated()||await new Promise(b=>{a.persist.onFinishHydration(()=>b(!0)),setTimeout(()=>b(!0),100)})}function g3(a){if(a)return a.startsWith("/")?`${window.location.origin}${a}`:a}function g4(a){let b,c,d,e,{config:f,getMode:g,id:h,store:i}=a,{announceProvider:j}=f;function k(a={}){let b=l(),c=a.request??g1(g0,{method:"wallet_getCapabilities",params:a.chainIds?[void 0,a.chainIds]:void 0});return dy(()=>g().actions.getCapabilities({chainIds:a.chainIds,internal:{client:b,config:f,request:c,store:i}}),{cacheKey:`getCapabilities.${h}.${a.chainIds?.join(",")}`})}function l(b){return function(a,b={}){let{config:c,id:d,store:e}=a._internal,{chains:f,relay:g}=c,h=e.getState(),i=b.chainId??h.chainIds[0],j=f.find(a=>a.id===i);if(!j)throw Error(`Could not find a compatible Porto chain on the given chain configuration.

Provided chains: [${f.map(a=>`${a.name} (id: ${a.id})`).join(", ")}]
Needed chain (id): ${i}
Please add this chain (id) to your chain configuration.`);let k=gO({public:c.transports[j.id]??gK(j.rpcUrls.default.http.map(a=>(0,gM.http)(a))),relay:g}),l=[d,cm.stringify(j)].filter(Boolean).join(":");if(gP.has(l))return gP.get(l);let m=(0,gH.createClient)({...b,chain:j,pollingInterval:1e3,transport:k});return gP.set(l,m),m}({_internal:a},{chainId:"string"==typeof b?du.toNumber(b):b})}let m=new Map,n=[],o={get eventNames(){return b.eventNames.bind(b)},get listenerCount(){return b.listenerCount.bind(b)},get listeners(){return b.listeners.bind(b)},addListener:(b=new cn.EventEmitter).addListener.bind(b),emit:b.emit.bind(b),off:b.off.bind(b),on:b.on.bind(b),once:b.once.bind(b),removeAllListeners:b.removeAllListeners.bind(b),removeListener:b.removeListener.bind(b)},p=cR({...o,async request(a){await g2(i);let b=["eth_accounts","eth_chainId","eth_requestAccounts","wallet_getAssets","wallet_getCapabilities","wallet_getKeys","wallet_getPermissions","wallet_getAccountVersion","wallet_connect"].includes(a.method);return gi(async()=>{let b;try{b=g1(g0,a)}catch(b){if(!(b instanceof cv))throw b;if(a.method.startsWith("wallet_"))throw new cG;return l().request(a)}let c=i.getState();switch(b.method){case"account_verifyEmail":{if(0===c.accounts.length)throw new cH;let[a]=b._decoded.params,{chainId:d,email:e,token:h,walletAddress:j}=a,k=l(d);if(d&&d!==k.chain.id)throw new cI;let m=j?c.accounts.find(a=>cU.isEqual(a.address,j)):c.accounts[0];if(!m)throw new cF;return await g().actions.verifyEmail({account:m,chainId:d,email:e,internal:{client:k,config:f,request:b,store:i},token:h,walletAddress:j})}case"wallet_addFunds":{let{address:a,value:d,token:e}=b.params[0]??{},h=a?c.accounts.find(b=>cU.isEqual(b.address,a)):c.accounts[0],j=l(),k=await g().actions.addFunds({address:h?.address,internal:{client:j,config:f,request:b,store:i},token:e,value:d});return o.emit("message",{data:null,type:"assetsChanged"}),k}case"eth_accounts":if(0===c.accounts.length)throw new cH;return c.accounts.map(g7);case"eth_chainId":return du.fromNumber(c.chainIds[0]);case"eth_requestAccounts":{if(c.accounts.length>0&&m.get("eth_requestAccounts"))return c.accounts.map(g7);let a=l(),{accounts:d}=await g().actions.loadAccounts({internal:{client:a,config:f,request:b,store:i}});return i.setState(a=>({...a,accounts:d})),o.emit("connect",{chainId:du.fromNumber(a.chain.id)}),m.set("eth_requestAccounts",!0),setTimeout(()=>m.delete("eth_requestAccounts"),1e3),d.map(g7)}case"eth_sendTransaction":{let[{capabilities:a,chainId:d,data:e="0x",from:h,to:j,value:k}]=b._decoded.params,m=l(d);if(d&&d!==m.chain.id)throw new cI;let n=h?c.accounts.find(a=>cU.isEqual(a.address,h)):c.accounts[0];if(h&&!n)throw new cF;let{id:o}=await g().actions.sendCalls({account:n,asTxHash:!0,calls:[{data:e,to:j,value:k}],chainId:m.chain.id,internal:{client:m,config:f,request:b,store:i},merchantUrl:g3(f.merchantUrl??a?.merchantUrl)});return o}case"eth_signTypedData_v4":{if(0===c.accounts.length)throw new cH;let[a,d]=b._decoded.params,e=c.accounts.find(b=>cU.isEqual(b.address,a));if(!e)throw new cF;let h=l();return await g().actions.signTypedData({account:e,data:d,internal:{client:h,config:f,request:b,store:i}})}case"wallet_grantAdmin":{if(0===c.accounts.length)throw new cH;let[{address:a,capabilities:d,chainId:e,key:h}]=b._decoded.params??[{}],j=a?c.accounts.find(b=>cU.isEqual(b.address,a)):c.accounts[0];if(!j)throw new cF;let k=l(e);if(g5([...j.keys??[]])?.some(a=>a.publicKey?.toLowerCase()===h.publicKey.toLowerCase()))throw new cA({message:"Key already granted as admin."});let{key:m}=await g().actions.grantAdmin({account:j,feeToken:d?.feeToken,internal:{client:k,config:f,request:b,store:i},key:h});i.setState(a=>{let b=a.accounts.findIndex(a=>!j||cU.isEqual(a.address,j.address));return -1===b?a:{...a,accounts:a.accounts.map((a,c)=>c===b?{...a,keys:[...a.keys??[],m]}:a)}});let n=g5([...j.keys??[],m]);return o.emit("message",{data:null,type:"adminsChanged"}),dz.encode(be.Response,{address:j.address,chainId:k.chain.id,key:n.at(-1)})}case"wallet_grantPermissions":{if(0===c.accounts.length)throw new cH;let[{address:a,chainId:d,...e}]=b._decoded.params??[{}],h=a?c.accounts.find(b=>cU.isEqual(b.address,a)):c.accounts[0];if(!h)throw new cF;let j=l(d),{key:k}=await g().actions.grantPermissions({account:h,internal:{client:j,config:f,request:b,store:i},permissions:e});return i.setState(a=>{let b=a.accounts.findIndex(a=>!h||cU.isEqual(a.address,h.address));return -1===b?a:{...a,accounts:a.accounts.map((a,c)=>c===b?{...a,keys:[...a.keys??[],k]}:a)}}),o.emit("message",{data:null,type:"permissionsChanged"}),dz.encode(bf.Response,{...gZ(k,{address:h.address})})}case"wallet_getAdmins":{if(0===c.accounts.length)throw new cH;let[{address:a,chainId:d}]=b._decoded.params??[{}],e=a?c.accounts.find(b=>cU.isEqual(b.address,a)):c.accounts[0];if(!e)throw new cF;let h=l(d),j=g5(await g().actions.getKeys({account:e,internal:{client:h,config:f,request:b,store:i}}));return dz.encode(bd.Response,{address:e.address,chainId:h.chain.id,keys:j})}case"wallet_prepareUpgradeAccount":{let[{address:a,capabilities:c,chainId:d}]=b._decoded.params??[{}],{email:e,label:h,grantPermissions:j}=c??{},k=l(d),{context:m,digests:o}=await g().actions.prepareUpgradeAccount({address:a,email:e,internal:{client:k,config:f,request:b,store:i},label:h,permissions:j});return n.push(m.account),{context:m,digests:o}}case"wallet_getAccountVersion":{if(0===c.accounts.length)throw new cH;let[{address:a}]=b._decoded.params??[{}],d=a?c.accounts.find(b=>cU.isEqual(b.address,a)):c.accounts[0];if(!d)throw new cF;let e=l(),{current:h,latest:j}=await g().actions.getAccountVersion({address:d.address,internal:{client:e,config:f,request:b,store:i}});return{current:h,latest:j}}case"wallet_getKeys":{if(0===c.accounts.length)throw new cH;let[{address:a,chainIds:d}]=b._decoded.params??[{}],e=c.accounts.find(b=>cU.isEqual(b.address,a));if(!e)throw new cF;let h=l(),j=await g().actions.getKeys({account:e,chainIds:d,internal:{client:h,config:f,request:b,store:i}});return dz.encode(bu.Response,j)}case"wallet_getPermissions":{if(0===c.accounts.length)throw new cH;let[{address:a,chainIds:d}]=b._decoded.params??[{}],e=a?c.accounts.find(b=>cU.isEqual(b.address,a)):c.accounts[0];if(!e)throw new cF;let h=l();return g6(await g().actions.getKeys({account:e,chainIds:d,internal:{client:h,config:f,request:b,store:i}}),{address:e.address})}case"wallet_revokeAdmin":{if(0===c.accounts.length)throw new cH;let[{address:a,capabilities:d,id:e}]=b._decoded.params,h=a?c.accounts.find(b=>cU.isEqual(b.address,a)):c.accounts[0];if(!h)throw new cF;let j=l();await g().actions.revokeAdmin({account:h,feeToken:d?.feeToken,id:e,internal:{client:j,config:f,request:b,store:i}});let k=h.keys?.filter(a=>a.id.toLowerCase()!==e.toLowerCase());i.setState(a=>({...a,accounts:a.accounts.map(a=>cU.isEqual(a.address,h.address)?{...a,keys:k}:a)})),o.emit("message",{data:null,type:"adminsChanged"});return}case"wallet_revokePermissions":{if(0===c.accounts.length)throw new cH;let[{address:a,capabilities:d,id:e}]=b._decoded.params,h=a?c.accounts.find(b=>cU.isEqual(b.address,a)):c.accounts[0];if(!h)throw new cF;let j=l();await g().actions.revokePermissions({account:h,feeToken:d?.feeToken,id:e,internal:{client:j,config:f,request:b,store:i}});let k=h.keys?.filter(a=>a.id.toLowerCase()!==e.toLowerCase());i.setState(a=>({...a,accounts:a.accounts.map(a=>cU.isEqual(a.address,h.address)?{...a,keys:k}:a)})),o.emit("message",{data:null,type:"permissionsChanged"});return}case"wallet_upgradeAccount":{let[{context:a,signatures:c}]=b._decoded.params??[{}],d=l(),e=n.find(b=>cU.isEqual(b.address,a.account.address));if(!e)throw new cF;let{account:h}=await g().actions.upgradeAccount({account:e,context:a,internal:{client:d,config:f,request:b,store:i},signatures:c}),j=g5(h.keys??[]),k=g6(h.keys??[],{address:h.address});return i.setState(a=>({...a,accounts:[h]})),o.emit("connect",{chainId:du.fromNumber(d.chain.id)}),{address:h.address,capabilities:{admins:j,...k.length>0?{permissions:k}:{}}}}case"porto_ping":return"pong";case"personal_sign":{if(0===c.accounts.length)throw new cH;let[a,d]=b._decoded.params,e=c.accounts.find(a=>cU.isEqual(a.address,d));if(!e)throw new cF;let h=l();return await g().actions.signPersonalMessage({account:e,data:a,internal:{client:h,config:f,request:b,store:i}})}case"wallet_connect":{let[{capabilities:a,chainIds:d}]=b._decoded.params??[{}],e=l(d?.[0]),h=e.chain.id,{createAccount:j,email:k,grantAdmins:m,grantPermissions:n,selectAccount:p,signInWithEthereum:q}=a??{},r={client:e,config:f,request:b,store:i},{accounts:s}=await (async()=>{if(k||j){let{label:a}="object"==typeof j?j:{},{account:b}=await g().actions.createAccount({admins:m,email:k,internal:r,label:a,permissions:n,signInWithEthereum:q});return{accounts:[b]}}let a=c.accounts[0],{address:b,key:d}=(()=>{if(p)return"object"==typeof p?p:{address:void 0,key:void 0};for(let b of a?.keys??[])if("webauthn-p256"===b.type&&"admin"===b.role)return{address:a?.address,key:{credentialId:b.credentialId??b.privateKey?.credential?.id,publicKey:b.publicKey}};return{address:void 0,key:void 0}})(),e={internal:r,permissions:n,signInWithEthereum:q};try{return await g().actions.loadAccounts({address:b,key:d,...e})}catch(a){if(a instanceof cE)throw a;if(b&&d)return await g().actions.loadAccounts(e);throw a}})();i.setState(a=>({...a,accounts:s}));let t=[h,...i.getState().chainIds.filter(a=>a!==h)];return o.emit("connect",{chainId:du.fromNumber(t[0])}),{accounts:s.map(a=>({address:g7(a),capabilities:{admins:a.keys?g5(a.keys):[],permissions:a.keys?g6(a.keys,{address:a.address}):[],...a.signInWithEthereum&&{signInWithEthereum:a.signInWithEthereum}}})),chainIds:t.map(a=>du.fromNumber(a))}}case"wallet_disconnect":{let a=l();await g().actions.disconnect?.({internal:{client:a,config:f,request:b,store:i}}),i.setState(a=>({...a,accounts:[]})),o.emit("disconnect",new cH);return}case"wallet_getAssets":{let[a]=b._decoded.params??[],{account:c,chainFilter:d,assetFilter:e,assetTypeFilter:h}=a,j=l(),k=Object.entries(await g().actions.getAssets({account:c,assetFilter:e,assetTypeFilter:h,chainFilter:d,internal:{client:j,config:f,request:b,store:i}})).reduce((a,[b,c])=>(a[du.fromNumber(Number(b))]=c,a),{});return dz.encode(bq.Response,k)}case"wallet_getCallsStatus":{let[a]=b._decoded.params??[],c=l();return await g().actions.getCallsStatus({id:a,internal:{client:c,config:f,request:b,store:i}})}case"wallet_getCallsHistory":{let[a]=b._decoded.params??[],c=l(),d=await g().actions.getCallsHistory({...a,internal:{client:c,config:f,request:b,store:i}});return dz.encode(bs.Response,d)}case"wallet_getCapabilities":{let[a,c]=b.params??[];return await k({chainIds:c,request:b})}case"wallet_prepareCalls":{let[a]=b._decoded.params,{calls:d,capabilities:e,chainId:h,key:j,from:k}=a,m=l(h),n=k??c.accounts[0];if(!n)throw new cF;if(h&&h!==m.chain.id)throw new cI;let{digest:o,...p}=await g().actions.prepareCalls({account:c8(n),calls:d,feeToken:e?.feeToken,internal:{client:m,config:f,request:b,store:i},key:j,merchantUrl:g3(f.merchantUrl??e?.merchantUrl),requiredFunds:e?.requiredFunds});return dz.encode(bv.Response,{capabilities:p.capabilities,chainId:du.fromNumber(p.chainId??m.chain.id),context:{...p.context,account:{address:p.account.address},calls:p.context.calls??[],nonce:p.context.nonce??0n},digest:o,key:p.key,typedData:p.typedData})}case"wallet_sendPreparedCalls":{let[a]=b._decoded.params,{chainId:c,context:d,key:e,signature:h}=a,{account:j}=a.context,k=l(c);if(c&&du.toNumber(c)!==k.chain.id)throw new cI;return[{id:await g().actions.sendPreparedCalls({account:c8(j),context:d,internal:{client:k,config:f,request:b,store:i},key:e,signature:h})}]}case"wallet_sendCalls":{let[a]=b._decoded.params,{calls:d,capabilities:e,chainId:h,from:j}=a,k=l(h);if(h&&h!==k.chain.id)throw new cI;let m=j?c.accounts.find(a=>cU.isEqual(a.address,j)):c.accounts[0];if(j&&!m)throw new cF;let{id:n}=await g().actions.sendCalls({account:m,calls:d,chainId:k.chain.id,feeToken:e?.feeToken,internal:{client:k,config:f,request:b,store:i},merchantUrl:g3(f.merchantUrl??e?.merchantUrl),permissionsId:e?.permissions?.id,requiredFunds:e?.requiredFunds});return{id:n}}case"wallet_switchEthereumChain":{let[a]=b._decoded.params,{chainId:c}=a,d=du.toNumber(c);if(!f.chains.find(a=>a.id===d))throw new cL;let e=l(c);await g().actions.switchChain?.({chainId:e.chain.id,internal:{client:e,config:f,request:b,store:i}}),i.setState(a=>({...a,chainIds:[d,...a.chainIds.filter(a=>a!==d)]}));return}case"wallet_verifySignature":{let[a]=b._decoded.params,{address:c,chainId:d,digest:e,signature:f}=a,g=l(d);return{...await gD(g,{address:c,digest:e,signature:f}),address:c,chainId:du.fromNumber(g.chain.id)}}}},{enabled:b,id:cm.stringify(a)})}});return Object.assign(p,{_internal:{destroy:(c=()=>{},d=()=>{},g2(i).then(()=>{k().catch(()=>{}),c(),c=i.subscribe(a=>a.accounts,a=>{o.emit("accountsChanged",a.map(g7))},{equalityFn:(a,b)=>a.every((a,c)=>a.address===b[c]?.address)}),d(),d=i.subscribe(a=>a.chainIds[0],(a,b)=>{a!==b&&o.emit("chainChanged",du.fromNumber(a))})}),e=j?()=>{}:()=>{},()=>{c(),d(),e()})}})}function g5(a){return a.map(a=>{if("admin"===a.role)try{return dz.encode(bd.Key,{id:a.id??a.publicKey,publicKey:a.publicKey,type:a.type,..."webauthn-p256"===a.type?{credentialId:a.privateKey?.credential?.id,privateKey:{credential:{id:a.privateKey?.credential?.id},rpId:a.privateKey?.rpId}}:{}})}catch{return}}).filter(Boolean)}function g6(a,{address:b}){return a.map(a=>{if(a.chainId&&"session"===a.role&&!(a.expiry>0&&a.expiry<BigInt(Math.floor(Date.now()/1e3))))try{return dz.encode(gX,gZ(a,{address:b}))}catch{return}}).filter(Boolean)}function g7(a){return(0,dv.getAddress)(a.address)}function g8(a){return a}function g9(a,b={}){let{targetOrigin:c}=b,d=new Map;return{destroy(){for(let b of d.values())a.removeEventListener("message",b)},on(b,e,f){function g(a){a.data.topic!==b||f&&a.data.id!==f||c&&a.origin!==c||e(a.data.payload,a)}return a.addEventListener("message",g),d.set(b,g),()=>a.removeEventListener("message",g)},async send(b,d,e){let f=gh();return a.postMessage(gf({id:f,payload:d,topic:b}),e??c??"*"),{id:f,payload:d,topic:b}},async sendAsync(a,b,c){let{id:d}=await this.send(a,b,c);return new Promise(b=>this.on(a,b,d))}}}function ha(a){let b,c,{from:d,to:e,waitForReady:f=!1}=a,g=!1,h=(b=()=>void 0,c=()=>void 0,{promise:new Promise((a,d)=>{b=a,c=d}),reject:c,resolve:b});d.on("ready",h.resolve);let i={destroy(){d.destroy(),e.destroy(),g&&h.reject()},on:(a,b,c)=>d.on(a,b,c),send:async(a,b)=>(g=!0,f&&await h.promise.finally(()=>g=!1),e.send(a,b)),sendAsync:async(a,b)=>(g=!0,f&&await h.promise.finally(()=>g=!1),e.sendAsync(a,b))};return{...i,ready(a){i.send("ready",a)},waitForReady:()=>h.promise}}function hb(){return{destroy(){},on:()=>()=>{},ready(){},send:()=>Promise.resolve(void 0),sendAsync:()=>Promise.resolve(void 0),waitForReady:()=>Promise.resolve(void 0)}}function hc(a){let{relayUrl:b}=a,c=null,d=new Map;async function e(a,c){let d=gh(),e=await fetch(b,{body:cm.stringify({id:d,payload:c,topic:a}),headers:{"Content-Type":"application/json"},method:"POST"});return{id:d,payload:c,response:e,topic:a}}return!function a(){b&&!c&&((c=new EventSource(b)).onmessage=a=>{try{let c=JSON.parse(a.data);if(!c.topic||!c.payload)return;let e=d.get(c.topic);if(!e)return;for(let a of e)a(c.payload,{data:c,origin:b})}catch(a){console.error("Error parsing SSE message:",a)}},c.onerror=b=>{console.error("SSE connection error:",b),c?.close(),c=null,setTimeout(a,1e3)})}(),{destroy(){c?.close(),c=null,d.clear()},on:(a,b)=>(d.has(a)||d.set(a,new Set),d.get(a).add(b),()=>{let c=d.get(a);c&&(c.delete(b),0===c.size&&d.delete(a))}),async ready(a){await new Promise(a=>setTimeout(a,32)),this.send("ready",a)},async send(a,b){let{id:c}=await e(a,b);return{id:c,payload:b,topic:a}},async sendAsync(a,b){let{response:c}=await e(a,b);if(!c.ok)throw Error(`HTTP ${c.status}: ${c.statusText}`);let d=c.headers.get("content-type");if(d?.includes("application/json"))return await c.json()}}}a.s(["bridge",()=>ha,"cliRelay",()=>hc,"from",()=>g8,"fromWindow",()=>g9,"noop",()=>hb],86057);var hd=a.i(86057);function he(a){return{...a,setup:a.setup??(()=>()=>{})}}async function hf(a){let{account:b,calls:c,permissionsId:d}=a;if(void 0!==d){if(null===d)return;let a=b.keys?.find(a=>a.publicKey===d&&a.privateKey);if(!a)throw Error(`permission (id: ${d}) does not exist.`);return a}let e=b.keys?.find(a=>!(!a.privateKey||"session"!==a.role||a.expiry<BigInt(Math.floor(Date.now()/1e3)))&&!!c.every(b=>a.permissions?.calls?.some(a=>{if(a.to&&a.to!==b.to)return!1;if(a.signature){if(!b.data)return!1;let c=du.slice(b.data,0,4);if(du.validate(a.signature))return a.signature===c;if(dA.getSelector(a.signature)!==c)return!1}return!0}))),f=b.keys?.find(a=>"admin"===a.role&&a.privateKey);return e??f}a.s([],38725),a.i(38725);var hg=bX,hh=bX;class hi extends hh.BaseError{constructor(a){super(`Call bundle failed with status: ${a.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=a}}let hj=new Map,hk=new Map,hl=0;var hm=a.i(46564),hn=a.i(48855),ho=a.i(23360),hp=a.i(11755);let hq=(0,b1.numberToHex)(0,{size:32});async function hr(a,b){let c;async function d(b){if(b.endsWith("0x5792579257925792579257925792579257925792579257925792579257925792".slice(2))){let c=(0,bR.trim)((0,ho.sliceHex)(b,-64,-32)),d=(0,ho.sliceHex)(b,0,-64).slice(2).match(/.{1,64}/g),e=await Promise.all(d.map(b=>hq.slice(2)!==b?a.request({method:"eth_getTransactionReceipt",params:[`0x${b}`]},{dedupe:!0}):void 0)),f=e.some(a=>null===a)?100:e.every(a=>a?.status==="0x1")?200:e.every(a=>a?.status==="0x0")?500:600;return{atomic:!1,chainId:(0,bN.hexToNumber)(c),receipts:e.filter(Boolean),status:f,version:"2.0.0"}}return a.request({method:"wallet_getCallsStatus",params:[b]})}let{atomic:e=!1,chainId:f,receipts:g,version:h="2.0.0",...i}=await d(b.id),[j,k]=(c=i.status)>=100&&c<200?["pending",c]:c>=200&&c<300?["success",c]:c>=300&&c<700?["failure",c]:"CONFIRMED"===c?["success",200]:"PENDING"===c?["pending",100]:[void 0,c];return{...i,atomic:e,chainId:f?(0,bN.hexToNumber)(f):void 0,receipts:g?.map(a=>({...a,blockNumber:(0,bN.hexToBigInt)(a.blockNumber),gasUsed:(0,bN.hexToBigInt)(a.gasUsed),status:hp.receiptStatuses[a.status]}))??[],statusCode:k,status:j,version:h}}async function hs(a,b){let c,{id:d,pollingInterval:e=a.pollingInterval,status:f=({statusCode:a})=>200===a||a>=300,retryCount:g=4,retryDelay:h=({count:a})=>200*~~(1<<a),timeout:i=6e4,throwOnFailure:j=!1}=b,k=(0,c0.stringify)(["waitForCallsStatus",a.uid,d]),{promise:l,resolve:m,reject:n}=(0,hm.withResolvers)(),o=function(a,b,c){let d=++hl,e=()=>hj.get(a)||[],f=()=>{let b,c=e();if(!c.some(a=>a.id===d))return;let f=hk.get(a);if(1===c.length&&f){let a=f();a instanceof Promise&&a.catch(()=>{})}b=e(),hj.set(a,b.filter(a=>a.id!==d))},g=e();if(hj.set(a,[...g,{id:d,fns:b}]),g&&g.length>0)return f;let h={};for(let a in b)h[a]=(...b)=>{let c=e();if(0!==c.length)for(let d of c)d.fns[a]?.(...b)};let i=c(h);return"function"==typeof i&&hk.set(a,i),f}(k,{resolve:m,reject:n},b=>{let i=function(a,{emitOnBegin:b,initialWaitTime:c,interval:d}){let e=!0,f=()=>e=!1;return(async()=>{let g;b&&(g=await a({unpoll:f}));let h=await c?.(g)??d;await (0,gI.wait)(h);let i=async()=>{e&&(await a({unpoll:f}),await (0,gI.wait)(d),i())};i()})(),f}(async()=>{let e=a=>{clearTimeout(c),i(),a(),o()};try{let c=await (0,hn.withRetry)(async()=>{let b=await fq(a,hr,"getCallsStatus")({id:d});if(j&&"failure"===b.status)throw new hi(b);return b},{retryCount:g,delay:h});if(!f(c))return;e(()=>b.resolve(c))}catch(a){e(()=>b.reject(a))}},{interval:e,emitOnBegin:!0});return i});return c=i?setTimeout(()=>{o(),clearTimeout(c),n(new ht({id:d}))},i):void 0,await l}class ht extends hg.BaseError{constructor({id:a}){super(`Timed out while waiting for call bundle with id "${a}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}function hu(a){let{expiry:b,feeToken:c,permissions:d,publicKey:e,type:f}=a;return{expiry:b,feeToken:c??null,key:{publicKey:e,type:f},permissions:d??{}}}async function hv(a,b={}){if(!a)return;let c=b.chainId??a.chainId,d=a.expiry??0,e={chainId:c,expiry:d,feeToken:a.feeToken,permissions:c7.resolvePermissions(a,{feeTokens:b.feeTokens}),role:"session"};if(a?.key)return c7.from({...e,publicKey:a.key.publicKey,type:a.key.type??"secp256k1"});if("function"==typeof globalThis.crypto?.subtle?.generateKey)try{return await c7.createWebCryptoP256(e)}catch(a){if(!function(a){if(!(a instanceof Error))return!1;let b=a.message?.toLowerCase()??"";return"TypeError"===a.name||"ReferenceError"===a.name||b.includes("subtle")||b.includes("generatekey")}(a))throw a}return c7.createP256(e)}var hw=co;let hx=/^([a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}(:[0-9]{1,5})?$/,hy=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(:[0-9]{1,5})?$/,hz=/^localhost(:[0-9]{1,5})?$/,hA=/^[a-zA-Z0-9]{8,}$/,hB=/^([a-zA-Z][a-zA-Z0-9+-.]*)$/,hC=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,hD=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function hE(a){if(/[^a-z0-9:/?#[\]@!$&'()*+,;=.\-_~%]/i.test(a)||/%[^0-9a-f]/i.test(a)||/%[0-9a-f](:?[^0-9a-f]|$)/i.test(a))return!1;let b=a.match(/(?:([^:/?#]+):)?(?:\/\/([^/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/),c=b[1],d=b[2],e=b[3],f=b[4],g=b[5];if(!(c?.length&&e&&e.length>=0))return!1;if(d?.length){if(!(0===e.length||/^\//.test(e)))return!1}else if(/^\/\//.test(e))return!1;if(!/^[a-z][a-z0-9+\-.]*$/.test(c.toLowerCase()))return!1;let h="";return h+=`${c}:`,d?.length&&(h+=`//${d}`),h+=e,f?.length&&(h+=`?${f}`),g?.length&&(h+=`#${g}`),h}class hF extends hw.BaseError{constructor(a){const{field:b,metaMessages:c}=a;super(`Invalid Sign-In with Ethereum message field "${b}".`,{metaMessages:c}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Siwe.InvalidMessageFieldError"})}}async function hG(a){let{address:b,authUrl:c,message:d,signature:e,publicKey:f}=a,{chainId:g}=function(a){let{scheme:b,statement:c,...d}=a.match(hC)?.groups??{},{chainId:e,expirationTime:f,issuedAt:g,notBefore:h,requestId:i,...j}=a.match(hD)?.groups??{},k=a.split("Resources:")[1]?.split("\n- ").slice(1);return{...d,...j,...e?{chainId:Number(e)}:{},...f?{expirationTime:new Date(f)}:{},...g?{issuedAt:new Date(g)}:{},...h?{notBefore:new Date(h)}:{},...i?{requestId:i}:{},...k?{resources:k}:{},...b?{scheme:b}:{},...c?{statement:c}:{}}}(d);return await fetch(c.verify,{body:JSON.stringify({address:b,chainId:g,message:d,signature:e,walletAddress:b,...f&&{publicKey:f}}),credentials:"include",headers:{"Content-Type":"application/json"},method:"POST"}).then(a=>a.json())}async function hH(a,b,c){let{chainId:d=a.chain?.id,domain:e,uri:f,resources:g,version:h="1"}=b,{address:i}=c,j=b.authUrl?hI(b.authUrl):void 0;if(!d)throw Error("`chainId` is required.");if(!e)throw Error("`domain` is required.");if(!b.nonce&&!j?.nonce)throw Error("`nonce` or `authUrl.nonce` is required.");if(!f)throw Error("`uri` is required.");let k=await (async()=>{if(b.nonce)return b.nonce;if(!j?.nonce)throw Error("`nonce` or `authUrl.nonce` is required.");let a=await fetch(j.nonce,{body:JSON.stringify({address:i,chainId:d,walletAddress:i}),headers:{"Content-Type":"application/json"},method:"POST"}),c=await a.json().catch(()=>void 0);if(!c?.nonce)throw Error("`nonce` or `authUrl.nonce` is required.");return c.nonce})();return function(a){let{chainId:b,domain:c,expirationTime:d,issuedAt:e=new Date,nonce:f,notBefore:g,requestId:h,resources:i,scheme:j,uri:k,version:l}=a;{if(b!==Math.floor(b))throw new hF({field:"chainId",metaMessages:["- Chain ID must be a EIP-155 chain ID.","- See https://eips.ethereum.org/EIPS/eip-155","",`Provided value: ${b}`]});if(!(hx.test(c)||hy.test(c)||hz.test(c)))throw new hF({field:"domain",metaMessages:["- Domain must be an RFC 3986 authority.","- See https://www.rfc-editor.org/rfc/rfc3986","",`Provided value: ${c}`]});if(!hA.test(f))throw new hF({field:"nonce",metaMessages:["- Nonce must be at least 8 characters.","- Nonce must be alphanumeric.","",`Provided value: ${f}`]});if(!hE(k))throw new hF({field:"uri",metaMessages:["- URI must be a RFC 3986 URI referring to the resource that is the subject of the signing.","- See https://www.rfc-editor.org/rfc/rfc3986","",`Provided value: ${k}`]});if("1"!==l)throw new hF({field:"version",metaMessages:["- Version must be '1'.","",`Provided value: ${l}`]});if(j&&!hB.test(j))throw new hF({field:"scheme",metaMessages:["- Scheme must be an RFC 3986 URI scheme.","- See https://www.rfc-editor.org/rfc/rfc3986#section-3.1","",`Provided value: ${j}`]});let d=a.statement;if(d?.includes("\n"))throw new hF({field:"statement",metaMessages:["- Statement must not include '\\n'.","",`Provided value: ${d}`]})}let m=cU.from(a.address,{checksum:!0}),n=j?`${j}://${c}`:c,o=a.statement?`${a.statement}
`:"",p=`${n} wants you to sign in with your Ethereum account:
${m}

${o}`,q=`URI: ${k}
Version: ${l}
Chain ID: ${b}
Nonce: ${f}
Issued At: ${e.toISOString()}`;if(d&&(q+=`
Expiration Time: ${d.toISOString()}`),g&&(q+=`
Not Before: ${g.toISOString()}`),h&&(q+=`
Request ID: ${h}`),i){let a="\nResources:";for(let b of i){if(!hE(b))throw new hF({field:"resources",metaMessages:["- Every resource must be a RFC 3986 URI.","- See https://www.rfc-editor.org/rfc/rfc3986","",`Provided value: ${b}`]});a+=`
- ${b}`}q+=a}return`${p}
${q}`}({...b,address:c.address,chainId:d,domain:e,nonce:k,resources:g,uri:f,version:h})}function hI(a,b=""){if(!a)return;let c=(()=>{if("string"==typeof a){let b=a.replace(/\/$/,"");return{logout:b+"/logout",nonce:b+"/nonce",verify:b+"/verify"}}return a})();return{logout:hJ(c.logout,b),nonce:hJ(c.nonce,b),verify:hJ(c.verify,b)}}function hJ(a,b){return b&&a.startsWith("/")?b+a:a}var hK=a.i(62314);function hL(a){let b;return dG.keccak256((b=du.from(a),du.concat("0x19",du.fromString("Ethereum Signed Message:\n"+du.size(b)),b)))}var hM=a.i(91729),hN=a.i(2809),hO=bX;class hP extends hO.BaseError{constructor({address:a}){super(`No EIP-712 domain found on contract "${a}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${a}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function hQ(a,b){let{address:c,factory:d,factoryData:e}=b;try{let[b,f,g,h,i,j,k]=await fq(a,fx,"readContract")({abi:hR,address:c,functionName:"eip712Domain",factory:d,factoryData:e});return{domain:{name:f,version:g,chainId:Number(h),verifyingContract:i,salt:j},extensions:k,fields:b}}catch(a){if("ContractFunctionExecutionError"===a.name&&"ContractFunctionZeroDataError"===a.cause.name)throw new hP({address:c});throw a}}let hR=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];async function hS(a,b){let{account:c=a.account}=b,d=c?c8(c):void 0;if(!d)throw Error("account is required.");let{domain:{name:e,version:f}}=await hQ(a,{address:d.address});if(!a.chain)throw Error("client.chain is required");return{chainId:a.chain.id,name:e,verifyingContract:d.address,version:f}}async function hT(a,b){let c=c9(cV.randomPrivateKey(),{keys:b.authorizeKeys});return await h3(a,{...b,account:c})}async function hU(a,b){let{account:c=a.account,chainIds:d}=b,e=c?c8(c):void 0;if(!e)throw Error("account is required.");return Object.entries(await gp(a,{address:e.address,chainIds:d})).flatMap(([a,b])=>b.map(b=>c7.fromRelay(b,{chainId:Number(a)})))}async function hV(a,b){let{address:c,secret:d}=b;return await gu(a,{address:c,secret:d})}async function hW(a,b){let{address:c}=b;return await gv(a,{address:c})}async function hX(a,b){let{account:c=a.account,calls:d,chain:e=a.chain,feePayer:f,merchantUrl:g,nonce:h,preCalls:i,requiredFunds:j,revokeKeys:k}=b,l=c?c8(c):void 0,m=b.key??(l?da(l,{role:"admin"}):void 0),n=b.authorizeKeys?.some(a=>"session"===a.role),{contracts:o,fees:{tokens:p}}=await gk(a,{chainId:e?.id}),q=n?o.orchestrator.address:void 0,r=(b.authorizeKeys??[]).map(a=>c7.toRelay(a,{feeTokens:p,orchestrator:q})),s=b.feeToken?b.feeToken:m?.permissions?.spend?.[0]?.token,t="boolean"==typeof i&&i,u="object"==typeof i?i.map(({context:a,signature:b})=>({...a.preCall,signature:b})):void 0,v={address:l?.address,calls:d??[],capabilities:{authorizeKeys:r,meta:{feePayer:f,feeToken:s,nonce:h},preCall:t,preCalls:u,requiredFunds:j,revokeKeys:k?.map(a=>({hash:a.hash}))},chain:e,key:m?c7.toRelay(m,{feeTokens:p}):void 0},w=await (async()=>{if(g){let b=(0,gH.createClient)({chain:a.chain,transport:(0,gM.http)(g)});return await gr(b,v).catch(b=>(console.error(b),gr(a,v)))}return await gr(a,v)})(),{capabilities:x,context:y,digest:z,signature:A,typedData:B}=w;if(g&&!await gC(a,{response:w._raw,signature:A}))throw Error(`cannot verify integrity of \`wallet_prepareCalls\` response from ${g}`);return{capabilities:{...x,quote:y.quote},context:y,digest:z,key:m,typedData:B}}async function hY(a,b){let{address:c,authorizeKeys:d,chain:e=a.chain}=b;if(!e)throw Error("chain is required.");let{contracts:f,fees:{tokens:g}}=await gk(a,{chainId:e.id}),h=b.delegation??f.accountProxy.address,i=d.some(a=>"session"===a.role)?f.orchestrator.address:void 0,j=d.map(a=>{let b="session"===a.role?a.permissions:{};return c7.toRelay({...a,permissions:b},{feeTokens:g,orchestrator:i})}),{capabilities:k,chainId:l,context:m,digests:n,typedData:o}=await gs(a,{address:c,authorizeKeys:j,chain:e,delegation:h}),p=c8({address:c,keys:d});return{capabilities:k,chainId:l,context:{...m,account:p},digests:n,typedData:o}}async function hZ(a,b){let{phone:c,walletAddress:d}=b;return await gw(a,{phone:c,walletAddress:d})}async function h$(a,b){let{account:c=a.account,chain:d=a.chain,webAuthn:e}=b;if(!d)throw Error("`chain` is required.");let f=c?c8(c):void 0;if(!f)throw Error("`account` is required.");let g=b.key??da(f,b);if(!g&&!f.sign)throw Error("`key` or `account` with `sign` is required");let h=await Promise.all((b.preCalls??[]).map(async c=>{if(c.signature)return c;let{authorizeKeys:g,key:h,calls:i,revokeKeys:j}=c,{context:k,digest:l}=await hX(a,{account:f,authorizeKeys:g,calls:i,chain:d,feeToken:b.feeToken,key:h,preCalls:!0,revokeKeys:j});return{context:k,signature:await c7.sign(h,{address:null,payload:l,webAuthn:e})}})),{capabilities:i,context:j,digest:k}=await hX(a,{...b,account:f,chain:d,key:g,preCalls:h}),l=await (async()=>g?await c7.sign(g,{address:null,payload:k,webAuthn:e,wrap:!1}):await f.sign({hash:k}))();return await h0(a,{capabilities:i.feeSignature?{feeSignature:i.feeSignature}:void 0,context:j,key:g,signature:l})}async function h_(a,b){let c=!!a.context.preCall,{account:d,key:e}=b;if(d){let b=d.keys?.findIndex(b=>b.publicKey===a.key?.publicKey);if(-1===b)throw Error("key not found");return await db(d,{key:b,payload:a.digest,replaySafe:!1,wrap:c})}if(e)return await c7.sign(e,{address:null,payload:a.digest,wrap:c});throw Error("no key or account provided")}async function h0(a,b){let{capabilities:c,context:d,key:e,signature:f}=b;return await gt(a,{capabilities:c,context:d,key:e?c7.toRelay(e):void 0,signature:f})}async function h1(a,b){let{email:c,walletAddress:d}=b;return await gx(a,{email:c,walletAddress:d})}async function h2(a,b){let{phone:c,walletAddress:d}=b;return await gy(a,{phone:c,walletAddress:d})}async function h3(a,b){if(b.account){let{account:c}=b,d=[...c.keys??[],...b.authorizeKeys??[]].filter((a,b,c)=>c.findIndex(b=>b.id===a.id)===b),{digests:e,...f}=await hY(a,{...b,address:c.address,authorizeKeys:d}),g={auth:await c.sign({hash:e.auth}),exec:await c.sign({hash:e.exec})};return await h3(a,{...f,signatures:g})}let{context:c,signatures:d}=b,e=c8(c.account);return await gz(a,{context:c,signatures:d}),e}async function h4(a,b){let{chainId:c,email:d,signature:e,token:f,walletAddress:g}=b;return await gA(a,{chainId:c,email:d,signature:e,token:f,walletAddress:g})}async function h5(a,b){let{code:c,phone:d,walletAddress:e}=b;return await gB(a,{code:c,phone:d,walletAddress:e})}function h6(a){return{createAccount:b=>hT(a,b),getCallsHistory:b=>go(a,b),getCallsStatus:b=>gn(a,b),getCapabilities:()=>gk(a),getKeys:b=>hU(a,b),health:()=>gq(a),prepareCalls:b=>hX(a,b),prepareUpgradeAccount:b=>hY(a,b),sendCalls:b=>h$(a,b),sendPreparedCalls:b=>h0(a,b),upgradeAccount:b=>h3(a,b),verifySignature:b=>gD(a,b)}}co.BaseError,a.s(["createAccount",()=>hT,"decorator",()=>h6,"getKeys",()=>hU,"getOnrampContactInfo",()=>hV,"onrampStatus",()=>hW,"prepareCalls",()=>hX,"prepareUpgradeAccount",()=>hY,"resendVerifyPhone",()=>hZ,"sendCalls",()=>h$,"sendPreparedCalls",()=>h0,"setEmail",()=>h1,"setPhone",()=>h2,"signCalls",()=>h_,"upgradeAccount",()=>h3,"verifyEmail",()=>h4,"verifyPhone",()=>h5],28085);var h7=a.i(23101),h8=a.i(23212);function h9(a){if(a<=255)return 1;if(a<=65535)return 2;if(a<=0xffffff)return 3;if(a<=0xffffffff)return 4;throw new co.BaseError("Length is too large.")}var ia=co;let ib="0x8010801080108010801080108010801080108010801080108010801080108010",ic=h7.from("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");class id extends ia.BaseError{constructor(a){super(`Value \`${a}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}}async function ie(a,b){let{address:c}=b,{authorization:d,data:e,to:f}=await gj(a,{address:c});return function(a){let{data:b,signature:c}=a;if("string"==typeof a){if(du.slice(a,-32)!==ib)throw new id(a)}else cW.assert(a.authorization);let d=cV.recoverAddress({payload:function(a,b={}){let{presign:c}=b;return dG.keccak256(du.concat("0x05",function(a,b={}){let{as:c="Hex"}=b;return function(a,b){let{as:c}=b,d=function a(b){var c,d;let e,f,g,h;return Array.isArray(b)?(f=h9(e=(c=b.map(b=>a(b))).reduce((a,b)=>a+b.length,0)),{length:e<=55?1+e:1+f+e,encode(a){for(let{encode:b}of(e<=55?a.pushByte(192+e):(a.pushByte(247+f),1===f?a.pushUint8(e):2===f?a.pushUint16(e):3===f?a.pushUint24(e):a.pushUint32(e)),c))b(a)}}):(h=h9((g="string"==typeof(d=b)?hK.fromHex(d):d).length),{length:1===g.length&&g[0]<128?1:g.length<=55?1+g.length:1+h+g.length,encode(a){1===g.length&&g[0]<128||(g.length<=55?a.pushByte(128+g.length):(a.pushByte(183+h),1===h?a.pushUint8(g.length):2===h?a.pushUint16(g.length):3===h?a.pushUint24(g.length):a.pushUint32(g.length))),a.pushBytes(g)}})}(a),e=h8.create(new Uint8Array(d.length));return(d.encode(e),"Hex"===c)?du.fromBytes(e.bytes):e.bytes}(a,{as:c})}(function(a){let{address:b,chainId:c,nonce:d}=a,e=cW.extract(a);return[c?du.fromNumber(c):"0x",b,d?du.fromNumber(d):"0x",...e?cW.toTuple(e):[]]}(c?{address:a.address,chainId:a.chainId,nonce:a.nonce}:a))))}(a.authorization,{presign:!0}),signature:cW.from(a.authorization)}),e=h7.encode(ic,[{...a.authorization,delegation:a.authorization.address,chainId:BigInt(a.authorization.chainId)},a.to??d,b??"0x"]),f=du.fromNumber(du.size(e),{size:32});return du.concat(c,e,f,ib)}({authorization:{...d,nonce:BigInt(d.nonce),r:BigInt(d.r),s:BigInt(d.s)},data:e,signature:b.signature,to:f})}var ig=a.i(17138);function ih(a,b){let{tokens:c}=b,d=c.filter(a=>a.interop);return a.map(a=>{if(a.address)return a;let b=d.find(b=>b.symbol===a.symbol);if(!b)throw Error(`interop token not found: ${a.symbol}`);return{address:b.address,value:ig.from(a.value,b.decimals)}})}var ii=a.i(6323);async function ij(a,b){let{chain:c=a.chain}=b??{};return await gk(a,{chainId:c?.id}).then(a=>a.fees.tokens)}async function ik(a,b){let{addressOrSymbol:c}=b;return(await ij(a,b)).find(ik.predicate(c))}async function il(a,b){let{chain:c=a.chain,store:d}=b??{},e=d?.getState()??{},f=b?.addressOrSymbol??e.feeToken,g=await ij(a,{chain:c}).then(a=>a.filter(a=>a.feeToken));return g?.find(a=>!!f&&(!!("native"===f&&a.address===ii.zeroAddress||cU.validate(f)&&cU.isEqual(a.address,f))||f===a.symbol))}function im(a={}){let b,c,{mock:d,multichain:e=!0,webAuthn:f}=a,g=(()=>{if("self"!==a.keystoreHost)return a.keystoreHost})();return he({actions:{async addFunds(){throw new cG},async createAccount(a){let{admins:c,email:e,eoa:h,label:i,permissions:j,internal:k,signInWithEthereum:l}=a,{client:m}=k,n=h??c9(cV.randomPrivateKey()),o=await ij(m),p=d?c7.createHeadlessWebAuthnP256():await c7.createWebAuthnP256({createFn:f?.createFn,label:i||`${n.address.slice(0,8)}\u2026${n.address.slice(-6)}`,rpId:g,userId:hK.from(n.address)}),q=await hv(j,{chainId:m.chain.id,feeTokens:o}),r=c?.map(a=>c7.from(a)),s=await h3(m,{account:n,authorizeKeys:[p,...r??[],...q?[q]:[]]});b=n.address,e&&i&&await h1(m,{email:i,walletAddress:s.address});let t=await (async()=>{if(!l)return;let a=await hH(m,l,{address:s.address}),b=await db(n,{payload:hL(du.fromString(a))});return{message:a,signature:await ie(m,{address:s.address,signature:b})}})();return{account:{...s,signInWithEthereum:t}}},async getAccountVersion(a){let{address:b,internal:c}=a,{client:d}=c,{contracts:e}=await gk(d),{accountImplementation:f}=e,g=await hS(d,{account:c8(f)}).then(a=>a.version),h=await hS(d,{account:b}).then(a=>a.version).catch(()=>g);if(!h||!g)throw Error("version not found.");return{current:h,latest:g}},async getAssets(a){let{account:b,chainFilter:c,assetFilter:d,assetTypeFilter:e,internal:f}=a,{client:g}=f;return await gl(g,{account:b,assetFilter:d,assetTypeFilter:e,chainFilter:c})},async getCallsHistory(a){let{internal:b,...c}=a,{client:d}=b;return await go(d,c)},async getCallsStatus(a){let{id:b,internal:c}=a,{client:d}=c,e=await gn(d,{id:b});return{atomic:!0,chainId:du.fromNumber(d.chain.id),id:b,receipts:e.receipts?.map(a=>({blockHash:a.blockHash,blockNumber:du.fromNumber(a.blockNumber),gasUsed:du.fromNumber(a.gasUsed),logs:a.logs,status:a.status,transactionHash:a.transactionHash})),status:e.status,version:"1.0"}},async getCapabilities(a){let{chainIds:b,internal:c}=a,{client:d}=c,f={atomic:{status:"supported"},atomicBatch:{supported:!0},feeToken:{supported:!0,tokens:[]},merchant:{supported:!0},permissions:{supported:!0},requiredFunds:{supported:!!e,tokens:[]}};return Object.entries(await gk(d,{chainIds:b?b.map(a=>du.toNumber(a)):"all",raw:!0})).reduce((a,[b,c])=>({...a,[b]:{...f,...c,feeToken:{supported:!0,tokens:c.fees.tokens},requiredFunds:{supported:!!e,tokens:e?c.fees.tokens.filter(a=>a.interop):[]}}}),{})},async getKeys(a){let{account:b,chainIds:c,internal:d}=a,{client:e}=d;return gg([...await hU(e,{account:b,chainIds:c}),...b.keys??[]],a=>a.publicKey)},async grantAdmin(a){let{account:b,internal:c}=a,{client:d}=c,e=c7.from(a.key,{chainId:d.chain.id}),g=await il(d,{addressOrSymbol:a.feeToken,store:c.store}),{id:h}=await h$(d,{account:b,authorizeKeys:[e],feeToken:g?.address,webAuthn:f});return await hs(d,{id:h,pollingInterval:500}),{key:e}},async grantPermissions(a){let{account:b,internal:c,permissions:d}=a,{client:e}=c,f=await ij(e),g=await hv(d,{chainId:e.chain.id,feeTokens:f});if(!g)throw Error("key to authorize not found.");let h=b.keys?.find(a=>"admin"===a.role&&a.privateKey);if(!h)throw Error("admin key not found.");let{context:i,digest:j}=await hX(e,{account:b,authorizeKeys:[g],key:h,preCalls:!0}),k=await c7.sign(h,{address:null,payload:j});return await h0(e,{context:i,key:h,signature:k}),{key:g}},async loadAccounts(a){let{internal:c,permissions:e,signInWithEthereum:h}=a,{client:i}=c,j=await ij(i),k=await hv(e,{chainId:i.chain.id,feeTokens:j}),{digest:l,digestType:m,message:n}=await (async()=>{if(h&&a.address){let b=await hH(i,h,{address:a.address});return{context:void 0,digest:hL(du.fromString(b)),digestType:"siwe",message:b}}return{context:void 0,digest:"0x",message:void 0}})(),{address:o,credentialId:p,webAuthnSignature:q}=await (async()=>{if(d){if(!b)throw Error("address_internal not found.");return{address:b,credentialId:void 0}}if(a.address&&a.key)return{address:a.address,credentialId:a.key.credentialId};let c=await hN.sign({challenge:l,getFn:f?.getFn,rpId:g}),e=c.raw.response;return{address:hK.toHex(new Uint8Array(e.userHandle)),credentialId:c.raw.id,webAuthnSignature:c}})(),r=await hU(i,{account:o,chainIds:[i.chain.id]}),s=c8({address:o,keys:[...r,...k?[k]:[]].map((a,b)=>0===b&&"webauthn-p256"===a.type?c7.fromWebAuthnP256({...a,credential:{id:p,publicKey:hM.fromHex(a.publicKey)},id:o,rpId:g}):a)}),t=da(s,{role:"admin"}),u=await (async()=>{if("0x"!==l)return q?c7.wrapSignature(c7.serializeWebAuthnSignature(q),{keyType:"webauthn-p256",publicKey:t.publicKey}):await c7.sign(t,{address:s.address,payload:l})})();if(k){let{context:a,digest:b}=await hX(i,{account:s,authorizeKeys:[k],preCalls:!0}),c=await c7.sign(t,{address:null,payload:b});await h0(i,{context:a,key:t,signature:c})}let v=await (async()=>{if(h){if("siwe"===m&&n&&u)return{message:n,signature:await ie(i,{address:s.address,signature:u})};{let a=await hH(i,h,{address:s.address}),b=await db(s,{payload:hL(du.fromString(a)),role:"admin"});return{message:a,signature:await ie(i,{address:s.address,signature:b})}}}})();return{accounts:[{...s,signInWithEthereum:v}]}},async prepareCalls(a){let{account:b,calls:c,internal:d,merchantUrl:f}=a,{client:g}=d,h=a.key??await hf({account:b,calls:c});if(!h)throw Error("cannot find authorized key to sign with.");let[i,j]=await Promise.all([ij(g),il(g,{addressOrSymbol:a.feeToken,store:d.store})]),k=ih(a.requiredFunds??[],{tokens:i}),{capabilities:l,context:m,digest:n,typedData:o}=await hX(g,{account:b,calls:c,feeToken:j?.address,key:h,merchantUrl:f,requiredFunds:e?k:void 0}),p=m.quote?.quotes??[],q=p[p.length-1];return{account:b,capabilities:{...l,quote:m.quote},chainId:g.chain.id,context:{...m,account:b,calls:c,nonce:q?.intent.nonce},digest:n,key:h,typedData:o}},async prepareUpgradeAccount(a){let{address:b,email:e,label:h,internal:i,permissions:j}=a,{client:k}=i,[l,m]=await Promise.all([ij(k),il(k,{store:i.store})]),n=d?c7.createHeadlessWebAuthnP256():await c7.createWebAuthnP256({createFn:f?.createFn,label:h||`${b.slice(0,8)}\u2026${b.slice(-6)}`,rpId:g,userId:hK.from(b)}),o=await hv(j,{chainId:k.chain.id,feeTokens:l}),{context:p,digests:q}=await hY(k,{address:b,authorizeKeys:[n,...o?[o]:[]],feeToken:m?.address});return e&&(c=h),{context:p,digests:q}},async revokeAdmin(a){let{account:b,id:c,internal:d}=a,{client:e}=d,g=b.keys?.find(a=>a.id===c);if(g){if("webauthn-p256"===g.type&&b.keys?.filter(a=>"webauthn-p256"===a.type).length===1)throw Error("revoke the only WebAuthn key left.");try{let c=await il(e,{addressOrSymbol:a.feeToken,store:d.store}),{id:h}=await h$(e,{account:b,feeToken:c?.address,revokeKeys:[g],webAuthn:f});await hs(e,{id:h})}catch(a){if("Rpc.ExecutionError"===a.name&&a.abiError?.name==="KeyDoesNotExist")return;throw a}}},async revokePermissions(a){let{account:b,id:c,internal:d}=a,{client:e}=d,g=b.keys?.find(a=>a.id===c);if(g){if("admin"===g.role)throw Error("cannot revoke admins.");try{let c=await il(e,{addressOrSymbol:a.feeToken,store:d.store}),{id:h}=await h$(e,{account:b,feeToken:c?.address,revokeKeys:[g],webAuthn:f});await hs(e,{id:h})}catch(a){if("Rpc.ExecutionError"===a.name&&a.abiError?.name==="KeyDoesNotExist")return;throw a}}},async sendCalls(a){let{account:b,asTxHash:c,calls:d,chainId:g,internal:h,merchantUrl:i}=a,{client:j}=h;if(!b)throw Error("account required for relay mode");let k=await hf({account:b,calls:d,permissionsId:a.permissionsId}),[l,m]=await Promise.all([ij(j),il(j,{addressOrSymbol:a.feeToken,store:h.store})]),n=ih(a.requiredFunds??[],{tokens:l}),o=await h$(j,{account:b,calls:d,feeToken:m?.address,key:k,merchantUrl:i,requiredFunds:e?n:void 0,webAuthn:f,...g?{chain:{id:g}}:{}});if(c){let{id:a,receipts:b,status:c}=await hs(j,{id:o.id,pollingInterval:500});if(!b?.[0]){if("success"===c)throw new cN({message:"Call bundle with id: "+a+" not found."});throw new cu({message:"Transaction failed under call bundle id: "+a+"."})}return{id:b[0].transactionHash}}return o},async sendPreparedCalls(a){let{context:b,key:c,internal:d,signature:e}=a,{client:f}=d,{id:g}=await h0(f,{context:b,key:c,signature:e});return g},async signPersonalMessage(a){let{account:b,data:c,internal:d}=a,{client:e}=d,g=b.keys?.find(a=>"admin"===a.role&&a.privateKey);if(!g)throw Error("cannot find admin key to sign with.");let h=await db(b,{key:g,payload:hL(c),webAuthn:f});return ie(e,{address:b.address,signature:h})},async signTypedData(a){let{account:b,internal:c}=a,{client:d}=c,e=b.keys?.find(a=>"admin"===a.role&&a.privateKey);if(!e)throw Error("cannot find admin key to sign with.");let g=cm.parse(a.data),h=g.domain?.name==="Orchestrator",i=await db(b,{key:e,payload:cX.getSignPayload(g),replaySafe:!h,webAuthn:f});return h?i:ie(d,{address:b.address,signature:i})},async upgradeAccount(a){let{account:b,context:d,internal:e,signatures:f}=a,{client:g}=e;return await h3(g,{context:d,signatures:f}),c&&await h1(g,{email:c,walletAddress:b.address}),{account:b}},async verifyEmail(a){let{account:b,chainId:c,email:d,token:e,internal:g,walletAddress:h}=a,{client:i}=g,j=b.keys?.find(a=>"admin"===a.role&&a.privateKey);if(!j)throw Error("cannot find admin key to sign with.");let k=await db(b,{key:j,payload:dG.keccak256(du.fromString(`${d}${e}`)),webAuthn:f});return await h4(i,{chainId:c,email:d,signature:k,token:e,walletAddress:h})}},config:a,name:"rpc"})}function io(a={}){let{fallback:b=im(),host:c=de.prod,renderer:d=dg(),theme:e,themeController:f}=a,g=new Set,h=function(a={}){let b=a.id??0;return{prepare:a=>({...{id:b++,...a},jsonrpc:"2.0"}),get id(){return b}}}();function i(a){return cR({async request(b){var c;let d=h.prepare(b);return a.setState(a=>{let b=a.accounts[0],c=b?.keys?.find(a=>"admin"===a.role&&"webauthn-p256"===a.type);return{...a,requestQueue:[...a.requestQueue,{account:b?{address:b.address,key:c?{credentialId:c?.credentialId,publicKey:c.publicKey}:void 0}:void 0,request:d,status:"pending"}]}}),c=d.id,new Promise((b,d)=>{let e=f=>{let h=f.find(a=>a.request.id===c);if(!h&&0===f.length){g.delete(e),d(new cE);return}h&&("success"===h.status||"error"===h.status)&&(g.delete(e),"success"===h.status?b(h.result):d(cS(h.error)),a.setState(a=>({...a,requestQueue:a.requestQueue.filter(a=>a.request.id!==c)})))};g.add(e)})}},{schema:null})}return he({actions:{async addFunds(a){let{internal:b}=a,{request:c,store:d}=b;if("wallet_addFunds"!==c.method)throw Error("Cannot add funds for method: "+c.method);let e=i(d);return await e.request(c)},async createAccount(a){let{internal:b}=a,{client:c,config:d,request:e,store:f}=b,{storage:g}=d,h=i(f);return{account:await (async()=>{if("wallet_connect"===e.method){let[{capabilities:a,chainIds:b}]=e._decoded.params??[{}],f=iq(a?.signInWithEthereum?.authUrl??d.authUrl,{storage:g}),i=e.params?.[0]?.capabilities?.signInWithEthereum,j=await hv(a?.grantPermissions,{chainId:c.chain.id}),k=j?dz.encode(gY,hu(j)):void 0,{accounts:l}=await h.request({...e,params:[{capabilities:{...e.params?.[0]?.capabilities,grantPermissions:k,signInWithEthereum:f||i?{...i,authUrl:f}:void 0},chainIds:b?.map(a=>du.fromNumber(a))}]}),[m]=l;if(!m)throw Error("no account found.");let n=m.capabilities?.admins?.map(a=>c7.from(a,{chainId:c.chain.id})).filter(Boolean),o=m.capabilities?.permissions?.map(a=>{try{let b=g$(dz.decode(gX,a));if(b.id===j?.id)return{...b,...j,permissions:b.permissions};return b}catch{return}}).filter(Boolean),p=await (async()=>{if(!m.capabilities?.signInWithEthereum)return;let{message:a,signature:b}=m.capabilities.signInWithEthereum;if(!f)return{message:a,signature:b};let{token:c}=await hG({address:m.address,authUrl:f,message:a,publicKey:m.capabilities?.admins?.[0]?.publicKey,signature:b});return{message:a,signature:b,token:c}})();return{...c8({address:m.address,keys:[...n??[],...o??[]]}),signInWithEthereum:p}}throw Error(`Account creation not supported on method: ${e.method}`)})()}},async disconnect(a){let{internal:b}=a,{config:c}=b,{storage:d}=c,e=await d.getItem("porto.authUrl")||void 0,f=iq(c.authUrl??e,{storage:d});f&&await fetch(f.logout,{credentials:"include",method:"POST"}).catch(()=>{})},async getAccountVersion(a){let{internal:c}=a,{store:e,request:f}=c;if("wallet_getAccountVersion"!==f.method)throw Error("Cannot get version for method: "+f.method);if(!d.supportsHeadless)return b.actions.getAccountVersion(a);let g=i(e);return await g.request(f)},async getAssets(a){let{internal:c}=a,{store:e,request:f}=c;if("wallet_getAssets"!==f.method)throw Error("Cannot get assets for method: "+f.method);if(!d.supportsHeadless)return b.actions.getAssets(a);let g=i(e),h=await g.request(f);return dz.decode(bq.Response,h)},async getCallsHistory(a){let{internal:c}=a,{store:e,request:f}=c;if("wallet_getCallsHistory"!==f.method)throw Error("Cannot get history for method: "+f.method);if(!d.supportsHeadless)return b.actions.getCallsHistory(a);let g=i(e),h=await g.request(f);return dz.decode(bs.Response,h)},async getCallsStatus(a){let{internal:c}=a,{store:e,request:f}=c;if("wallet_getCallsStatus"!==f.method)throw Error("Cannot get status for method: "+f.method);if(!d.supportsHeadless)return b.actions.getCallsStatus(a);let g=i(e);return await g.request(f)},async getCapabilities(a){let{internal:c}=a,{store:e,request:f}=c;if("wallet_getCapabilities"!==f.method)throw Error("Cannot get capabilities for method: "+f.method);if(!d.supportsHeadless)return b.actions.getCapabilities(a);let g=i(e);return await g.request(f)},async getKeys(a){let{account:c,chainIds:e,internal:f}=a,{store:g}=f,h=await (async()=>{if(!d.supportsHeadless)return b.actions.getKeys(a);let f=i(g),h=await f.request({method:"wallet_getKeys",params:[dz.encode(bu.Parameters,{address:c.address,chainIds:e})]});return dz.decode(bu.Response,h)})();return gg([...h,...c.keys??[]],a=>a.publicKey)},async grantAdmin(a){let{internal:b}=a,{request:c,store:d}=b;if("wallet_grantAdmin"!==c.method)throw Error("Cannot authorize admin for method: "+c.method);let[e]=c._decoded.params,f=c7.from(e.key);if(!f)throw Error("no key found.");let g=await ip(b,a),h=i(d);return await h.request({method:"wallet_grantAdmin",params:[{...c.params?.[0],capabilities:{...c.params?.[0]?.capabilities,feeToken:g}}]}),{key:f}},async grantPermissions(a){let{internal:b}=a,{client:c,request:d,store:e}=b;if("wallet_grantPermissions"!==d.method)throw Error("Cannot grant permissions for method: "+d.method);let[{address:f,...g}]=d._decoded.params,h=await hv(g,{chainId:c.chain.id});if(!h)throw Error("no key found.");let j=dz.encode(gY,hu(h)),k=i(e);return await k.request({method:"wallet_grantPermissions",params:[j]}),{key:h}},async loadAccounts(a){let{internal:b}=a,{client:c,config:d,store:e}=b,{storage:f}=d,g=i(e),h=b.request;if("wallet_connect"!==h.method&&"eth_requestAccounts"!==h.method)throw Error("Cannot load accounts for method: "+h.method);return{accounts:await (async()=>{let[a]=h._decoded.params??[],{capabilities:b}=a??{},e=iq(b?.signInWithEthereum?.authUrl??d.authUrl,{storage:f}),i=h.params?.[0]?.capabilities?.signInWithEthereum,j=await hv(b?.grantPermissions,{chainId:c.chain.id}),k=j?dz.encode(gY,hu(j)):void 0,{accounts:l}=await g.request({method:"wallet_connect",params:[{...h.params?.[0],capabilities:{...h.params?.[0]?.capabilities,grantPermissions:k,signInWithEthereum:e||i?{...i,authUrl:e}:void 0}}]});return Promise.all(l.map(async a=>{let b=a.capabilities?.admins?.map(a=>c7.from(a)).filter(Boolean),c=a.capabilities?.permissions?.map(a=>{try{let b=g$(dz.decode(gX,a));if(b.id===j?.id)return{...b,...j,permissions:b.permissions};return b}catch{return}}).filter(Boolean),d=await (async()=>{if(!a.capabilities?.signInWithEthereum)return;let{message:b,signature:c}=a.capabilities.signInWithEthereum;if(!e)return{message:b,signature:c};let{token:d}=await hG({address:a.address,authUrl:e,message:b,publicKey:a.capabilities?.admins?.[0]?.publicKey,signature:c});return{message:b,signature:c,token:d}})();return{...c8({address:a.address,keys:[...b??[],...c??[]]}),signInWithEthereum:d}}))})()}},async prepareCalls(a){let{account:c,internal:e}=a,{store:f,request:g}=e;if("wallet_prepareCalls"!==g.method)throw Error("Cannot prepare calls for method: "+g.method);if(!d.supportsHeadless)return b.actions.prepareCalls(a);let h=await ip(e,a),j=i(f),k=dz.decode(bv.Response,await j.request({...g,params:[{...g.params?.[0],capabilities:{...g.params?.[0]?.capabilities,feeToken:h}}]}));return{account:c,chainId:Number(k.chainId),context:k.context,digest:k.digest,key:k.key,typedData:k.typedData}},async prepareUpgradeAccount(a){let{internal:c}=a,{client:e,store:f,request:g}=c;if("wallet_prepareUpgradeAccount"!==g.method)throw Error("Cannot prepare upgrade for method: "+g.method);if(!d.supportsHeadless)return b.actions.prepareUpgradeAccount(a);let[{capabilities:h}]=g._decoded.params??[{}],j=await hv(h?.grantPermissions,{chainId:e.chain.id}),k=j?dz.encode(gY,hu(j)):void 0,l=i(f),{context:m,digests:n}=await l.request({...g,params:[{...g.params?.[0],capabilities:{...g.params?.[0]?.capabilities,grantPermissions:k}}]}),o=m.account.keys?.map(a=>a.id===j?.id?{...a,...j}:a);return{context:{...m,account:{...m.account,keys:o}},digests:n}},async revokeAdmin(a){let{account:b,id:c,internal:d}=a,{store:e,request:f}=d;if("wallet_revokeAdmin"!==f.method)throw Error("Cannot revoke admin for method: "+f.method);let g=b.keys?.find(a=>a.id===c);if(!g)return;if("webauthn-p256"===g.type&&b.keys?.filter(a=>"webauthn-p256"===a.type).length===1)throw Error("revoke the only WebAuthn key left.");let h=await ip(d,a),j=i(e);return await j.request({...f,params:[{...f.params?.[0],capabilities:{...f.params?.[0]?.capabilities,feeToken:h}}]})},async revokePermissions(a){let{account:b,id:c,internal:d}=a,{store:e,request:f}=d;if("wallet_revokePermissions"!==f.method)throw Error("Cannot revoke permissions for method: "+f.method);let g=b.keys?.find(a=>a.id===c);if(!g)return;if("admin"===g.role)throw Error("cannot revoke permissions.");let h=i(e);return await h.request(f)},async sendCalls(a){let{account:c,asTxHash:e,calls:f,chainId:g,internal:h,merchantUrl:j,requiredFunds:k}=a,{client:l,store:m,request:n}=h,o=i(m),p=await ip(h,a),q=c?await hf({account:c,calls:f,permissionsId:a.permissionsId}):void 0;if(q?.role==="session"&&c){if(!d.supportsHeadless)return b.actions.sendCalls(a);try{let a=await o.request(dz.encode(bv.Request,{method:"wallet_prepareCalls",params:[{calls:f,capabilities:{..."wallet_sendCalls"===n._decoded.method?n._decoded.params?.[0]?.capabilities:void 0,feeToken:p,merchantUrl:j,requiredFunds:k},chainId:g,from:c.address,key:q}]})),b=a.capabilities?.quote?.quotes??[];if(b.some((a,c)=>(c!==b.length-1||!(b.length>1))&&du.toBigInt(a.feeTokenDeficit)>0n))throw Error("insufficient funds");let d=await c7.sign(q,{address:null,payload:a.digest,wrap:!1}),h=(await o.request({method:"wallet_sendPreparedCalls",params:[{...a,signature:d}]}))[0];if(!h)throw Error("id not found");if(e){let{id:a,receipts:b,status:c}=await hs(l,{id:h.id,pollingInterval:500});if(!b?.[0]){if("success"===c)throw new cN({message:"Call bundle with id: "+a+" not found."});throw new cu({message:"Transaction failed under call bundle id: "+a+"."})}return{id:b[0].transactionHash}}return h}catch{}}if("eth_sendTransaction"===n.method)return{id:await o.request({...n,params:[{...n.params?.[0],capabilities:{feeToken:p,merchantUrl:j},...g?{chainId:du.fromNumber(g)}:{}}]})};if("wallet_sendCalls"===n.method)return await o.request({method:"wallet_sendCalls",params:[{...n.params?.[0],capabilities:{...n.params?.[0]?.capabilities,feeToken:p,merchantUrl:j},...g?{chainId:du.fromNumber(g)}:{}}]});throw Error("Cannot execute for method: "+n.method)},async sendPreparedCalls(a){let{internal:c}=a,{store:e,request:f}=c;if("wallet_sendPreparedCalls"!==f.method)throw Error("Cannot send prepared calls for method: "+f.method);if(!d.supportsHeadless)return b.actions.sendPreparedCalls(a);let g=i(e),h=await g.request(f),j=h[0]?.id;if(!j)throw Error("id not found");return j},async signPersonalMessage(a){let{internal:b}=a,{store:c,request:d}=b;if("personal_sign"!==d.method)throw Error("Cannot sign personal message for method: "+d.method);let e=i(c);return await e.request(d)},async signTypedData(a){let{internal:b}=a,{store:c,request:d}=b;if("eth_signTypedData_v4"!==d.method)throw Error("Cannot sign typed data for method: "+d.method);let e=i(c);return await e.request(d)},async switchChain(a){let{internal:b}=a,{store:c,request:e}=b;if("wallet_switchEthereumChain"!==e.method)throw Error("Cannot switch chain for method: "+e.method);if(!d.supportsHeadless)return;let f=i(c);return await f.request(e)},async upgradeAccount(a){let{account:b,internal:c}=a,{store:d,request:e}=c;if("wallet_upgradeAccount"!==e.method)throw Error("Cannot upgrade account for method: "+e.method);let f=i(d);return await f.request(e),{account:b}},async verifyEmail(a){let{internal:b}=a,{request:c,store:d}=b;if("account_verifyEmail"!==c.method)throw Error("Cannot verify email for method: "+c.method);let e=i(d);return await e.request(c)}},config:a,name:"dialog",setup(a){let{internal:b}=a,{store:h}=b,i=d.setup({host:c,internal:b,theme:e,themeController:f}),j=h.subscribe(a=>a.requestQueue,a=>{for(let b of g)b(a);let b=a.map(a=>"pending"===a.status?a:void 0).filter(Boolean);i.syncRequests(b).catch(()=>{}),0===b.length&&i.close()});return()=>{j(),i.destroy()}}})}async function ip(a,b){let{config:{feeToken:c}}=a,{feeToken:d}=b??{};return d??c}function iq(a,{storage:b}){if(!a)return;let c=hI(a,void 0);return c&&b.setItem("porto.authUrl",c),c}function ir(a={}){if(!dd())return a.fallback??he({actions:im().actions,name:"relay"});let{redirectUri:b,requestOptions:c,...d}=a;return he({...io({...d,renderer:di({redirectUri:b,requestOptions:c})}),name:"reactNative"})}(ik||(ik={})).predicate=function(a){return b=>!!a&&(cU.validate(a)?cU.isEqual(b.address,a):"native"===a?b.address===ii.zeroAddress:a===b.symbol)},a.s([],53249);var is=a.i(53249);a.s(["_internal_types",0,is,"dialog",()=>io,"from",()=>he,"reactNative",()=>ir,"relay",()=>im],44703);var it=a.i(44703);let iu={get url(){return`file://${a.P("node_modules/porto/node_modules/zustand/esm/middleware.mjs")}`}},iv=a=>!!a.dispatchFromDevtools&&"function"==typeof a.dispatch,iw=new Map,ix=a=>{let b=iw.get(a);return b?Object.fromEntries(Object.entries(b.stores).map(([a,b])=>[a,b.getState()])):{}},iy=(a,b)=>{let c;try{c=JSON.parse(a)}catch(a){console.error("[zustand devtools middleware] Could not parse the received json",a)}void 0!==c&&b(c)},iz=a=>b=>{try{let c=a(b);if(c instanceof Promise)return c;return{then:a=>iz(a)(c),catch(a){return this}}}catch(a){return{then(a){return this},catch:b=>iz(b)(a)}}},iA=a=>{let b,c=new Set,d=(a,d)=>{let e="function"==typeof a?a(b):a;if(!Object.is(e,b)){let a=b;b=(null!=d?d:"object"!=typeof e||null===e)?e:Object.assign({},b,e),c.forEach(c=>c(b,a))}},e=()=>b,f={setState:d,getState:e,getInitialState:()=>g,subscribe:a=>(c.add(a),()=>c.delete(a))},g=b=a(d,e,f);return f};function iB(a){return new Promise((b,c)=>{a.oncomplete=a.onsuccess=()=>b(a.result),a.onabort=a.onerror=()=>c(a.error)})}function iC(a,b){let c;return(d,e)=>(()=>{if(c)return c;let d=indexedDB.open(a);return d.onupgradeneeded=()=>d.result.createObjectStore(b),(c=iB(d)).then(a=>{a.onclose=()=>c=void 0},()=>{}),c})().then(a=>e(a.transaction(b,d).objectStore(b)))}function iD(){return c||(c=iC("keyval-store","keyval")),c}function iE(a){return a}function iF(...a){return{async getItem(b){let c=(await Promise.allSettled(a.map(a=>a.getItem(b)))).find(a=>"fulfilled"===a.status&&null!==a.value);return c?.status!=="fulfilled"||null===c.value?null:c.value},async removeItem(b){await Promise.allSettled(a.map(a=>a.removeItem(b)))},async setItem(b,c){await Promise.allSettled(a.map(a=>a.setItem(b,c)))},sizeLimit:Math.min(...a.map(a=>a.sizeLimit)),storages:a}}function iG(){let a="u">typeof indexedDB?iC("porto","store"):void 0;return{async getItem(b){let c=await function(a,b=iD()){return b("readonly",b=>iB(b.get(a)))}(b,a);return null===c?null:c},async removeItem(b){await function(a,b=iD()){return b("readwrite",b=>(b.delete(a),iB(b.transaction)))}(b,a)},async setItem(b,c){await function(a,b,c=iD()){return c("readwrite",c=>(c.put(b,a),iB(c.transaction)))}(b,gf(c),a)},sizeLimit:0x3200000}}function iH(){return{async getItem(a){let b=window.localStorage.getItem(a);if(null===b)return null;try{return cm.parse(b)}catch{return null}},async removeItem(a){window.localStorage.removeItem(a)},async setItem(a,b){window.localStorage.setItem(a,cm.stringify(b))},sizeLimit:5242880}}function iI(){return{async getItem(a){let b=document.cookie.split("; ").find(b=>b.startsWith(`${a}=`));if(!b)return null;try{return cm.parse(b.substring(a.length+1))}catch{return null}},async removeItem(a){document.cookie=`${a}=;max-age=-1;path=/`},async setItem(a,b){document.cookie=`${a}=${cm.stringify(b)};path=/;samesite=None;secure;max-age=31536000`},sizeLimit:4096}}function iJ(){let a=new Map;return{getItem:b=>a.get(b)??null,removeItem(b){a.delete(b)},setItem(b,c){a.set(b,c)},sizeLimit:1/0}}a.s(["combine",()=>iF,"cookie",()=>iI,"from",()=>iE,"idb",()=>iG,"localStorage",()=>iH,"memory",()=>iJ],95001);let iK={announceProvider:!0,chains:ch,mode:im(),relay:(0,gM.http)(gN.prod.http),storage:iJ(),storageKey:"porto.store"};function iL(a={}){let b,c,d,e,f=a.chains??iK.chains,g=Object.fromEntries(f.map(b=>[b.id,a.transports?.[b.id]??(0,gM.http)()])),h={announceProvider:a.announceProvider??iK.announceProvider,authUrl:a.authUrl,chains:f,feeToken:a.feeToken,merchantUrl:a.merchantUrl,mode:a.mode??iK.mode,relay:a.relay??iK.relay,storage:a.storage??iK.storage,storageKey:a.storageKey??iK.storageKey,transports:g},i=(e=((a,b={})=>(c,d,e)=>{let f,{enabled:g,anonymousActionType:h,store:i,...j}=b;try{f=(null!=g?g:(iu.env?iu.env.MODE:void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(a){}if(!f)return a(c,d,e);let{connection:k,...l}=((a,b,c)=>{if(void 0===a)return{type:"untracked",connection:b.connect(c)};let d=iw.get(c.name);if(d)return{type:"tracked",store:a,...d};let e={connection:b.connect(c),stores:{}};return iw.set(c.name,e),{type:"tracked",store:a,...e}})(i,f,j),m=!0;e.setState=(a,b,f)=>{let g=c(a,b);if(!m)return g;let l=void 0===f?{type:h||(a=>{var b,c;if(!a)return;let d=a.split("\n"),e=d.findIndex(a=>a.includes("api.setState"));if(e<0)return;let f=(null==(b=d[e+1])?void 0:b.trim())||"";return null==(c=/.+ (.+) .+/.exec(f))?void 0:c[1]})(Error().stack)||"anonymous"}:"string"==typeof f?{type:f}:f;return void 0===i?null==k||k.send(l,d()):null==k||k.send({...l,type:`${i}/${l.type}`},{...ix(j.name),[i]:e.getState()}),g},e.devtools={cleanup:()=>{k&&"function"==typeof k.unsubscribe&&k.unsubscribe(),((a,b)=>{if(void 0===b)return;let c=iw.get(a);c&&(delete c.stores[b],0===Object.keys(c.stores).length&&iw.delete(a))})(j.name,i)}};let n=(...a)=>{let b=m;m=!1,c(...a),m=b},o=a(e.setState,d,e);if("untracked"===l.type?null==k||k.init(o):(l.stores[l.store]=e,null==k||k.init(Object.fromEntries(Object.entries(l.stores).map(([a,b])=>[a,a===l.store?o:b.getState()])))),iv(e)){let a=!1,b=e.dispatch;e.dispatch=(...c)=>{(iu.env?iu.env.MODE:void 0)==="production"||"__setState"!==c[0].type||a||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),a=!0),b(...c)}}return k.subscribe(a=>{var b;switch(a.type){case"ACTION":if("string"!=typeof a.payload)return void console.error("[zustand devtools middleware] Unsupported action format");return iy(a.payload,a=>{if("__setState"===a.type){if(void 0===i)return void n(a.state);1!==Object.keys(a.state).length&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);let b=a.state[i];return void(null==b||JSON.stringify(e.getState())!==JSON.stringify(b)&&n(b))}iv(e)&&e.dispatch(a)});case"DISPATCH":switch(a.payload.type){case"RESET":if(n(o),void 0===i)return null==k?void 0:k.init(e.getState());return null==k?void 0:k.init(ix(j.name));case"COMMIT":if(void 0===i){null==k||k.init(e.getState());break}return null==k?void 0:k.init(ix(j.name));case"ROLLBACK":return iy(a.state,a=>{if(void 0===i){n(a),null==k||k.init(e.getState());return}n(a[i]),null==k||k.init(ix(j.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return iy(a.state,a=>{void 0===i?n(a):JSON.stringify(e.getState())!==JSON.stringify(a[i])&&n(a[i])});case"IMPORT_STATE":{let{nextLiftedState:c}=a.payload,d=null==(b=c.computedStates.slice(-1)[0])?void 0:b.state;if(!d)return;void 0===i?n(d):n(d[i]),null==k||k.send(null,c);break}case"PAUSE_RECORDING":return m=!m}return}}),o})((b=a=>({accounts:[],chainIds:h.chains.map(a=>a.id),feeToken:h.feeToken,requestQueue:[]}),c={merge(a,b){let c=h.chains.find(b=>b.id===a.chainIds[0])?.id??h.chains[0].id,d=[c,...h.chains.map(a=>a.id).filter(a=>a!==c)];return{...b,...a,chainIds:d}},name:h.storageKey,partialize:a=>({accounts:a.accounts.map(a=>gf(a)),chainIds:a.chainIds}),storage:h.storage,version:5},d=(a,d,e)=>{let f,g={storage:function(a,b){let c;try{c=a()}catch(a){return}return{getItem:a=>{var b;let d=a=>null===a?null:JSON.parse(a,void 0),e=null!=(b=c.getItem(a))?b:null;return e instanceof Promise?e.then(d):d(e)},setItem:(a,b)=>c.setItem(a,JSON.stringify(b,void 0)),removeItem:a=>c.removeItem(a)}}(()=>window.localStorage),partialize:a=>a,version:0,merge:(a,b)=>({...b,...a}),...c},h=!1,i=0,j=new Set,k=new Set,l=g.storage;if(!l)return b((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${g.name}', the given storage is currently unavailable.`),a(...b)},d,e);let m=()=>{let a=g.partialize({...d()});return l.setItem(g.name,{state:a,version:g.version})},n=e.setState;e.setState=(a,b)=>(n(a,b),m());let o=b((...b)=>(a(...b),m()),d,e);e.getInitialState=()=>o;let p=()=>{var b,c;if(!l)return;let e=++i;h=!1,j.forEach(a=>{var b;return a(null!=(b=d())?b:o)});let n=(null==(c=g.onRehydrateStorage)?void 0:c.call(g,null!=(b=d())?b:o))||void 0;return iz(l.getItem.bind(l))(g.name).then(a=>{if(a)if("number"!=typeof a.version||a.version===g.version)return[!1,a.state];else{if(g.migrate){let b=g.migrate(a.state,a.version);return b instanceof Promise?b.then(a=>[!0,a]):[!0,b]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(b=>{var c;if(e!==i)return;let[h,j]=b;if(a(f=g.merge(j,null!=(c=d())?c:o),!0),h)return m()}).then(()=>{e===i&&(null==n||n(f,void 0),f=d(),h=!0,k.forEach(a=>a(f)))}).catch(a=>{e===i&&(null==n||n(void 0,a))})};return e.persist={setOptions:a=>{g={...g,...a},a.storage&&(l=a.storage)},clearStorage:()=>{null==l||l.removeItem(g.name)},getOptions:()=>g,rehydrate:()=>p(),hasHydrated:()=>h,onHydrate:a=>(j.add(a),()=>{j.delete(a)}),onFinishHydration:a=>(k.add(a),()=>{k.delete(a)})},g.skipHydration||p(),f||o},(a,b,c)=>{let e=c.subscribe;return c.subscribe=(a,b,d)=>{let f=a;if(b){let e=(null==d?void 0:d.equalityFn)||Object.is,g=a(c.getState());f=c=>{let d=a(c);if(!e(g,d)){let a=g;b(g=d,a)}},(null==d?void 0:d.fireImmediately)&&b(g,g)}return e(f)},d(a,b,c)})))?iA(e):iA,j=h.mode,k={config:h,getMode:()=>j,id:gh(),setMode:a=>(m?.(),j=a,m=a.setup({internal:k})),store:i},l=g4(k),m=null!==j?j.setup({internal:k}):()=>{};return{_internal:k,config:h,destroy(){m(),l._internal.destroy()},provider:l}}a.s(["create",()=>iL,"defaultConfig",0,iK],89446);var iM=a.i(89446);a.s([],47202),a.i(47202),a.i(7266),a.s(["account_getOnrampContactInfo",()=>a0,"account_onrampStatus",()=>a1,"account_resendVerifyPhone",()=>a2,"account_setEmail",()=>a3,"account_setPhone",()=>a4,"account_verifyEmail",()=>a5,"account_verifyPhone",()=>a6,"eth_accounts",()=>a8,"eth_chainId",()=>a9,"eth_requestAccounts",()=>ba,"eth_sendTransaction",()=>bb,"eth_signTypedData_v4",()=>bc,"personal_sign",()=>bm,"porto_ping",()=>bn,"wallet_addFunds",()=>a7,"wallet_connect",()=>bo,"wallet_disconnect",()=>bp,"wallet_getAccountVersion",()=>bg,"wallet_getAdmins",()=>bd,"wallet_getAssets",()=>bq,"wallet_getCallsHistory",()=>bs,"wallet_getCallsStatus",()=>br,"wallet_getCapabilities",()=>bt,"wallet_getKeys",()=>bu,"wallet_getPermissions",()=>bh,"wallet_grantAdmin",()=>be,"wallet_grantPermissions",()=>bf,"wallet_prepareCalls",()=>bv,"wallet_prepareUpgradeAccount",()=>bw,"wallet_revokeAdmin",()=>bi,"wallet_revokePermissions",()=>bj,"wallet_sendCalls",()=>bx,"wallet_sendPreparedCalls",()=>by,"wallet_switchEthereumChain",()=>bk,"wallet_upgradeAccount",()=>bl,"wallet_verifySignature",()=>bz],9291);var iN=a.i(9291),iO=a.i(95001);a.i(91942);var iP=a.i(64617);a.i(90200);var iQ=a.i(89280),iR=a.i(28913),iS=a.i(72608);let iT=new Map;async function iU(a){let{getSocket:b,keepAlive:c=!0,key:d="socket",reconnect:e=!0,url:f}=a,{interval:g=3e4}="object"==typeof c?c:{},{attempts:h=5,delay:i=2e3}="object"==typeof e?e:{},j=JSON.stringify({keepAlive:c,key:d,url:f,reconnect:e}),k=iT.get(j);if(k)return k;let l=0,{schedule:m}=(0,iQ.createBatchScheduler)({id:j,fn:async()=>{let a,d,m,n=new Map,o=new Map,p=!1;function q(){e&&l<h?p||(p=!0,l++,d?.close(),setTimeout(async()=>{await r().catch(console.error),p=!1},i)):(n.clear(),o.clear())}async function r(){let h=await b({onClose(){for(let a of n.values())a.onError?.(new fu.SocketClosedError({url:f}));for(let a of o.values())a.onError?.(new fu.SocketClosedError({url:f}));q()},onError(b){for(let c of(a=b,n.values()))c.onError?.(a);for(let b of o.values())b.onError?.(a);q()},onOpen(){a=void 0,l=0},onResponse(a){let b="eth_subscription"===a.method,c=b?a.params.subscription:a.id,d=b?o:n,e=d.get(c);e&&e.onResponse(a),b||d.delete(c)}});if(d=h,c&&(m&&clearInterval(m),m=setInterval(()=>d.ping?.(),g)),e&&o.size>0)for(let[a,{onResponse:b,body:c,onError:d}]of o.entries())c&&(o.delete(a),k?.request({body:c,onResponse:b,onError:d}));return h}return await r(),a=void 0,k={close(){m&&clearInterval(m),d.close(),iT.delete(j)},get socket(){return d},request({body:b,onError:c,onResponse:e}){a&&c&&c(a);let f=b.id??iS.idCache.take(),g=a=>{("number"!=typeof a.id||f===a.id)&&("eth_subscribe"===b.method&&"string"==typeof a.result&&o.set(a.result,{onResponse:g,onError:c,body:b}),e(a))};"eth_unsubscribe"===b.method&&o.delete(b.params?.[0]),n.set(f,{onResponse:g,onError:c});try{d.request({body:{jsonrpc:"2.0",id:f,...b}})}catch(a){c?.(a)}},requestAsync({body:a,timeout:b=1e4}){return(0,iR.withTimeout)(()=>new Promise((b,c)=>this.request({body:a,onError:c,onResponse:b})),{errorInstance:new fu.TimeoutError({body:a,url:f}),timeout:b})},requests:n,subscriptions:o,url:f},iT.set(j,k),[k]}}),[n,[o]]=await m();return o}async function iV(b,c={}){let{keepAlive:d,reconnect:e}=c;return iU({async getSocket({onClose:c,onError:d,onOpen:e,onResponse:f}){let g=await a.A(58160).then(a=>a.WebSocket),h=new g(b);function i(){h.removeEventListener("close",i),h.removeEventListener("message",j),h.removeEventListener("error",d),h.removeEventListener("open",e),c()}function j({data:a}){if("string"!=typeof a||0!==a.trim().length)try{let b=JSON.parse(a);f(b)}catch(a){d(a)}}h.addEventListener("close",i),h.addEventListener("message",j),h.addEventListener("error",d),h.addEventListener("open",e),h.readyState===g.CONNECTING&&await new Promise((a,b)=>{h&&(h.onopen=a,h.onerror=b)});let{close:k}=h;return Object.assign(h,{close(){k.bind(h)(),i()},ping(){try{if(h.readyState===h.CLOSED||h.readyState===h.CLOSING)throw new fu.WebSocketRequestError({url:h.url,cause:new fu.SocketClosedError({url:h.url})});h.send(JSON.stringify({jsonrpc:"2.0",id:null,method:"net_version",params:[]}))}catch(a){d(a)}},request({body:a}){if(h.readyState===h.CLOSED||h.readyState===h.CLOSING)throw new fu.WebSocketRequestError({body:a,url:h.url,cause:new fu.SocketClosedError({url:h.url})});return h.send(JSON.stringify(a))}})},keepAlive:d,reconnect:e,url:b})}async function iW(a){let b=await iV(a);return Object.assign(b.socket,{requests:b.requests,subscriptions:b.subscriptions})}function iX(a,b={}){let{keepAlive:c,key:d="webSocket",methods:e,name:f="WebSocket JSON-RPC",reconnect:g,retryDelay:h}=b;return({chain:i,retryCount:j,timeout:k})=>{let l=b.retryCount??j,m=k??b.timeout??1e4,n=a||i?.rpcUrls.default.webSocket?.[0],o={keepAlive:c,reconnect:g};if(!n)throw new iP.UrlRequiredError;return(0,gJ.createTransport)({key:d,methods:e,name:f,async request({method:a,params:b}){let c={method:a,params:b},d=await iV(n,o),{error:e,result:f}=await d.requestAsync({body:c,timeout:m});if(e)throw new fu.RpcRequestError({body:c,error:e,url:n});return f},retryCount:l,retryDelay:h,timeout:m,type:"webSocket"},{getSocket:()=>iW(n),getRpcClient:()=>iV(n,o),async subscribe({params:a,onData:b,onError:c}){let d=await iV(n,o),{result:e}=await new Promise((e,f)=>d.request({body:{method:"eth_subscribe",params:a},onError(a){f(a),c?.(a)},onResponse(a){if(a.error){f(a.error),c?.(a.error);return}"number"==typeof a.id?e(a):"eth_subscription"===a.method&&b(a.params)}}));return{subscriptionId:e,unsubscribe:async()=>new Promise(a=>d.request({body:{method:"eth_unsubscribe",params:[e]},onResponse:a}))}}})}}a.s(["fallback",()=>gK,"http",()=>gM.http,"relayProxy",()=>gO,"relayUrls",0,gN,"webSocket",()=>iX],28146);var iY=a.i(28146),iZ=a.i(46501);a.i(28085),a.s(["addFaucetFunds",()=>gm,"createAccount",()=>hT,"decorator",()=>h6,"getAssets",()=>gl,"getAuthorization",()=>gj,"getCallsHistory",()=>go,"getCallsStatus",()=>gn,"getCapabilities",()=>gk,"getKeys",()=>hU,"getOnrampContactInfo",()=>hV,"health",()=>gq,"onrampStatus",()=>hW,"prepareCalls",()=>hX,"prepareUpgradeAccount",()=>hY,"resendVerifyPhone",()=>hZ,"sendCalls",()=>h$,"sendPreparedCalls",()=>h0,"setEmail",()=>h1,"setPhone",()=>h2,"signCalls",()=>h_,"upgradeAccount",()=>h3,"verifyEmail",()=>h4,"verifyPhone",()=>h5,"verifySignature",()=>gD],25146);var i$=a.i(25146);a.s(["Account",0,iZ,"Chains",0,cl,"Dialog",0,dt,"Key",0,c7,"Messenger",0,hd,"Mode",0,it,"Porto",0,iM,"RelayActions",0,i$,"RpcSchema",0,iN,"Storage",0,iO,"Transport",0,iY,"from",()=>g4],50836)}];

//# sourceMappingURL=node_modules_porto_dist_index_13d92706.js.map