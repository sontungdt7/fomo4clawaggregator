{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/metta/Fomo4ClawAggregator/components/wallet-button.tsx"],"sourcesContent":["'use client'\n\nimport { useWallet } from '@/lib/wallet-context'\nimport { useState } from 'react'\n\nexport function WalletButton() {\n  const { address, isConnected, connect, disconnect, isConnecting } = useWallet()\n  const [showDropdown, setShowDropdown] = useState(false)\n\n  if (isConnected && address) {\n    const short = `${address.slice(0, 6)}...${address.slice(-4)}`\n    return (\n      <div className=\"relative\">\n        <button\n          type=\"button\"\n          onClick={() => setShowDropdown(!showDropdown)}\n          className=\"rounded-md border border-border bg-muted/50 px-3 py-1.5 text-sm font-medium hover:bg-muted\"\n        >\n          {short}\n        </button>\n        {showDropdown && (\n          <>\n            <div\n              className=\"fixed inset-0 z-10\"\n              onClick={() => setShowDropdown(false)}\n              aria-hidden\n            />\n            <div className=\"absolute right-0 top-full z-20 mt-1 min-w-[160px] rounded-md border border-border bg-card py-1 shadow-lg\">\n              <button\n                type=\"button\"\n                onClick={() => {\n                  disconnect()\n                  setShowDropdown(false)\n                }}\n                className=\"w-full px-4 py-2 text-left text-sm hover:bg-muted\"\n              >\n                Disconnect\n              </button>\n            </div>\n          </>\n        )}\n      </div>\n    )\n  }\n\n  return (\n    <button\n      type=\"button\"\n      onClick={() => connect()}\n      disabled={isConnecting}\n      className=\"rounded-md border border-primary bg-primary/20 px-3 py-1.5 text-sm font-medium text-primary hover:bg-primary/30 disabled:opacity-50\"\n    >\n      {isConnecting ? 'Connecting...' : 'Connect Wallet'}\n    </button>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKO,SAAS;IACd,MAAM,EAAE,OAAO,EAAE,WAAW,EAAE,OAAO,EAAE,UAAU,EAAE,YAAY,EAAE,GAAG,IAAA,sIAAS;IAC7E,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IAEjD,IAAI,eAAe,SAAS;QAC1B,MAAM,QAAQ,GAAG,QAAQ,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,QAAQ,KAAK,CAAC,CAAC,IAAI;QAC7D,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBACC,MAAK;oBACL,SAAS,IAAM,gBAAgB,CAAC;oBAChC,WAAU;8BAET;;;;;;gBAEF,8BACC;;sCACE,8OAAC;4BACC,WAAU;4BACV,SAAS,IAAM,gBAAgB;4BAC/B,aAAW;;;;;;sCAEb,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCACC,MAAK;gCACL,SAAS;oCACP;oCACA,gBAAgB;gCAClB;gCACA,WAAU;0CACX;;;;;;;;;;;;;;;;;;;IAQb;IAEA,qBACE,8OAAC;QACC,MAAK;QACL,SAAS,IAAM;QACf,UAAU;QACV,WAAU;kBAET,eAAe,kBAAkB;;;;;;AAGxC"}},
    {"offset": {"line": 89, "column": 0}, "map": {"version":3,"sources":["file:///home/metta/Fomo4ClawAggregator/components/header.tsx"],"sourcesContent":["import Link from 'next/link'\nimport { WalletButton } from './wallet-button'\n\nexport function Header() {\n  return (\n    <header className=\"border-b border-border\">\n      <div className=\"container mx-auto flex h-14 items-center justify-between px-4\">\n        <Link href=\"/\" className=\"text-lg font-bold tracking-tight\">\n          Fomo4Claw\n        </Link>\n        <nav className=\"flex items-center gap-6\">\n          <Link\n            href=\"/\"\n            className=\"text-sm text-muted-foreground transition-colors hover:text-foreground\"\n          >\n            Agent Coins\n          </Link>\n          <Link\n            href=\"/submissions\"\n            className=\"text-sm text-muted-foreground transition-colors hover:text-foreground\"\n          >\n            Vote\n          </Link>\n          <Link\n            href=\"/submit\"\n            className=\"text-sm text-muted-foreground transition-colors hover:text-foreground\"\n          >\n            Submit\n          </Link>\n          <Link\n            href=\"/admin\"\n            className=\"text-sm text-muted-foreground transition-colors hover:text-foreground\"\n          >\n            Admin\n          </Link>\n          <WalletButton />\n        </nav>\n      </div>\n    </header>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEO,SAAS;IACd,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC,uKAAI;oBAAC,MAAK;oBAAI,WAAU;8BAAmC;;;;;;8BAG5D,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,uKAAI;4BACH,MAAK;4BACL,WAAU;sCACX;;;;;;sCAGD,8OAAC,uKAAI;4BACH,MAAK;4BACL,WAAU;sCACX;;;;;;sCAGD,8OAAC,uKAAI;4BACH,MAAK;4BACL,WAAU;sCACX;;;;;;sCAGD,8OAAC,uKAAI;4BACH,MAAK;4BACL,WAAU;sCACX;;;;;;sCAGD,8OAAC,+IAAY;;;;;;;;;;;;;;;;;;;;;;AAKvB"}},
    {"offset": {"line": 180, "column": 0}, "map": {"version":3,"sources":["file:///home/metta/Fomo4ClawAggregator/components/token-image.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\n\ninterface TokenImageProps {\n  src?: string | null\n  alt: string\n  symbol: string\n  className?: string\n}\n\n/** Proxy DexScreener CMS images. Never proxy token-icons (they return 422). */\nfunction proxiedSrc(src: string): string {\n  if (src.includes('cdn.dexscreener.com/token-icons/')) return src\n  if (src.includes('cdn.dexscreener.com/cms/images')) {\n    return `/api/image?url=${encodeURIComponent(src)}`\n  }\n  return src\n}\n\n/**\n * Token icon with fallback to initials when image fails or is missing\n */\nexport function TokenImage({ src, alt, symbol, className = 'h-8 w-8 rounded-full object-cover' }: TokenImageProps) {\n  const [errored, setErrored] = useState(false)\n  const showImage = src && !errored\n\n  if (showImage) {\n    return (\n      <img\n        src={proxiedSrc(src)}\n        alt={alt}\n        className={className}\n        onError={() => setErrored(true)}\n      />\n    )\n  }\n\n  return (\n    <div\n      className={`flex items-center justify-center rounded-full bg-muted text-xs font-medium ${className}`}\n    >\n      {symbol.slice(0, 2)}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAWA,6EAA6E,GAC7E,SAAS,WAAW,GAAW;IAC7B,IAAI,IAAI,QAAQ,CAAC,qCAAqC,OAAO;IAC7D,IAAI,IAAI,QAAQ,CAAC,mCAAmC;QAClD,OAAO,CAAC,eAAe,EAAE,mBAAmB,MAAM;IACpD;IACA,OAAO;AACT;AAKO,SAAS,WAAW,EAAE,GAAG,EAAE,GAAG,EAAE,MAAM,EAAE,YAAY,mCAAmC,EAAmB;IAC/G,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,YAAY,OAAO,CAAC;IAE1B,IAAI,WAAW;QACb,qBACE,8OAAC;YACC,KAAK,WAAW;YAChB,KAAK;YACL,WAAW;YACX,SAAS,IAAM,WAAW;;;;;;IAGhC;IAEA,qBACE,8OAAC;QACC,WAAW,CAAC,2EAA2E,EAAE,WAAW;kBAEnG,OAAO,KAAK,CAAC,GAAG;;;;;;AAGvB"}},
    {"offset": {"line": 224, "column": 0}, "map": {"version":3,"sources":["file:///home/metta/Fomo4ClawAggregator/app/submissions/page.tsx"],"sourcesContent":["'use client'\n\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\nimport { useWallet } from '@/lib/wallet-context'\nimport { Header } from '@/components/header'\nimport { TokenImage } from '@/components/token-image'\nimport { ThumbsUp, ThumbsDown, ExternalLink } from 'lucide-react'\nimport { useState } from 'react'\n\ntype SubmissionItem = {\n  id: string\n  name: string\n  symbol: string\n  image?: string\n  dexScreenerUrl: string\n  voteCount: number\n  status: string\n  submittedBy: string\n  createdAt: string\n  myVote?: number\n}\n\nfunction SubmissionCard({\n  sub,\n  onVote,\n  userVote,\n  isConnected,\n}: {\n  sub: SubmissionItem\n  onVote: (id: string, dir: number) => void\n  userVote?: number\n  isConnected: boolean\n}) {\n  const [voting, setVoting] = useState(false)\n  const handleVote = async (dir: number) => {\n    setVoting(true)\n    await onVote(sub.id, dir)\n    setVoting(false)\n  }\n\n  return (\n    <div className=\"flex items-center justify-between gap-4 rounded-lg border border-border bg-card p-4\">\n      <div className=\"flex items-center gap-4\">\n        <TokenImage\n          src={sub.image}\n          alt={sub.name}\n          symbol={sub.symbol}\n          className=\"h-12 w-12 rounded-full object-cover\"\n        />\n        <div>\n          <div className=\"flex items-center gap-2\">\n            <span className=\"font-semibold\">{sub.name}</span>\n            <span className=\"rounded bg-muted px-1.5 py-0.5 text-xs\">{sub.symbol}</span>\n            <span className=\"text-xs text-muted-foreground capitalize\">({sub.status})</span>\n          </div>\n          <div className=\"mt-1 flex items-center gap-2 text-xs text-muted-foreground\">\n            <span>by {sub.submittedBy.slice(0, 8)}...</span>\n            <span>â€¢</span>\n            <span>{new Date(sub.createdAt).toLocaleDateString()}</span>\n          </div>\n        </div>\n      </div>\n      <div className=\"flex items-center gap-4\">\n        <div className=\"flex items-center gap-2\">\n          <button\n            type=\"button\"\n            onClick={() => handleVote(1)}\n            disabled={voting || !isConnected}\n            className={`rounded p-2 transition-colors ${\n              userVote === 1 ? 'bg-emerald-500/30 text-emerald-400' : 'hover:bg-muted text-muted-foreground'\n            }`}\n            title=\"Upvote\"\n          >\n            <ThumbsUp className=\"h-4 w-4\" />\n          </button>\n          <span className=\"min-w-[2rem] text-center font-medium tabular-nums\">{sub.voteCount}</span>\n          <button\n            type=\"button\"\n            onClick={() => handleVote(-1)}\n            disabled={voting || !isConnected}\n            className={`rounded p-2 transition-colors ${\n              userVote === -1 ? 'bg-rose-500/30 text-rose-400' : 'hover:bg-muted text-muted-foreground'\n            }`}\n            title=\"Downvote\"\n          >\n            <ThumbsDown className=\"h-4 w-4\" />\n          </button>\n        </div>\n        <a\n          href={sub.dexScreenerUrl}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"rounded p-2 text-muted-foreground hover:bg-muted hover:text-foreground\"\n        >\n          <ExternalLink className=\"h-4 w-4\" />\n        </a>\n      </div>\n    </div>\n  )\n}\n\nexport default function SubmissionsPage() {\n  const { address, isConnected } = useWallet()\n  const qc = useQueryClient()\n\n  const { data, isLoading } = useQuery({\n    queryKey: ['submissions', address],\n    queryFn: async () => {\n      const params = new URLSearchParams({ status: 'pending' })\n      if (address) params.set('wallet', address)\n      const res = await fetch(`/api/submissions?${params}`)\n      if (!res.ok) throw new Error('Failed to fetch')\n      return res.json()\n    },\n  })\n\n  const voteMutation = useMutation({\n    mutationFn: async ({ id, direction }: { id: string; direction: number }) => {\n      const res = await fetch(`/api/submissions/${id}/vote`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ walletAddress: address, direction }),\n      })\n      if (!res.ok) {\n        const err = await res.json()\n        throw new Error(err.error ?? 'Vote failed')\n      }\n      return res.json()\n    },\n    onSuccess: () => qc.invalidateQueries({ queryKey: ['submissions'] }),\n  })\n\n  const submissions: SubmissionItem[] = data?.submissions ?? []\n  const handleVote = (id: string, dir: number) => voteMutation.mutateAsync({ id, direction: dir })\n\n  return (\n    <div className=\"min-h-screen flex flex-col\">\n      <Header />\n      <main className=\"container mx-auto flex-1 px-4 py-8\">\n        <h1 className=\"mb-2 text-2xl font-bold\">Submit & Vote</h1>\n        <p className=\"mb-8 text-sm text-muted-foreground\">\n          Pending submissions. Upvote pairs you want listed. Admin approves high-vote pairs.\n        </p>\n\n        {!isConnected && (\n          <div className=\"mb-6 rounded-lg border border-amber-500/50 bg-amber-500/10 px-4 py-3 text-sm\">\n            Connect your wallet to vote.\n          </div>\n        )}\n\n        {isLoading ? (\n          <div className=\"space-y-4\">\n            {[1, 2, 3].map((i) => (\n              <div key={i} className=\"h-24 animate-pulse rounded-lg border border-border bg-card\" />\n            ))}\n          </div>\n        ) : submissions.length === 0 ? (\n          <p className=\"text-muted-foreground\">No pending submissions. Submit one from the Submit page.</p>\n        ) : (\n          <div className=\"space-y-4\">\n            {submissions.map((sub) => (\n              <SubmissionCard\n                key={sub.id}\n                sub={sub}\n                onVote={handleVote}\n                userVote={sub.myVote}\n                isConnected={!!isConnected}\n              />\n            ))}\n          </div>\n        )}\n      </main>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}