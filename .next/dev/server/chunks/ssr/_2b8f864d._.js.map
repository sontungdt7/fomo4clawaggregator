{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/metta/Fomo4ClawAggregator/components/wallet-button.tsx"],"sourcesContent":["'use client'\n\nimport { useWallet } from '@/lib/wallet-context'\nimport { useState } from 'react'\n\nexport function WalletButton() {\n  const { address, isConnected, connect, disconnect, isConnecting } = useWallet()\n  const [showDropdown, setShowDropdown] = useState(false)\n\n  if (isConnected && address) {\n    const short = `${address.slice(0, 6)}...${address.slice(-4)}`\n    return (\n      <div className=\"relative\">\n        <button\n          type=\"button\"\n          onClick={() => setShowDropdown(!showDropdown)}\n          className=\"rounded-md border border-border bg-muted/50 px-3 py-1.5 text-sm font-medium hover:bg-muted\"\n        >\n          {short}\n        </button>\n        {showDropdown && (\n          <>\n            <div\n              className=\"fixed inset-0 z-10\"\n              onClick={() => setShowDropdown(false)}\n              aria-hidden\n            />\n            <div className=\"absolute right-0 top-full z-20 mt-1 min-w-[160px] rounded-md border border-border bg-card py-1 shadow-lg\">\n              <button\n                type=\"button\"\n                onClick={() => {\n                  disconnect()\n                  setShowDropdown(false)\n                }}\n                className=\"w-full px-4 py-2 text-left text-sm hover:bg-muted\"\n              >\n                Disconnect\n              </button>\n            </div>\n          </>\n        )}\n      </div>\n    )\n  }\n\n  return (\n    <button\n      type=\"button\"\n      onClick={() => connect()}\n      disabled={isConnecting}\n      className=\"rounded-md border border-primary bg-primary/20 px-3 py-1.5 text-sm font-medium text-primary hover:bg-primary/30 disabled:opacity-50\"\n    >\n      {isConnecting ? 'Connecting...' : 'Connect Wallet'}\n    </button>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKO,SAAS;IACd,MAAM,EAAE,OAAO,EAAE,WAAW,EAAE,OAAO,EAAE,UAAU,EAAE,YAAY,EAAE,GAAG,IAAA,sIAAS;IAC7E,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IAEjD,IAAI,eAAe,SAAS;QAC1B,MAAM,QAAQ,GAAG,QAAQ,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,QAAQ,KAAK,CAAC,CAAC,IAAI;QAC7D,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBACC,MAAK;oBACL,SAAS,IAAM,gBAAgB,CAAC;oBAChC,WAAU;8BAET;;;;;;gBAEF,8BACC;;sCACE,8OAAC;4BACC,WAAU;4BACV,SAAS,IAAM,gBAAgB;4BAC/B,aAAW;;;;;;sCAEb,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCACC,MAAK;gCACL,SAAS;oCACP;oCACA,gBAAgB;gCAClB;gCACA,WAAU;0CACX;;;;;;;;;;;;;;;;;;;IAQb;IAEA,qBACE,8OAAC;QACC,MAAK;QACL,SAAS,IAAM;QACf,UAAU;QACV,WAAU;kBAET,eAAe,kBAAkB;;;;;;AAGxC"}},
    {"offset": {"line": 89, "column": 0}, "map": {"version":3,"sources":["file:///home/metta/Fomo4ClawAggregator/components/header.tsx"],"sourcesContent":["import Link from 'next/link'\nimport { WalletButton } from './wallet-button'\n\nexport function Header() {\n  return (\n    <header className=\"border-b border-border\">\n      <div className=\"container mx-auto flex h-14 items-center justify-between px-4\">\n        <Link href=\"/\" className=\"text-lg font-bold tracking-tight\">\n          Fomo4Claw\n        </Link>\n        <nav className=\"flex items-center gap-6\">\n          <Link\n            href=\"/\"\n            className=\"text-sm text-muted-foreground transition-colors hover:text-foreground\"\n          >\n            Agent Coins\n          </Link>\n          <Link\n            href=\"/submissions\"\n            className=\"text-sm text-muted-foreground transition-colors hover:text-foreground\"\n          >\n            Vote\n          </Link>\n          <Link\n            href=\"/submit\"\n            className=\"text-sm text-muted-foreground transition-colors hover:text-foreground\"\n          >\n            Submit\n          </Link>\n          <Link\n            href=\"/admin\"\n            className=\"text-sm text-muted-foreground transition-colors hover:text-foreground\"\n          >\n            Admin\n          </Link>\n          <WalletButton />\n        </nav>\n      </div>\n    </header>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEO,SAAS;IACd,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC,uKAAI;oBAAC,MAAK;oBAAI,WAAU;8BAAmC;;;;;;8BAG5D,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,uKAAI;4BACH,MAAK;4BACL,WAAU;sCACX;;;;;;sCAGD,8OAAC,uKAAI;4BACH,MAAK;4BACL,WAAU;sCACX;;;;;;sCAGD,8OAAC,uKAAI;4BACH,MAAK;4BACL,WAAU;sCACX;;;;;;sCAGD,8OAAC,uKAAI;4BACH,MAAK;4BACL,WAAU;sCACX;;;;;;sCAGD,8OAAC,+IAAY;;;;;;;;;;;;;;;;;;;;;;AAKvB"}},
    {"offset": {"line": 180, "column": 0}, "map": {"version":3,"sources":["file:///home/metta/Fomo4ClawAggregator/components/token-image.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\n\ninterface TokenImageProps {\n  src?: string | null\n  alt: string\n  symbol: string\n  className?: string\n}\n\n/** Proxy DexScreener CMS images. Never proxy token-icons (they return 422). */\nfunction proxiedSrc(src: string): string {\n  if (src.includes('cdn.dexscreener.com/token-icons/')) return src\n  if (src.includes('cdn.dexscreener.com/cms/images')) {\n    return `/api/image?url=${encodeURIComponent(src)}`\n  }\n  return src\n}\n\n/**\n * Token icon with fallback to initials when image fails or is missing\n */\nexport function TokenImage({ src, alt, symbol, className = 'h-8 w-8 rounded-full object-cover' }: TokenImageProps) {\n  const [errored, setErrored] = useState(false)\n  const showImage = src && !errored\n\n  if (showImage) {\n    return (\n      <img\n        src={proxiedSrc(src)}\n        alt={alt}\n        className={className}\n        onError={() => setErrored(true)}\n      />\n    )\n  }\n\n  return (\n    <div\n      className={`flex items-center justify-center rounded-full bg-muted text-xs font-medium ${className}`}\n    >\n      {symbol.slice(0, 2)}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAWA,6EAA6E,GAC7E,SAAS,WAAW,GAAW;IAC7B,IAAI,IAAI,QAAQ,CAAC,qCAAqC,OAAO;IAC7D,IAAI,IAAI,QAAQ,CAAC,mCAAmC;QAClD,OAAO,CAAC,eAAe,EAAE,mBAAmB,MAAM;IACpD;IACA,OAAO;AACT;AAKO,SAAS,WAAW,EAAE,GAAG,EAAE,GAAG,EAAE,MAAM,EAAE,YAAY,mCAAmC,EAAmB;IAC/G,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,YAAY,OAAO,CAAC;IAE1B,IAAI,WAAW;QACb,qBACE,8OAAC;YACC,KAAK,WAAW;YAChB,KAAK;YACL,WAAW;YACX,SAAS,IAAM,WAAW;;;;;;IAGhC;IAEA,qBACE,8OAAC;QACC,WAAW,CAAC,2EAA2E,EAAE,WAAW;kBAEnG,OAAO,KAAK,CAAC,GAAG;;;;;;AAGvB"}},
    {"offset": {"line": 224, "column": 0}, "map": {"version":3,"sources":["file:///home/metta/Fomo4ClawAggregator/app/admin/page.tsx"],"sourcesContent":["'use client'\n\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\nimport { useWallet } from '@/lib/wallet-context'\nimport { Header } from '@/components/header'\nimport { Check, X, ExternalLink } from 'lucide-react'\nimport { TokenImage } from '@/components/token-image'\n\nexport default function AdminPage() {\n  const { address, isConnected } = useWallet()\n  const qc = useQueryClient()\n\n  const { data: adminData } = useQuery({\n    queryKey: ['admin', address],\n    queryFn: async () => {\n      const res = await fetch(`/api/admin/me?address=${address}`)\n      const data = await res.json()\n      return data\n    },\n    enabled: !!address,\n  })\n  const admin = isConnected && address && adminData?.isAdmin\n\n  const { data, isLoading } = useQuery({\n    queryKey: ['submissions', 'pending'],\n    queryFn: async () => {\n      const res = await fetch('/api/submissions?status=pending')\n      if (!res.ok) throw new Error('Failed to fetch')\n      return res.json()\n    },\n    enabled: admin,\n  })\n\n  const approveMutation = useMutation({\n    mutationFn: async ({\n      id,\n      action,\n    }: {\n      id: string\n      action: 'approve' | 'reject'\n    }) => {\n      const res = await fetch(`/api/admin/submissions/${id}/approve`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ walletAddress: address, action }),\n      })\n      if (!res.ok) {\n        const err = await res.json()\n        throw new Error(err.error ?? 'Failed')\n      }\n      return res.json()\n    },\n    onSuccess: () => {\n      qc.invalidateQueries({ queryKey: ['submissions'] })\n    },\n  })\n\n  const submissions = (data?.submissions ?? []) as Array<{\n    id: string\n    name: string\n    symbol: string\n    quoteSymbol?: string\n    pairLabel?: string\n    image?: string\n    dexScreenerUrl: string\n    voteCount: number\n    submittedBy: string\n    createdAt: string\n  }>\n\n  if (!isConnected) {\n    return (\n      <div className=\"min-h-screen flex flex-col\">\n        <Header />\n        <main className=\"container mx-auto flex-1 px-4 py-12\">\n          <p className=\"text-muted-foreground\">Connect your wallet to access admin.</p>\n        </main>\n      </div>\n    )\n  }\n\n  if (!admin) {\n    return (\n      <div className=\"min-h-screen flex flex-col\">\n        <Header />\n        <main className=\"container mx-auto flex-1 px-4 py-12\">\n          <p className=\"text-rose-400\">You are not an admin.</p>\n        </main>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen flex flex-col\">\n      <Header />\n      <main className=\"container mx-auto flex-1 px-4 py-8\">\n        <h1 className=\"mb-2 text-2xl font-bold\">Admin Approvals</h1>\n        <p className=\"mb-8 text-sm text-muted-foreground\">\n          Approve or reject pending submissions. Approved pairs appear on the main listing.\n        </p>\n\n        {isLoading ? (\n          <div className=\"space-y-4\">\n            {[1, 2, 3].map((i) => (\n              <div key={i} className=\"h-24 animate-pulse rounded-lg border border-border bg-card\" />\n            ))}\n          </div>\n        ) : submissions.length === 0 ? (\n          <p className=\"text-muted-foreground\">No pending submissions.</p>\n        ) : (\n          <div className=\"space-y-4\">\n            {submissions.map((sub) => (\n              <div\n                key={sub.id}\n                className=\"flex items-center justify-between gap-4 rounded-lg border border-border bg-card p-4\"\n              >\n                <div className=\"flex items-center gap-4\">\n                  <TokenImage\n                    src={sub.image}\n                    alt={sub.name}\n                    symbol={sub.symbol}\n                    className=\"h-12 w-12 rounded-full object-cover\"\n                  />\n                  <div>\n                    <div className=\"flex items-center gap-2\">\n                      {sub.pairLabel && (\n                        <span className=\"rounded border border-border px-1.5 py-0.5 text-[10px] uppercase text-muted-foreground\">\n                          {sub.pairLabel}\n                        </span>\n                      )}\n                      <span className=\"font-semibold\">\n                        {sub.quoteSymbol ? `${sub.symbol} / ${sub.quoteSymbol}` : sub.symbol}\n                      </span>\n                      <span className=\"rounded bg-muted px-1.5 py-0.5 text-xs\">{sub.name}</span>\n                      <span className=\"text-sm text-emerald-400\">↑ {sub.voteCount}</span>\n                    </div>\n                    <div className=\"mt-1 text-xs text-muted-foreground\">\n                      by {sub.submittedBy.slice(0, 10)}... • {new Date(sub.createdAt).toLocaleDateString()}\n                    </div>\n                  </div>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <a\n                    href={sub.dexScreenerUrl}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    className=\"rounded p-2 text-muted-foreground hover:bg-muted hover:text-foreground\"\n                  >\n                    <ExternalLink className=\"h-4 w-4\" />\n                  </a>\n                  <button\n                    type=\"button\"\n                    onClick={() => approveMutation.mutate({ id: sub.id, action: 'approve' })}\n                    disabled={approveMutation.isPending}\n                    className=\"flex items-center gap-1 rounded-md bg-emerald-500/20 px-3 py-1.5 text-sm font-medium text-emerald-400 hover:bg-emerald-500/30 disabled:opacity-50\"\n                  >\n                    <Check className=\"h-4 w-4\" />\n                    Approve\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={() => approveMutation.mutate({ id: sub.id, action: 'reject' })}\n                    disabled={approveMutation.isPending}\n                    className=\"flex items-center gap-1 rounded-md bg-rose-500/20 px-3 py-1.5 text-sm font-medium text-rose-400 hover:bg-rose-500/30 disabled:opacity-50\"\n                  >\n                    <X className=\"h-4 w-4\" />\n                    Reject\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </main>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}